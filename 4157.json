{"post_stream":{"posts":[{"id":20688,"name":"Wiki Content","username":"wiki","avatar_template":"/user_avatar/forum.snapcraft.io/wiki/{size}/425_2.png","created_at":"2018-02-22T23:58:22.234Z","cooked":"\u003cp\u003e\u003ca href=\"/t/snapcraft-overview/8940\"\u003eSnapcraft\u003c/a\u003e, the snap-building tool, is designed to use \u003ca href=\"https://linuxcontainers.org/lxd/introduction/\" rel=\"noopener nofollow ugc\"\u003eLXD\u003c/a\u003e or \u003ca href=\"https://multipass.run/docs\" rel=\"noopener nofollow ugc\"\u003eMultipass\u003c/a\u003e to both simplify the build process and to confine the build environment.\u003c/p\u003e\n\u003cp\u003eLXD and Multipass are referred to as \u003cstrong\u003eproviders\u003c/strong\u003e because they \u003cem\u003eprovide\u003c/em\u003e snapcraft with build environments.\u003c/p\u003e\n\u003ch2\u003eChoosing a provider\u003c/h2\u003e\n\u003cp\u003eSnapcraft supports the providers LXD and Multipass.  There are a few ways to declare which provider to use.\u003c/p\u003e\n\u003ch3\u003ebase: core22\u003c/h3\u003e\n\u003cp\u003eThere are 3 ways to choose the provider.  The list below is ordered by priority, so a provider specified by option \u003cspan class=\"hashtag\"\u003e#1\u003c/span\u003e takes priority over the other ways to choose a provider.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003ecommand-line argument \u003ccode\u003e--use-lxd\u003c/code\u003e\n\u003c/li\u003e\n\u003cli\u003eenvironmental variable \u003ccode\u003eSNAPCRAFT_BUILD_ENVIRONMENT=\u0026lt;provider-name\u0026gt;\u003c/code\u003e\n\u003c/li\u003e\n\u003cli\u003esnap configuration \u003ccode\u003esnap set snapcraft provider=\u0026lt;provider-name\u0026gt;\u003c/code\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eIf a provider is not specified, then LXD is used as the default on Linux.  On other systems (macOS and Windows), Multipass is used as the default.\u003c/p\u003e\n\u003ch3\u003ebase: core20 | core18 | core\u003c/h3\u003e\n\u003cp\u003eThere are 4 ways to choose the provider for legacy snaps.  The list below is ordered by priority, so a provider specified by option \u003cspan class=\"hashtag\"\u003e#1\u003c/span\u003e takes priority over the other ways to choose a provider.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003ecommand-line argument \u003ccode\u003e--provider=\u0026lt;provider-name\u0026gt;\u003c/code\u003e\n\u003c/li\u003e\n\u003cli\u003eenvironmental variable \u003ccode\u003eSNAPCRAFT_BUILD_ENVIRONMENT=\u0026lt;provider-name\u0026gt;\u003c/code\u003e\n\u003c/li\u003e\n\u003cli\u003ecommand-line argument \u003ccode\u003e--use-lxd\u003c/code\u003e\n\u003c/li\u003e\n\u003cli\u003esnap configuration \u003ccode\u003esnap set snapcraft provider=\u0026lt;provider-name\u0026gt;\u003c/code\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eIf a provider is not specified, then Multipass is used as the default.\u003c/p\u003e\n\u003ch3\u003eSnap configuration\u003c/h3\u003e\n\u003cp\u003eThe snap configuration option mentioned in the sections above is a \u003ca href=\"https://snapcraft.io/docs/configuration-in-snaps\" rel=\"noopener nofollow ugc\"\u003efeature of snapd\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eTo set the provider, run \u003ccode\u003esnap set snapcraft provider=\u0026lt;provider-name\u0026gt;\u003c/code\u003e where \u003ccode\u003e\u0026lt;provider-name\u0026gt;\u003c/code\u003e can be \u003ccode\u003elxd\u003c/code\u003e or \u003ccode\u003emultipass\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eTo check the provider, run \u003ccode\u003esnap get snapcraft provider\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eTo unset the provider, run \u003ccode\u003esnap unset snapcraft provider\u003c/code\u003e.\u003c/p\u003e\n\u003ch2\u003eInstall LXD\u003c/h2\u003e\n\u003cp\u003eIf LXD is not installed, snapcraft will prompt the user if they’d like to automatically installed and configure LXD.  If LXD is not installed while running in a non-interactive mode (running from a CI/CD pipeline), snapcraft will log an error and exit.\u003c/p\u003e\n\u003cp\u003eRecent non-desktop versions of Ubuntu install LXD by default - you can check whether it is installed with the following command:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ lxd version\n5.6\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eA brief overview of installation and configuration is listed below.  For more details and information, see the \u003ca href=\"https://linuxcontainers.org/lxd/getting-started-cli/\" rel=\"noopener nofollow ugc\"\u003eLXD docs\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eLXD can be installed via its snap:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ sudo snap install lxd\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNext, initialise LXD with the following command and accept all the default options unless you have specific requirements:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ sudo lxd init\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eⓘ  If the system you are installing LXD onto is using a network with a \u003ccode\u003e10.x.x.x\u003c/code\u003e subnet then network create may fail. Step through the following to resolve this.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\nManually create a network on a 10.x.x.x subnet\u003c/summary\u003e\n\u003cp\u003eIf you try to run \u003ccode\u003elxd init\u003c/code\u003e on a system that is connected to a network with a \u003ccode\u003e10.x.x.x\u003c/code\u003e subnet, then the final step of the init* may fail with the following error:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eError: Failed to create network 'lxdbr0': Failed to automatically find an unused IPv4 subnet, manual configuration required\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTo resolve this issue, you must manually create the network with the following command:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ sudo lxc network create lxdbr0 ipv4.address=10.0.3.1/24 ipv4.nat=true\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou can then re-run \u003ccode\u003elxd init\u003c/code\u003e. When you are prompted to create a new network bridge you must respond \u003ccode\u003eno\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eWould you like to create a new network bridge (yes/no) [default=yes]? no\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/details\u003e\n\u003ch3\u003eGroup permissions\u003c/h3\u003e\n\u003cp\u003eIf you want to build snaps as a non-root user, which is advised, then you need to add your user account to the \u003ccode\u003elxd\u003c/code\u003e group:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ sudo usermod -a -G lxd ${USER}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou now  need to either restart your session, reboot your computer, or use \u003ccode\u003enewgrp\u003c/code\u003e to acquire the new group assignment:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ newgrp lxd\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eⓘ  The \u003cem\u003enewgrp\u003c/em\u003e command will start a new sub-shell (shell within a shell) with the new \u003ccode\u003elxd\u003c/code\u003e group assigned.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3\u003eCached LXD environment\u003c/h3\u003e\n\u003cp\u003eSnapcraft uses caching to speed up build times with LXD.  On the first run, snapcraft creates a generic build environment for LXD and saves it locally as a LXD image.\u003c/p\u003e\n\u003cp\u003eWhen building a new snap or after running \u003ccode\u003esnapcraft clean\u003c/code\u003e, this cached image is used as a starting point for the new environment.\u003c/p\u003e\n\u003ch2\u003eInstall Multipass\u003c/h2\u003e\n\u003cp\u003eIf Multipass is not installed, snapcraft will prompt the user if they’d like to automatically installed and configure Multipass. If Multipass is not installed while running in a non-interactive mode (running from a CI/CD pipeline), snapcraft will log an error and exit.\u003c/p\u003e\n\u003cp\u003eMultipass can be installed via it’s snap:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ sudo snap install multipass\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWith Multipass, the default virtual machine is assigned 2 CPUs and 2GB of memory.  If you have the hardware capabilities, use the following environment variables to modify CPU and memory allocation to improve performance:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ export SNAPCRAFT_BUILD_ENVIRONMENT_CPU=8 \n$ export SNAPCRAFT_BUILD_ENVIRONMENT_MEMORY=16G\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eⓘ These environmental variables are not supported when building a \u003ccode\u003ecore22\u003c/code\u003e snap.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003eInteracting with instances\u003c/h2\u003e\n\u003ch3\u003eEntering the build environment\u003c/h3\u003e\n\u003cp\u003eDebugging a problematic build can require entering the build environment.  Snapcraft provides the commands \u003ccode\u003e--shell\u003c/code\u003e, \u003ccode\u003e--shell-after\u003c/code\u003e, and \u003ccode\u003e--debug\u003c/code\u003e to allow the developer to quickly enter a shell inside the build environment.  See \u003ca href=\"https://snapcraft.io/docs/iterating-over-a-build\" rel=\"noopener nofollow ugc\"\u003eIterating over a build\u003c/a\u003e for more details.\u003c/p\u003e\n\u003ch3\u003eCleaning the build environment\u003c/h3\u003e\n\u003cp\u003eBuild environments are re-used for every build of the same snap.  If the snapcraft.yaml or source is changed significantly, the environment may need to be cleaned.\u003c/p\u003e\n\u003cp\u003eA build environment can be cleaned with \u003ccode\u003esnapcraft clean\u003c/code\u003e.  This deletes the environment.  The next time snapcraft runs, a new environment will be used.\u003c/p\u003e\n\u003cp\u003eRunning \u003ccode\u003esnapcraft clean \u0026lt;part-name\u0026gt;\u003c/code\u003e only cleans directories for a particular part.  The environment will still be reused.\u003c/p\u003e\n\u003ch2\u003eBuilding manually\u003c/h2\u003e\n\u003cp\u003eThese instructions are intended to be only a general guide. For further details on using LXD as a container environment, see the \u003ca href=\"https://linuxcontainers.org/lxd/\" rel=\"noopener nofollow ugc\"\u003eLXD Documentation\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eFirst, create and run a new container based on Ubuntu 22.04 LTS. Our example calls this container \u003cem\u003emysnapcraft\u003c/em\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ lxc launch ubuntu:22.04 mysnapcraft\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eCopy your snap’s \u003cem\u003esnapcraft.yaml\u003c/em\u003e to this new container:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ lxc file push snap/snapcraft.yaml mysnapcraft/home/ubuntu/\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow open an interactive shell within your container and install \u003cem\u003esnapcraft\u003c/em\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ lxc exec mysnapcraft -- /bin/bash \n$ snap install snapcraft --classic\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFinally, staying within the container, start the build by running snapcraft with the \u003ccode\u003e--destructive-mode\u003c/code\u003e argument. This forces snapcraft to build the snap directly within the current host (the \u003cem\u003emysnapcraft\u003c/em\u003e LXD container):\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ cd /home/ubuntu\n$ snapcraft --destructive-mode\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou can troubleshoot the build process just as you would on the native machine. The container is persistent and will remain until stopped and deleted.\u003c/p\u003e\n\u003cp\u003eWith the build complete, you can copy your new snap to your native environment with the following command:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ lxc file pull mysnapcraft/home/ubuntu/mysnap.snap .\n\u003c/code\u003e\u003c/pre\u003e","post_number":1,"post_type":1,"updated_at":"2022-11-21T17:21:16.295Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2166,"reads":235,"readers_count":234,"score":10894.0,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Wiki Content","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":51,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://linuxcontainers.org/lxd/introduction/","internal":false,"reflection":false,"clicks":5},{"url":"https://forum.snapcraft.io/t/snapcraft-overview/8940","internal":true,"reflection":false,"title":"Snapcraft overview","clicks":4},{"url":"https://linuxcontainers.org/lxd/getting-started-cli/","internal":false,"reflection":false,"clicks":2},{"url":"https://multipass.run/docs","internal":false,"reflection":false,"title":"Multipass Documentation | Multipass documentation","clicks":0},{"url":"https://snapcraft.io/docs/configuration-in-snaps","internal":false,"reflection":false,"clicks":0},{"url":"https://linuxcontainers.org/lxd/","internal":false,"reflection":false,"clicks":0},{"url":"https://snapcraft.io/docs/iterating-over-a-build","internal":false,"reflection":false,"clicks":0},{"url":"https://forum.snapcraft.io/t/html5-game-without-electron/5003/7","internal":true,"reflection":true,"title":"HTML5 game without electron","clicks":1},{"url":"https://forum.snapcraft.io/t/improving-the-documentation/4156/5","internal":true,"reflection":true,"title":"Improving the documentation","clicks":1},{"url":"https://forum.snapcraft.io/t/error-downloading-stage-packages-for-part-desktop-qt5-the-package-appmenu-qt5-was-not-found/4275/6","internal":true,"reflection":true,"title":"Error downloading stage packages for part 'desktop-qt5': The package 'appmenu-qt5' was not found","clicks":0},{"url":"https://forum.snapcraft.io/t/release-notes-snapcraft-7/30464","internal":true,"reflection":true,"title":"Release notes: Snapcraft 7","clicks":0},{"url":"https://forum.snapcraft.io/t/snap-documentation/11127","internal":true,"reflection":true,"title":"Snap documentation","clicks":0},{"url":"https://forum.snapcraft.io/t/how-to-create-a-lxd-container-for-snap-development/4658/2","internal":true,"reflection":true,"title":"How to create a LXD container for snap development","clicks":0},{"url":"https://forum.snapcraft.io/t/upgrading-snapcraft/11658","internal":true,"reflection":true,"title":"Upgrading snapcraft","clicks":0},{"url":"https://forum.snapcraft.io/t/build-options/14250","internal":true,"reflection":true,"title":"Build options","clicks":0},{"url":"https://forum.snapcraft.io/t/glossary/14612","internal":true,"reflection":true,"title":"Glossary","clicks":0},{"url":"https://forum.snapcraft.io/t/release-notes-snapcraft-7-2-0/32285","internal":true,"reflection":true,"title":"Release notes: Snapcraft 7.2.0","clicks":0},{"url":"https://forum.snapcraft.io/t/snapcraft-installing-golang-1-6-when-1-10-1-is-installed/5017/4","internal":true,"reflection":true,"title":"Snapcraft installing golang 1.6 when 1.10.1 is installed","clicks":0},{"url":"https://forum.snapcraft.io/t/snapcraft-failed-to-build-due-to-incorrect-glibc-version/6487/2","internal":true,"reflection":true,"title":"Snapcraft failed to build due to incorrect glibc version","clicks":0},{"url":"https://forum.snapcraft.io/t/do-you-really-need-lxd/7240/2","internal":true,"reflection":true,"title":"Do you really need LXD?","clicks":0},{"url":"https://forum.snapcraft.io/t/permission-denied-when-building-with-snapcore-snapcraft/7186/28","internal":true,"reflection":true,"title":"Permission denied when building with snapcore/snapcraft","clicks":0},{"url":"https://forum.snapcraft.io/t/snap-documentation-page-deprecated/3781","internal":true,"reflection":true,"title":"Snap Documentation (page deprecated)","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":1044,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":true,"last_wiki_edit":"2022-11-21T17:21:16.327Z","can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20693,"name":"Alan Pope","username":"popey","avatar_template":"/user_avatar/forum.snapcraft.io/popey/{size}/7793_2.png","created_at":"2018-02-23T00:20:05.615Z","cooked":"\u003cp\u003eIt looks like you’ve copy/pasted the docs directly from \u003ca href=\"http://docs.snapcraft.io\"\u003edocs.snapcraft.io\u003c/a\u003e to here. I’d advise against that. We’re currently in the process of re-writing some of the docs there and copy/pasting old copies around the place will leave stale docs here.\u003c/p\u003e\n\u003cp\u003eThe docs you’ve copied over are also needlessly over-complicated (which is why I’m mid way through re-writing them) and will confuse new users. So I’d recommend we simplify them in one place for now.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2018-02-23T00:20:05.615Z","reply_count":2,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":3,"reads":154,"readers_count":153,"score":55.8,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Alan Pope","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://docs.snapcraft.io","internal":false,"reflection":false,"title":"Snaps and snapcraft documentation - Snaps are universal Linux packages","clicks":58}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":14,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20694,"name":"Brett Sutton","username":"bsutton","avatar_template":"/user_avatar/forum.snapcraft.io/bsutton/{size}/4941_2.png","created_at":"2018-02-23T00:27:10.102Z","cooked":"\u003cp\u003eIt wasn’t a straight copy paste as the old version was out of date.\u003c/p\u003e\n\u003cp\u003eI’ve done a re-write (based on my understanding) and I’m in the process of testing the steps.\u003c/p\u003e\n\u003cp\u003eIf there are simpler steps then let me know.\u003c/p\u003e\n\u003cp\u003eThe docker instructions were a copy/paste.\u003c/p\u003e\n\u003cp\u003eWere are you re-writing the docs?\u003cbr\u003e\nI thought the process was via the forums?\u003c/p\u003e\n\u003cp\u003eAnd just some feedback.\u003c/p\u003e\n\u003cp\u003eOne of the key problems with the current docs is a lack of details.\u003cbr\u003e\nI agree we need a broad overview but we really need to allow users to drill down into more detail.\u003cbr\u003e\nThere is far too much that is left unsaid in the name of keeping things simple.\u003cbr\u003e\nI haven’t found the current docs very useful specifically because of this problem.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2018-02-23T00:29:51.091Z","reply_count":1,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":4,"reads":141,"readers_count":140,"score":83.2,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Brett Sutton","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"popey","avatar_template":"/user_avatar/forum.snapcraft.io/popey/{size}/7793_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":1814,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20695,"name":"Alan Pope","username":"popey","avatar_template":"/user_avatar/forum.snapcraft.io/popey/{size}/7793_2.png","created_at":"2018-02-23T00:35:59.383Z","cooked":"\u003cp\u003eThe docs are hosted at \u003ca href=\"http://docs.snapcraft.io\"\u003edocs.snapcraft.io\u003c/a\u003e - the source for them is on \u003ca href=\"https://github.com/canonical-docs/snappy-docs\"\u003egithub\u003c/a\u003e. We welcome changes to the docs. I’m mid way through re-writing some of the pages and it would be great if we could work together on those docs rather than have 2 (now 3) places for them. While Gustavo has a documentation experiment website up, the official docs have been and still are at \u003ca href=\"http://docs.snapcraft.io\"\u003edocs.snapcraft.io\u003c/a\u003e.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2018-02-23T00:35:59.383Z","reply_count":2,"reply_to_post_number":3,"quote_count":0,"incoming_link_count":3,"reads":128,"readers_count":127,"score":50.6,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Alan Pope","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://docs.snapcraft.io","internal":false,"reflection":false,"title":"Snaps and snapcraft documentation - Snaps are universal Linux packages","clicks":18},{"url":"https://github.com/canonical-docs/snappy-docs","internal":false,"reflection":false,"title":"GitHub - canonical-docs/snappy-docs: The home of docs about snaps and snapcraft","clicks":3}],"read":true,"user_title":null,"reply_to_user":{"username":"bsutton","avatar_template":"/user_avatar/forum.snapcraft.io/bsutton/{size}/4941_2.png"},"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":14,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20698,"name":"Brett Sutton","username":"bsutton","avatar_template":"/user_avatar/forum.snapcraft.io/bsutton/{size}/4941_2.png","created_at":"2018-02-23T00:51:36.571Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"popey\" data-post=\"4\" data-topic=\"4157\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/popey/40/5759_2.png\" class=\"avatar\"\u003e popey:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003erather than have 2 (now 3) places for them\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eAgree completely.\u003c/p\u003e\n\u003cp\u003eI’ve just posted a separate forum post having a bitch about the state of the documentiation \u003cimg src=\"https://forum.snapcraft.io/images/emoji/emoji_one/slight_smile.png?v=9\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e\n\u003cp\u003eHappy to collaborate (as much as I can) but really need a decision on where/how documentation is going to be stored maintained before we do anything else.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2018-02-23T00:51:36.571Z","reply_count":1,"reply_to_post_number":4,"quote_count":1,"incoming_link_count":1,"reads":121,"readers_count":120,"score":49.2,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Brett Sutton","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":1814,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20699,"name":"Alan Pope","username":"popey","avatar_template":"/user_avatar/forum.snapcraft.io/popey/{size}/7793_2.png","created_at":"2018-02-23T00:56:43.108Z","cooked":"\u003cp\u003eSure. I appreciate you taking the time to get stuck in to fix the docs.\u003c/p\u003e\n\u003cp\u003eThe fact remains \u003ca href=\"http://docs.snapcraft.io\"\u003edocs.snapcraft.io\u003c/a\u003e is what’s linked from \u003ca href=\"http://snapcraft.io\"\u003esnapcraft.io\u003c/a\u003e, and is where we point developers. Until the “experimental” site Gustavo set becomes official (or not), docs go there imo.\u003c/p\u003e\n\u003cp\u003eHaving them in multiple places is (as you point out in your other thread) a confusing mess for new people. I spent some time with new developers earlier this week and this problem came up as a significant blocker. Wrong docs, docs lacking detail and too many locations for docs were all cited as on-ramp issues we need to fix.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2018-02-23T00:56:43.108Z","reply_count":2,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":1,"reads":114,"readers_count":113,"score":37.8,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Alan Pope","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://docs.snapcraft.io","internal":false,"reflection":false,"title":"Snaps and snapcraft documentation - Snaps are universal Linux packages","clicks":9},{"url":"http://snapcraft.io","internal":false,"reflection":false,"title":"Snapcraft - Snaps are universal Linux packages","clicks":0}],"read":true,"user_title":null,"reply_to_user":{"username":"bsutton","avatar_template":"/user_avatar/forum.snapcraft.io/bsutton/{size}/4941_2.png"},"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":14,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20701,"name":"Brett Sutton","username":"bsutton","avatar_template":"/user_avatar/forum.snapcraft.io/bsutton/{size}/4941_2.png","created_at":"2018-02-23T01:34:37.545Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"popey\" data-post=\"2\" data-topic=\"4157\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/popey/40/5759_2.png\" class=\"avatar\"\u003e popey:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThe docs you’ve copied over are also needlessly over-complicated\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eI found the less complicated build process and have updated the doco.\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2018-02-23T01:34:37.545Z","reply_count":0,"reply_to_post_number":2,"quote_count":1,"incoming_link_count":1,"reads":107,"readers_count":106,"score":26.4,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Brett Sutton","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1814,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20702,"name":"Brett Sutton","username":"bsutton","avatar_template":"/user_avatar/forum.snapcraft.io/bsutton/{size}/4941_2.png","created_at":"2018-02-23T01:35:28.922Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"popey\" data-post=\"6\" data-topic=\"4157\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/popey/40/5759_2.png\" class=\"avatar\"\u003e popey:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThe fact remains \u003ca href=\"http://docs.snapcraft.io\" rel=\"noopener nofollow ugc\"\u003edocs.snapcraft.io\u003c/a\u003e is what’s linked\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eSo how do I contribute to the original site?\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2018-02-23T01:35:28.922Z","reply_count":0,"reply_to_post_number":6,"quote_count":1,"incoming_link_count":0,"reads":102,"readers_count":101,"score":20.4,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Brett Sutton","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1814,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20707,"name":"Dustin Krysak","username":"bashfulrobot","avatar_template":"/user_avatar/forum.snapcraft.io/bashfulrobot/{size}/310_2.png","created_at":"2018-02-23T02:23:13.351Z","cooked":"\u003cp\u003eQuick question here… in the past, I have run into errors when installing a snap inside LXD. Has something changed there? I seem to remember needing to install \u003ccode\u003esquashfuse\u003c/code\u003e (but still hitting mount errors).\u003c/p\u003e\n\u003cp\u003eI have mostly been building using the deb package inside the container. (Custom lxd profile that auto installs it).\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2018-02-23T02:23:13.351Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":103,"readers_count":102,"score":35.6,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Dustin Krysak","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":854,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20709,"name":"Brett Sutton","username":"bsutton","avatar_template":"/user_avatar/forum.snapcraft.io/bsutton/{size}/4941_2.png","created_at":"2018-02-23T03:15:00.102Z","cooked":"\u003cp\u003eThe discussion here is around building a snap using lxd as apposed to installing an existing snap into an lxd container.\u003c/p\u003e\n\u003cp\u003eI’ve not tried installing a snap into lxd so can’t help much on that front.\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2018-02-25T06:59:53.309Z","reply_count":0,"reply_to_post_number":9,"quote_count":0,"incoming_link_count":3,"reads":103,"readers_count":102,"score":35.6,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Brett Sutton","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"bashfulrobot","avatar_template":"/user_avatar/forum.snapcraft.io/bashfulrobot/{size}/310_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1814,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20819,"name":"Gustavo Niemeyer","username":"niemeyer","avatar_template":"/user_avatar/forum.snapcraft.io/niemeyer/{size}/4620_2.png","created_at":"2018-02-24T00:14:15.506Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"popey\" data-post=\"6\" data-topic=\"4157\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/popey/40/5759_2.png\" class=\"avatar\"\u003e popey:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThe fact remains \u003ca href=\"http://docs.snapcraft.io\"\u003edocs.snapcraft.io\u003c/a\u003e is what’s linked from \u003ca href=\"http://snapcraft.io\"\u003esnapcraft.io\u003c/a\u003e, and is where we point developers. Until the “experimental” site Gustavo set becomes official (or not), docs go there imo.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003e\u003ca class=\"mention\" href=\"/u/popey\"\u003e@popey\u003c/a\u003e The chance of it not becoming official is low at this point. We have some pretty good appreciation for the idea so far, including other projects interested in using the same approach, and I don’t really expect we’ll ever achieve full consensus on something like this given the context (too many people involved). The main reason why we still have an experimental label at this point is precisely that we haven’t migrated all of the content, and this is something I’d really appreciate your help on.\u003c/p\u003e\n\u003cp\u003eAlso, note that the problem you describe, of copying leaving stale docs, is exactly the case on some of the content in \u003ca href=\"http://docs.snapcrat.io\"\u003edocs.snapcrat.io\u003c/a\u003e today. Much of the documentation we have in the new experimental site existed even before the docs site was in place, and the content was taken out of the wiki, modified, split out (argh), and then not updated of course.\u003c/p\u003e\n\u003cp\u003eAnother interesting data point to observe here is: someone was willing to go over and improve the documentation of the project, unprompted, out of their own interest. And they have their documentation live, today, right now. If you see any way in which that documentation could be improved, you have access to it. Just edit it, and it will be live, today as well.\u003c/p\u003e\n\u003cp\u003eThat’s how good collaboration feels like. Paraphrasing, it’s the opposite of “Don’t write instructions here. Don’t copy and improve old documentation. That’s over complicated.”.\u003c/p\u003e\n\u003caside class=\"quote no-group\" data-username=\"popey\" data-post=\"4\" data-topic=\"4157\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/popey/40/5759_2.png\" class=\"avatar\"\u003e popey:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eI’m mid way through re-writing some of the pages and it would be great if we could work together on those docs rather than have 2 (now 3) places for them.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eYou could be doing that already, and we’ll appreciate your help. Otherwise, we’ll have to copy over the content until it’s a superset, and then we’ll replace the documentation part of the current site.\u003c/p\u003e","post_number":13,"post_type":1,"updated_at":"2018-02-24T00:15:31.944Z","reply_count":0,"reply_to_post_number":6,"quote_count":2,"incoming_link_count":10,"reads":105,"readers_count":104,"score":71.0,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Gustavo Niemeyer","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://docs.snapcrat.io","internal":false,"reflection":false,"clicks":5}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":1,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37723,"name":"","username":"hanishkvc","avatar_template":"/letter_avatar/hanishkvc/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","created_at":"2018-11-14T03:44:15.026Z","cooked":"\u003ch2\u003eAdd lxd as a supplemental group rather than primary group\u003c/h2\u003e\n\u003cp\u003eIn order to allow using of lxd directly by the user instead of requiring to route/gate it thro sudo each time (including indirectly when running snapcraft cleanbuild which inturn uses lxd). It is currently suggested to do\u003c/p\u003e\n\u003cp\u003e$ sudo usermod -g lxd ${USER}\u003c/p\u003e\n\u003cp\u003eBut this will change the primary group of the user, is it really what is required, because this will change the group owner ship of all files/directories in the users home directory to this new group lxd, which I don’t think is correct or warranted.\u003c/p\u003e\n\u003cp\u003eShouldn’t this be\u003c/p\u003e\n\u003cp\u003e$ sudo usermod -a -G lxd ${USER}\u003c/p\u003e\n\u003cp\u003esuch that the user gets added to lxd group, but his primary group assignment doesnt change.\u003c/p\u003e\n\u003cp\u003eNOTE: I had a scare of my life, when I in the middle of experimenting with snap packages and packaging, followed this document initially blindly (my bad, but one will expect the documentation to suggest sane settings by default, for good or bad), and then next day when I was doing something listed my home files and noticed that everything was group owned by lxd. Retracing the things which I did the previous day is what made me notice this potential wrong suggestion in the document.\u003c/p\u003e\n\u003ch2\u003eA different (less intrusive) approach to persistant lxd based build setup\u003c/h2\u003e\n\u003cp\u003eAs documented currently,\u003c/p\u003e\n\u003cp\u003eusing snapcraft cleanbuild keeps recreating the build time container again and again\u003c/p\u003e\n\u003cp\u003eHowever the alternative suggested i.e export SNAPCRAFT_BUILD_ENVIRONMENT=lxd snapcraft requires one to allow permission to map the users uid and gid into containers created/managed/used by lxd always (i.e editing of /etc/subgid and /etc/subuid) and not just for this particular build time container.\u003c/p\u003e\n\u003cp\u003eA alternate less intrusive (but requiring some additional manual steps currently) approach could be to\u003c/p\u003e\n\u003cp\u003ea) setup a build time container\u003cbr\u003e\nlxc launch ubuntu:xenial snap-build-myapp\u003cbr\u003e\nlxc start snap-build-myapp\u003cbr\u003e\nlxc shell snap-build-myapp\u003cbr\u003e\nsnap install snapcraft --classic\u003cbr\u003e\nsu ubuntu\u003cbr\u003e\ncd\u003cbr\u003e\nmkdir snaps\u003cbr\u003e\nmkdir snaps/myapp\u003c/p\u003e\n\u003cp\u003eb) copy the snap directory content from host to container using lxc file push\u003c/p\u003e\n\u003cp\u003elxc file push snaps/myapp/snap/snapcraft.yaml snap-build-myapp/home/ubuntu/snaps/myapp/snap/\u003cbr\u003e\nrepeat for any additional support files\u003c/p\u003e\n\u003cp\u003eOr tar, push from host and untar in container.\u003c/p\u003e\n\u003cp\u003ec) run snapcraft in the container\u003c/p\u003e\n\u003cp\u003ed) pull the created snap into host from container\u003c/p\u003e\n\u003cp\u003eif the snapcraft team can use the above approach, then there is no need to do those intrusive /etc/subuid|subgid changes.\u003c/p\u003e","post_number":14,"post_type":1,"updated_at":"2018-11-14T03:44:15.026Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":65,"readers_count":64,"score":45.0,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":3552,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":39585,"name":"林博仁(Buo-ren, Lin)","username":"Lin-Buo-Ren","avatar_template":"/user_avatar/forum.snapcraft.io/lin-buo-ren/{size}/4612_2.png","created_at":"2018-12-12T16:38:55.461Z","cooked":"\u003cp\u003e\u003ccode\u003eSNAPCRAFT_BUILD_ENVIRONMENT=lxd\u003c/code\u003e no longer supported in recent Snapcraft releases.\u003c/p\u003e","post_number":15,"post_type":1,"updated_at":"2018-12-12T16:38:55.461Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":55,"readers_count":54,"score":21.0,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"林博仁(Buo-ren, Lin)","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1417,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":40879,"name":"Jarl Friis","username":"jarl-dk","avatar_template":"/user_avatar/forum.snapcraft.io/jarl-dk/{size}/4856_2.png","created_at":"2019-01-09T06:57:02.091Z","cooked":"\u003cp\u003eI couldn’t agree more with the \u003ccode\u003eusermod\u003c/code\u003e change. I also just followed blindly. I discovered several months later and believed that my computer has been compromised. It took some time to investigate. Then I found this documentation and remembered that I tried this out months earlier.\u003c/p\u003e\n\u003cp\u003eIf it really is necessary to change the primary group, then the descriptive text should be updated to reflect the command:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ethen you need to add your user account to the \u003ccode\u003elxd\u003c/code\u003e group\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eshould be updated to\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ethen you need to change the primary login group of your user account to the lxd group\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eHowever, again, I don’t believe that is necessary\u003c/p\u003e","post_number":16,"post_type":1,"updated_at":"2019-01-09T06:58:01.414Z","reply_count":0,"reply_to_post_number":14,"quote_count":0,"incoming_link_count":0,"reads":52,"readers_count":51,"score":10.4,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Jarl Friis","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"hanishkvc","avatar_template":"/letter_avatar/hanishkvc/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":3895,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":41005,"name":"林博仁(Buo-ren, Lin)","username":"Lin-Buo-Ren","avatar_template":"/user_avatar/forum.snapcraft.io/lin-buo-ren/{size}/4612_2.png","created_at":"2019-01-11T09:36:05.798Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/hanishkvc\"\u003e@hanishkvc\u003c/a\u003e \u003ca class=\"mention\" href=\"/u/jarl-dk\"\u003e@jarl-dk\u003c/a\u003e Thanks for escalating the issue, I’ve edited the post, please comment if it’s fine now.\u003c/p\u003e","post_number":17,"post_type":1,"updated_at":"2019-01-11T09:36:05.798Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":49,"readers_count":48,"score":74.8,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"林博仁(Buo-ren, Lin)","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":1417,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":41011,"name":"Jarl Friis","username":"jarl-dk","avatar_template":"/user_avatar/forum.snapcraft.io/jarl-dk/{size}/4856_2.png","created_at":"2019-01-11T10:50:15.514Z","cooked":"\u003cp\u003eIt must be capital G as \u003ccode\u003e$ sudo usermod -a -G lxd ${USER}\u003c/code\u003e\u003cbr\u003e\nnot \u003ccode\u003e$ sudo usermod -a -g lxd ${USER}\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eJarl\u003c/p\u003e","post_number":18,"post_type":1,"updated_at":"2019-01-11T10:50:15.514Z","reply_count":1,"reply_to_post_number":17,"quote_count":0,"incoming_link_count":4,"reads":49,"readers_count":48,"score":34.8,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Jarl Friis","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Lin-Buo-Ren","avatar_template":"/user_avatar/forum.snapcraft.io/lin-buo-ren/{size}/4612_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":3895,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":41015,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2019-01-11T11:11:37.157Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"jarl-dk\" data-post=\"18\" data-topic=\"4157\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/jarl-dk/40/4856_2.png\" class=\"avatar\"\u003e jarl-dk:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003e$ sudo usermod -a -G lxd ${USER}\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eThanks! This is now fixed too.\u003c/p\u003e","post_number":19,"post_type":1,"updated_at":"2019-01-11T11:11:37.157Z","reply_count":0,"reply_to_post_number":18,"quote_count":1,"incoming_link_count":0,"reads":48,"readers_count":47,"score":24.6,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":49559,"name":"Ian Johnson","username":"ijohnson","avatar_template":"/user_avatar/forum.snapcraft.io/ijohnson/{size}/2091_2.png","created_at":"2019-06-03T22:08:25.188Z","cooked":"\u003cp\u003eThis should be updated to reflect the new \u003ccode\u003e--use-lxd\u003c/code\u003e option to snapcraft, shouldn’t it? I.e. the section on building with bases should have explain how to use \u003ccode\u003e--use-lxd\u003c/code\u003e in addition to the current explanation of manually creating an LXD container.\u003c/p\u003e","post_number":20,"post_type":1,"updated_at":"2019-06-03T22:08:25.188Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":3,"reads":41,"readers_count":40,"score":28.2,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Ian Johnson","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":2438,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":49574,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2019-06-04T12:23:03.100Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"ijohnson\" data-post=\"20\" data-topic=\"4157\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/ijohnson/40/2091_2.png\" class=\"avatar\"\u003e ijohnson:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThis should be updated to reflect the new \u003ccode\u003e--use-lxd\u003c/code\u003e option to snapcraft, shouldn’t it?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eYou’re absolutely right. I’ve updated the doc and also added the corresponding release notes for the snapcraft update (3.4) that added \u003ccode\u003e--use-lxd\u003c/code\u003e. Thank you!\u003c/p\u003e","post_number":21,"post_type":1,"updated_at":"2019-06-04T12:55:35.452Z","reply_count":0,"reply_to_post_number":20,"quote_count":1,"incoming_link_count":0,"reads":40,"readers_count":39,"score":38.0,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":91324,"name":"Robie Basak","username":"rbasak","avatar_template":"/letter_avatar/rbasak/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","created_at":"2021-04-22T13:32:49.135Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"Lin-Buo-Ren\" data-post=\"15\" data-topic=\"4157\" data-full=\"true\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/lin-buo-ren/40/4612_2.png\" class=\"avatar\"\u003e Lin-Buo-Ren:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003eSNAPCRAFT_BUILD_ENVIRONMENT=lxd\u003c/code\u003e no longer supported in recent Snapcraft releases.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eSeems to work with 4.6.2? Additionally I see for example that \u003ca href=\"https://github.com/snapcore/action-build/blob/master/src/build.ts\" rel=\"noopener nofollow ugc\"\u003ehttps://github.com/snapcore/action-build/blob/master/src/build.ts\u003c/a\u003e is using it. Can the current situation be documented please? It’s tedious to have to use \u003ccode\u003e--use-lxd\u003c/code\u003e all the time when changing the snapcraft invocation command line.\u003c/p\u003e","post_number":22,"post_type":1,"updated_at":"2021-04-22T13:32:49.135Z","reply_count":1,"reply_to_post_number":15,"quote_count":1,"incoming_link_count":1,"reads":29,"readers_count":28,"score":15.8,"yours":false,"topic_id":4157,"topic_slug":"build-providers","display_username":"Robie Basak","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/snapcore/action-build/blob/master/src/build.ts","internal":false,"reflection":false,"title":"action-build/build.ts at master · snapcore/action-build · GitHub","clicks":1}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1940,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[20688,20693,20694,20695,20698,20699,20701,20702,20707,20709,20819,37723,39585,40879,41005,41011,41015,49559,49574,91324,91335,91381,104247,104273,104276,104515,114270,114636,114638,115391,115423,119824,119925,119930]},"timeline_lookup":[[1,1939],[11,1938],[12,1675],[13,1646],[14,1619],[15,1617],[18,1473],[20,785],[21,784],[22,783],[23,520],[26,515],[27,269],[28,258],[30,238],[31,237],[32,118],[33,114]],"tags":[],"id":4157,"title":"Build providers","fancy_title":"Build providers","posts_count":34,"created_at":"2018-02-22T23:58:22.148Z","views":23063,"reply_count":21,"like_count":20,"last_posted_at":"2023-02-21T16:58:39.106Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"build-providers","category_id":15,"word_count":3753,"deleted_at":null,"user_id":1044,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_4157","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":36,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"topic_timer":null,"message_bus_last_id":0,"participant_count":15,"show_read_indicator":false,"thumbnails":null,"details":{"notification_level":1,"participants":[{"id":1814,"username":"bsutton","name":"Brett Sutton","avatar_template":"/user_avatar/forum.snapcraft.io/bsutton/{size}/4941_2.png","post_count":5,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","post_count":5,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":11310,"username":"mr_cal","name":"Callahan Kovacs","avatar_template":"/user_avatar/forum.snapcraft.io/mr_cal/{size}/8466_2.png","post_count":4,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":1417,"username":"Lin-Buo-Ren","name":"林博仁(Buo-ren, Lin)","avatar_template":"/user_avatar/forum.snapcraft.io/lin-buo-ren/{size}/4612_2.png","post_count":3,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":14,"username":"popey","name":"Alan Pope","avatar_template":"/user_avatar/forum.snapcraft.io/popey/{size}/7793_2.png","post_count":3,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":11710,"username":"rpjday","name":"Robert P. J. Day","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","post_count":3,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":3895,"username":"jarl-dk","name":"Jarl Friis","avatar_template":"/user_avatar/forum.snapcraft.io/jarl-dk/{size}/4856_2.png","post_count":2,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":8297,"username":"jocado","name":"","avatar_template":"/letter_avatar/jocado/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","post_count":2,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":2438,"username":"ijohnson","name":"Ian Johnson","avatar_template":"/user_avatar/forum.snapcraft.io/ijohnson/{size}/2091_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":854,"username":"bashfulrobot","name":"Dustin Krysak","avatar_template":"/user_avatar/forum.snapcraft.io/bashfulrobot/{size}/310_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":1044,"username":"wiki","name":"Wiki Content","avatar_template":"/user_avatar/forum.snapcraft.io/wiki/{size}/425_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":1940,"username":"rbasak","name":"Robie Basak","avatar_template":"/letter_avatar/rbasak/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":1,"username":"niemeyer","name":"Gustavo Niemeyer","avatar_template":"/user_avatar/forum.snapcraft.io/niemeyer/{size}/4620_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":3552,"username":"hanishkvc","name":"","avatar_template":"/letter_avatar/hanishkvc/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":4740,"username":"cjp256","name":"Chris Patterson","avatar_template":"/letter_avatar/cjp256/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"created_by":{"id":1044,"username":"wiki","name":"Wiki Content","avatar_template":"/user_avatar/forum.snapcraft.io/wiki/{size}/425_2.png"},"last_poster":{"id":8297,"username":"jocado","name":"","avatar_template":"/letter_avatar/jocado/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"},"links":[{"url":"http://docs.snapcraft.io","title":"Snaps and snapcraft documentation - Snaps are universal Linux packages","internal":false,"attachment":false,"reflection":false,"clicks":85,"user_id":14,"domain":"docs.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/build-options/14250/2","title":"Build options","internal":true,"attachment":false,"reflection":false,"clicks":11,"user_id":4740,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://linuxcontainers.org/lxd/introduction/","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":5,"user_id":1044,"domain":"linuxcontainers.org","root_domain":"linuxcontainers.org"},{"url":"http://docs.snapcrat.io","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":5,"user_id":1,"domain":"docs.snapcrat.io","root_domain":"snapcrat.io"},{"url":"https://forum.snapcraft.io/t/snapcraft-overview/8940","title":"Snapcraft overview","internal":true,"attachment":false,"reflection":false,"clicks":4,"user_id":1044,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://github.com/canonical-docs/snappy-docs","title":"GitHub - canonical-docs/snappy-docs: The home of docs about snaps and snapcraft","internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":14,"domain":"github.com","root_domain":"github.com"},{"url":"https://linuxcontainers.org/lxd/getting-started-cli/","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":1044,"domain":"linuxcontainers.org","root_domain":"linuxcontainers.org"},{"url":"https://github.com/snapcore/snapcraft/commit/31012eb","title":"cli: explicitly set show_envvar=False for --provider · snapcore/snapcraft@31012eb · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":1417,"domain":"github.com","root_domain":"github.com"},{"url":"https://forum.snapcraft.io/t/html5-game-without-electron/5003/7","title":"HTML5 game without electron","internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":14,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://bugs.launchpad.net/snapcraft/+bug/2008003","title":"Bug #2008003 “Multipass build provider does not support resource...” : Bugs : Snapcraft","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":8297,"domain":"bugs.launchpad.net","root_domain":"launchpad.net"},{"url":"https://forum.snapcraft.io/t/improving-the-documentation/4156/5","title":"Improving the documentation","internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":1814,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://github.com/snapcore/action-build/blob/master/src/build.ts","title":"action-build/build.ts at master · snapcore/action-build · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":1940,"domain":"github.com","root_domain":"github.com"}]}}