{"post_stream":{"posts":[{"id":35686,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2018-10-12T15:28:26.579Z","cooked":"\u003cp\u003eThe \u003ccode\u003esnapd-control\u003c/code\u003e interface enables snap management, such as snap installation, removal and refresh-control by communicating with the snapd daemon.\u003c/p\u003e\n\u003cp\u003eDue to its ability to permit the installation any snap at potentially any confinement level, \u003ccode\u003esnapd-control\u003c/code\u003e is primarily intended to be used by \u003ca href=\"https://core.docs.ubuntu.com/en/build-store/#brand-stores\"\u003ebrand store\u003c/a\u003e owners as they will typically already have full access to their devices.\u003c/p\u003e\n\u003cp\u003eConsequently, consumers of this interface require \u003ca href=\"/t/process-for-aliases-auto-connections-and-tracks/455/\"\u003eapproval\u003c/a\u003e for distribution via the Snap Store, and this approval is only likely to be given under strict and specific circumstances.\u003c/p\u003e\n\u003cdiv class=\"p-notification--positive\"\u003e\n\u003cdiv class=\"p-notification__response\"\u003e\n\u003cspan class=\"p-notification__status\"\u003e\nInterface documentation: \u003c/span\u003e\n\u003cp\u003eSee \u003ca href=\"/t/interface-management/6154\"\u003eInterface management\u003c/a\u003e and \u003ca href=\"/t/supported-interfaces/7744\"\u003eSupported interfaces\u003c/a\u003e for further details on how interfaces are used.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 id=\"heading--dev-details\"\u003eDeveloper details \u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"/t/interface-management/6154#heading--auto-connections\"\u003eAuto-connect\u003c/a\u003e\u003c/strong\u003e: no\u003cbr\u003e\n\u003cstrong\u003e\u003ca href=\"/t/super-privileged-interfaces/34740\"\u003eSuper-privileged\u003c/a\u003e\u003c/strong\u003e: yes\u003cbr\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eAttributes\u003c/strong\u003e :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003erefresh-schedule\u003c/code\u003e (plug):  can be set to \u003ccode\u003emanaged\u003c/code\u003e to signal an intention to permit only manual refreshes for the snap:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-yaml\"\u003eplugs:\n    snapd:\n        interface: snapd-control\n        refresh-schedule: managed\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ePermitting only manual refreshes is a 3 stage process with the above being the first stage. The second stage is to connect the interface, effectively granting permission for refresh management while the third is to set the following \u003cem\u003ecore\u003c/em\u003e system setting:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003esudo snap set core refresh.timer=managed \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe last step activates the manual-only refresh option, skipping upcoming refresh attempts. These values are rechecked and reconfirmed before every future refresh attempt. If any of the steps stop being true, the snap refresh proceeds.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eCode examples\u003c/h3\u003e\n\u003cp\u003eThe source code can be found in the snapd repository: \u003ca href=\"https://github.com/snapcore/snapd/blob/master/interfaces/builtin/snapd_control.go\"\u003ehttps://github.com/snapcore/snapd/blob/master/interfaces/builtin/snapd_control.go\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eThe test code for the interface is in the snapd repository: \u003ca href=\"https://github.com/snapcore/snapd/blob/master/interfaces/builtin/snapd_control_test.go\"\u003ehttps://github.com/snapcore/snapd/blob/master/interfaces/builtin/snapd_control_test.go\u003c/a\u003e\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2023-04-14T09:51:17.238Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":187,"reads":55,"readers_count":54,"score":946.0,"yours":false,"topic_id":7915,"topic_slug":"the-snapd-control-interface","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":12,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/interface-management/6154","internal":true,"reflection":false,"title":"Interface management","clicks":10},{"url":"https://core.docs.ubuntu.com/en/build-store/#brand-stores","internal":false,"reflection":false,"title":"App stores | Ubuntu Core documentation","clicks":7},{"url":"https://github.com/snapcore/snapd/blob/master/interfaces/builtin/snapd_control.go","internal":false,"reflection":false,"clicks":6},{"url":"https://forum.snapcraft.io/t/supported-interfaces/7744","internal":true,"reflection":false,"title":"Supported interfaces","clicks":5},{"url":"https://github.com/snapcore/snapd/blob/master/interfaces/builtin/snapd_control_test.go","internal":false,"reflection":false,"clicks":0},{"url":"https://forum.snapcraft.io/t/process-for-aliases-auto-connections-and-tracks/455","internal":true,"reflection":false,"title":"Process for aliases, auto-connections and tracks","clicks":0},{"url":"https://forum.snapcraft.io/t/gadget-auto-connect-of-snapd-control-not-working-and-error/21101/2","internal":true,"reflection":true,"title":"Gadget auto connect of snapd-control not working and error","clicks":2},{"url":"https://forum.snapcraft.io/t/snap-documentation/11127","internal":true,"reflection":true,"title":"Snap documentation","clicks":0},{"url":"https://forum.snapcraft.io/t/super-privileged-interfaces/34740","internal":true,"reflection":true,"title":"Super-privileged interfaces","clicks":0},{"url":"https://forum.snapcraft.io/t/store-auto-connect-request/34832/2","internal":true,"reflection":true,"title":"Store auto connect request","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":true,"last_wiki_edit":"2023-04-14T09:51:17.255Z","can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":111483,"name":"Buğra Aydoğar","username":"bugraaydogar","avatar_template":"/user_avatar/forum.snapcraft.io/bugraaydogar/{size}/7341_2.png","created_at":"2022-07-07T07:53:47.610Z","cooked":"\u003cp\u003eHi \u003ca class=\"mention\" href=\"/u/degville\"\u003e@degville\u003c/a\u003e,\u003c/p\u003e\n\u003cp\u003eIt seems like  \u003ccode\u003esudo snap set core refresh.schedule=managed \u003c/code\u003e was deprecated and should only be used with versions of snapd older than 2.31 as mentioned here =\u0026gt; \u003ca href=\"https://snapcraft.io/docs/keeping-snaps-up-to-date#heading--controlling-updates\" rel=\"noopener nofollow ugc\"\u003ehttps://snapcraft.io/docs/keeping-snaps-up-to-date#heading--controlling-updates\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eIt needs to be replaced with \u003ccode\u003esnap set system refresh.timer=\"managed\"\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eThanks,\nBugra\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2022-07-07T07:53:47.610Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":17,"reads":14,"readers_count":13,"score":92.8,"yours":false,"topic_id":7915,"topic_slug":"the-snapd-control-interface","display_username":"Buğra Aydoğar","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://snapcraft.io/docs/keeping-snaps-up-to-date#heading--controlling-updates","internal":false,"reflection":false,"title":"Managing updates | Snapcraft documentation","clicks":4}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":9554,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":116917,"name":"Robert P. J. Day","username":"rpjday","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","created_at":"2022-11-23T19:14:17.306Z","cooked":"\u003cp\u003eWith snapd-2.5, you now have “snap refresh --hold” to put an indefinite hold on refreshes. Not sure where that should be covered.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2022-11-23T19:14:17.306Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":1,"reads":9,"readers_count":8,"score":6.8,"yours":false,"topic_id":7915,"topic_slug":"the-snapd-control-interface","display_username":"Robert P. J. Day","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"bugraaydogar","avatar_template":"/user_avatar/forum.snapcraft.io/bugraaydogar/{size}/7341_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11710,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[35686,111483,116917]},"timeline_lookup":[[1,1707],[2,344],[3,204]],"suggested_topics":[{"id":31037,"title":"Snapcraft Tutorials","fancy_title":"Snapcraft Tutorials","slug":"snapcraft-tutorials","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-26T17:19:27.439Z","last_posted_at":"2022-07-26T17:19:27.549Z","bumped":true,"bumped_at":"2023-04-05T08:33:18.861Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":1214,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":34179,"title":"Set up classic confinement for a Python project","fancy_title":"Set up classic confinement for a Python project","slug":"set-up-classic-confinement-for-a-python-project","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2023-03-03T16:07:41.416Z","last_posted_at":"2023-03-03T16:07:41.560Z","bumped":true,"bumped_at":"2023-06-13T14:13:20.173Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":["how-to"],"like_count":1,"views":750,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":14015,"username":"dboddie","name":"David Boddie","avatar_template":"/user_avatar/forum.snapcraft.io/dboddie/{size}/9564_2.png"}}]},{"id":34740,"title":"Super-privileged interfaces","fancy_title":"Super-privileged interfaces","slug":"super-privileged-interfaces","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2023-04-14T09:20:24.510Z","last_posted_at":"2023-04-14T09:20:24.656Z","bumped":true,"bumped_at":"2023-04-14T09:29:53.927Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":261,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":31152,"title":"Refresh awareness","fancy_title":"Refresh awareness","slug":"refresh-awareness","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-08-04T11:13:22.373Z","last_posted_at":"2023-02-16T16:37:34.392Z","bumped":true,"bumped_at":"2023-02-16T16:37:34.392Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":2,"views":1730,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":13385,"username":"ernstklrb","name":"","avatar_template":"/letter_avatar/ernstklrb/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1903,"username":"dhoomakethu","name":"dhoomkethu","avatar_template":"/letter_avatar/dhoomakethu/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1418,"username":"galgalesh","name":"Merlijn Sebrechts","avatar_template":"/user_avatar/forum.snapcraft.io/galgalesh/{size}/9283_2.png"}}]},{"id":32211,"title":"Snapcraft linters","fancy_title":"Snapcraft linters","slug":"snapcraft-linters","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-10-17T20:12:23.427Z","last_posted_at":"2023-05-15T13:21:11.198Z","bumped":true,"bumped_at":"2023-05-15T13:21:11.198Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":4,"views":1230,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":3793,"username":"cmatsuoka","name":"Claudio Matsuoka","avatar_template":"/user_avatar/forum.snapcraft.io/cmatsuoka/{size}/9338_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1418,"username":"galgalesh","name":"Merlijn Sebrechts","avatar_template":"/user_avatar/forum.snapcraft.io/galgalesh/{size}/9283_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":4363,"username":"xnox","name":"Dimitri John Ledkov","avatar_template":"/user_avatar/forum.snapcraft.io/xnox/{size}/4776_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":393,"username":"jamesh","name":"James Henstridge","avatar_template":"/user_avatar/forum.snapcraft.io/jamesh/{size}/3947_2.png"}}]}],"tags":[],"id":7915,"title":"The snapd-control interface","fancy_title":"The snapd-control interface","posts_count":3,"created_at":"2018-10-12T15:28:26.253Z","views":4879,"reply_count":1,"like_count":0,"last_posted_at":"2022-11-23T19:14:17.306Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"the-snapd-control-interface","category_id":15,"word_count":402,"deleted_at":null,"user_id":2772,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_7915","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"details":{"notification_level":1,"participants":[{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":9554,"username":"bugraaydogar","name":"Buğra Aydoğar","avatar_template":"/user_avatar/forum.snapcraft.io/bugraaydogar/{size}/7341_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":11710,"username":"rpjday","name":"Robert P. J. Day","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"created_by":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"},"last_poster":{"id":11710,"username":"rpjday","name":"Robert P. J. Day","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png"},"links":[{"url":"https://forum.snapcraft.io/t/interface-management/6154","title":"Interface management","internal":true,"attachment":false,"reflection":false,"clicks":10,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://core.docs.ubuntu.com/en/build-store/#brand-stores","title":"App stores | Ubuntu Core documentation","internal":false,"attachment":false,"reflection":false,"clicks":7,"user_id":2772,"domain":"core.docs.ubuntu.com","root_domain":"ubuntu.com"},{"url":"https://github.com/snapcore/snapd/blob/master/interfaces/builtin/snapd_control.go","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":6,"user_id":2772,"domain":"github.com","root_domain":"github.com"},{"url":"https://forum.snapcraft.io/t/supported-interfaces/7744","title":"Supported interfaces","internal":true,"attachment":false,"reflection":false,"clicks":5,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://snapcraft.io/docs/keeping-snaps-up-to-date#heading--controlling-updates","title":"Managing updates | Snapcraft documentation","internal":false,"attachment":false,"reflection":false,"clicks":4,"user_id":9554,"domain":"snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/gadget-auto-connect-of-snapd-control-not-working-and-error/21101/2","title":"Gadget auto connect of snapd-control not working and error","internal":true,"attachment":false,"reflection":true,"clicks":2,"user_id":21,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"}]}}