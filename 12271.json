{"post_stream":{"posts":[{"id":51720,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2019-07-12T12:56:42.192Z","cooked":"\u003cp\u003eWhen building a part to construct a snap,  \u003ca href=\"/t/snapcraft-overview/8940\"\u003eSnapcraft\u003c/a\u003e creates the following sets of environment variables that can optionally be used by a part’s build mechanism:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#heading--locating-directories\"\u003eLocating directories\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#heading--locating-directories-core18-core20\"\u003ecore | core18 | core20\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#heading--locating-directories-core22\"\u003ecore22\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#heading--snapcraft-configuration\"\u003eSnapcraft configuration\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#heading--snapcraft-configuration-core18-core-20\"\u003ecore | core18 | core20\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#heading--snapcraft-configuration-core22\"\u003ecore22\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#heading--build-flags\"\u003eBuild flags\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#heading--plugin-variables\"\u003ePlugin variables\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eEnvironment variables can be accessed via the \u003ca href=\"/t/snapcraft-parts-metadata/8336\"\u003e\u003cem\u003eoverride-\u003c/em\u003e\u003c/a\u003e keywords with shell commands and \u003ca href=\"/t/scriptlets/4892\"\u003eScriptlets\u003c/a\u003e, or more generally within your project’s build infrastructure.\u003c/p\u003e\n\u003cp\u003eSee \u003ca href=\"/t/adding-parts/11473\"\u003eAdding parts\u003c/a\u003e for a general overview of what parts are and how to use them, and for more details on how parts are built within the \u003cem\u003esnapcraft\u003c/em\u003e environment, including build stages and the directories they use, see \u003ca href=\"/t/parts-lifecycle/12231\"\u003eParts lifecycle\u003c/a\u003e.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eⓘ For the various environment variables available to running snap applications, see \u003ca href=\"/t/environment-variables/7983\"\u003eEnvironment variables\u003c/a\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"heading--locating-directories\"\u003eLocating directories\u003c/h3\u003e\n\u003cp\u003eSee \u003ca href=\"/t/parts-lifecycle/12231\"\u003eParts lifecycle\u003c/a\u003e and \u003ca href=\"/t/parts-lifecycle/12231#heading--parts-directories\"\u003eParts directories\u003c/a\u003e for details on which directories are created and used when building a part.\u003c/p\u003e\n\u003ch4 id=\"heading--locating-directories-core18-core20\"\u003ecore | core18 | core20\u003c/h4\u003e\n\u003cp\u003eSnapcraft exposes the following directory related environment variables when building a part with bases \u003ccode\u003ecore\u003c/code\u003e, \u003ccode\u003ecore18\u003c/code\u003e, or \u003ccode\u003ecore20\u003c/code\u003e. These can help when moving or locating files:\u003c/p\u003e\n\u003cdiv class=\"md-table\"\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PART_SRC\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eabsolute path to where a part’s sources are pulled. It’s also the part’s working directory for the \u003cem\u003epull\u003c/em\u003e step\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PART_BUILD\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eabsolute path to the sources used for the part’s \u003cem\u003ebuild\u003c/em\u003e step. It is also the working directory of the \u003cem\u003ebuild\u003c/em\u003e step.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PART_INSTALL\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eabsolute path to the results of the part’s \u003cem\u003ebuild\u003c/em\u003e step. It also contains the staged packages of that part.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PRIME\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eabsolute path to where files are primed\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PROJECT_DIR\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eabsolute path to the root of the snapcraft project\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_STAGE\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eabsolute path to where files are staged\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e\u003ch4 id=\"heading--locating-directories-core22\"\u003ecore22\u003c/h4\u003e\n\u003cp\u003eSnapcraft exposes the following directory related environment variables when build with base \u003ccode\u003ecore22\u003c/code\u003e. These can help when moving or locating files:\u003c/p\u003e\n\u003cdiv class=\"md-table\"\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ccode\u003eCRAFT_PART_SRC\u003c/code\u003e \u003cbr\u003e \u003ccode\u003eSNAPCRAFT_PART_SRC\u003c/code\u003e\n\u003c/td\u003e\n\u003ctd\u003eabsolute path to where a part’s sources are pulled. It’s also the part’s working directory for the \u003cem\u003epull\u003c/em\u003e step\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ccode\u003eCRAFT_PART_SRC_WORK\u003c/code\u003e \u003cbr\u003e \u003ccode\u003eSNAPCRAFT_PART_SRC\u003c/code\u003e\n\u003c/td\u003e\n\u003ctd\u003eabsolute path to the part source subdirectory, if any. Defaults to the part source directory.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ccode\u003eCRAFT_PART_BUILD\u003c/code\u003e \u003cbr\u003e \u003ccode\u003eSNAPCRAFT_PART_BUILD\u003c/code\u003e\n\u003c/td\u003e\n\u003ctd\u003eabsolute path to the sources used for the part’s \u003cem\u003ebuild\u003c/em\u003e step. It is also the working directory of the \u003cem\u003ebuild\u003c/em\u003e step.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ccode\u003eCRAFT_PART_BUILD_WORK\u003c/code\u003e \u003cbr\u003e \u003ccode\u003eSNAPCRAFT_PART_BUILD_WORK\u003c/code\u003e\n\u003c/td\u003e\n\u003ctd\u003eabsolute path to the part build subdirectory in case of out-of-tree builds. Defaults to the part source directory.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ccode\u003eCRAFT_PART_INSTALL\u003c/code\u003e \u003cbr\u003e \u003ccode\u003eSNAPCRAFT_PART_INSTALL\u003c/code\u003e\n\u003c/td\u003e\n\u003ctd\u003eabsolute path to the results of the part’s \u003cem\u003ebuild\u003c/em\u003e step. It also contains the staged packages of that part.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ccode\u003eCRAFT_PRIME\u003c/code\u003e \u003cbr\u003e \u003ccode\u003eSNAPCRAFT_PRIME\u003c/code\u003e\n\u003c/td\u003e\n\u003ctd\u003eabsolute path to where files are primed\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ccode\u003eCRAFT_PROJECT_DIR\u003c/code\u003e \u003cbr\u003e \u003ccode\u003eSNAPCRAFT_PROJECT_DIR\u003c/code\u003e\n\u003c/td\u003e\n\u003ctd\u003eabsolute path to the root of the snapcraft project\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ccode\u003eCRAFT_STAGE\u003c/code\u003e \u003cbr\u003e \u003ccode\u003eSNAPCRAFT_STAGE\u003c/code\u003e\n\u003c/td\u003e\n\u003ctd\u003eabsolute path to where files are staged\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eCRAFT_OVERLAY\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eabsolute path the part’s layer directory during  the \u003ccode\u003eOVERLAY\u003c/code\u003e step if overlays are enabled.\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e\u003ch3 id=\"heading--snapcraft-configuration\"\u003eSnapcraft configuration\u003c/h3\u003e\n\u003ch4 id=\"heading--snapcraft-configuration-core18-core-20\"\u003ecore | core18 | core20\u003c/h4\u003e\n\u003cp\u003eWhen building a part with bases \u003ccode\u003ecore\u003c/code\u003e, \u003ccode\u003ecore18\u003c/code\u003e, or \u003ccode\u003ecore20\u003c/code\u003e, the following \u003cem\u003esnapcraft\u003c/em\u003e environment variables are set:\u003c/p\u003e\n\u003cdiv class=\"md-table\"\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_ARCH_TRIPLET\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003ethe architecture triplet used for the selected base\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PARALLEL_BUILD_COUNT\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003ethe preferred number of jobs the project is to be built with\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PROJECT_NAME\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003ethe snapcraft project name as set by \u003ccode\u003ename\u003c/code\u003e in \u003ccode\u003esnapcraft.yaml\u003c/code\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PROJECT_VERSION\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003ethe snapcraft project version as set by \u003ccode\u003esnapcraft.yaml\u003c/code\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PROJECT_GRADE\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003ethe snapcraft project grade as set in \u003ccode\u003esnapcraft.yaml\u003c/code\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_TARGET_ARCH\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003edeb-style architecture that snap is being built for, e.g. “amd64”, “armhf”, “arm64”, etc.\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e\u003ch4 id=\"heading--snapcraft-configuration-core22\"\u003ecore22\u003c/h4\u003e\n\u003cp\u003eWhen building a part with base \u003ccode\u003ecore22\u003c/code\u003e, the following \u003cem\u003esnapcraft\u003c/em\u003e environment variables are set:\u003c/p\u003e\n\u003cdiv class=\"md-table\"\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ccode\u003eCRAFT_ARCH_TRIPLET\u003c/code\u003e \u003cbr\u003e \u003ccode\u003eSNAPCRAFT_ARCH_TRIPLET\u003c/code\u003e\n\u003c/td\u003e\n\u003ctd\u003ethe architecture triplet used for the selected base\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ccode\u003eCRAFT_PARALLEL_BUILD_COUNT\u003c/code\u003e \u003cbr\u003e \u003ccode\u003eSNAPCRAFT_PARALLEL_BUILD_COUNT\u003c/code\u003e\n\u003c/td\u003e\n\u003ctd\u003ethe preferred number of jobs the project is to be built with\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ccode\u003eCRAFT_PROJECT_NAME\u003c/code\u003e \u003cbr\u003e \u003ccode\u003eSNAPCRAFT_PROJECT_NAME\u003c/code\u003e\n\u003c/td\u003e\n\u003ctd\u003ethe snapcraft project name as set by \u003ccode\u003ename\u003c/code\u003e in \u003ccode\u003esnapcraft.yaml\u003c/code\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PROJECT_VERSION\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003ethe snapcraft project version as set by \u003ccode\u003esnapcraft.yaml\u003c/code\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PROJECT_GRADE\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003ethe snapcraft project grade as set in \u003ccode\u003esnapcraft.yaml\u003c/code\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ccode\u003eCRAFT_TARGET_ARCH\u003c/code\u003e \u003cbr\u003e \u003ccode\u003eSNAPCRAFT_TARGET_ARCH\u003c/code\u003e\n\u003c/td\u003e\n\u003ctd\u003edeb-style architecture that snap is being built for, e.g. “amd64”, “armhf”, “arm64”, etc.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eCRAFT_PART_NAME\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003ethe part currently being processed, as set by the part’s name in \u003ccode\u003esnapcraft.yaml\u003c/code\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eCRAFT_STEP_NAME\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003ethe step currently being executed (i.e. \u003ccode\u003ePRIME\u003c/code\u003e)\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e\u003ch3 id=\"heading--build-flags\"\u003eBuild flags\u003c/h3\u003e\n\u003cp\u003eThe following specific \u003cem\u003ebuild flags\u003c/em\u003e are also set:\u003c/p\u003e\n\u003cdiv class=\"md-table\"\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eCFLAGS\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eempty unless \u003ccode\u003eafter\u003c/code\u003e is used in the part and headers are staged in the common include paths for which they will be included (i.e.; paths added with  \u003ccode\u003e-I\u003c/code\u003e)\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eCPPFLAGS\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003esame behavior as CFLAGS\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eCXXFLAGS\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003esame behavior as CFLAGS\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eLDFLAGS\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eempty unless \u003ccode\u003eafter\u003c/code\u003e is used in the part and headers are staged in the common library paths (i.e.; paths added with \u003ccode\u003e-L\u003c/code\u003e)\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003ePKG_CONFIG_PATH\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eempty unless \u003ccode\u003eafter\u003c/code\u003e is used in the part and .pc files are staged in the common pkgconfig paths\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e\u003ch3 id=\"heading--plugin-variables\"\u003ePlugin variables\u003c/h3\u003e\n\u003cp\u003eA part’s \u003ca href=\"/t/snapcraft-plugins/4284\"\u003eplugin\u003c/a\u003e can add its own set of environment variables, or expand on the above \u003cem\u003ebuild\u003c/em\u003e related flags.\u003c/p\u003e\n\u003cp\u003eThe \u003ccode\u003ebuild-environment\u003c/code\u003e keyword can be used to either override the default environment variables or define new ones. Here is a basic example:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-yaml\"\u003eparts:\n  hello-part:\n    source: gnu-hello.tar.gz\n    plugin: autotools\n    build-environment:\n    - CFLAGS: \"$CFLAGS -O3\"  # add -O3 to the existing flags\n    - LDFLAGS: \"-L$SNAPCRAFT_STAGE/non-standard/lib\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe above example will override default flags and search for libraries in a non-standard path.\u003c/p\u003e\n\u003cp\u003eFor a complete list of environment variables, see \u003ca href=\"/t/environment-variables-that-snapcraft-exposes/7569\"\u003eEnvironment variables exposed by Snapcraft\u003c/a\u003e.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2022-11-25T17:37:41.445Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":410,"reads":93,"readers_count":92,"score":2058.6,"yours":false,"topic_id":12271,"topic_slug":"parts-environment-variables","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":13,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/environment-variables-that-snapcraft-exposes/7569","internal":true,"reflection":false,"title":"Environment variables that Snapcraft exposes","clicks":30},{"url":"https://forum.snapcraft.io/t/parts-lifecycle/12231","internal":true,"reflection":false,"title":"Parts lifecycle","clicks":5},{"url":"https://forum.snapcraft.io/t/snapcraft-parts-metadata/8336","internal":true,"reflection":false,"title":"Snapcraft parts metadata","clicks":5},{"url":"https://forum.snapcraft.io/t/snapcraft-plugins/4284","internal":true,"reflection":false,"title":"Snapcraft plugins","clicks":4},{"url":"https://forum.snapcraft.io/t/snapcraft-overview/8940","internal":true,"reflection":false,"title":"Snapcraft overview","clicks":2},{"url":"https://forum.snapcraft.io/t/adding-parts/11473","internal":true,"reflection":false,"title":"Adding parts","clicks":0},{"url":"https://forum.snapcraft.io/t/override-build-steps/4892","internal":true,"reflection":false,"title":"Override build steps","clicks":0},{"url":"https://forum.snapcraft.io/t/environment-variables/7983","internal":true,"reflection":true,"title":"Environment variables","clicks":13},{"url":"https://forum.snapcraft.io/t/snap-documentation/11127","internal":true,"reflection":true,"title":"Snap documentation","clicks":0},{"url":"https://forum.snapcraft.io/t/snapcraft-reference/31051","internal":true,"reflection":true,"title":"Snapcraft Reference","clicks":0},{"url":"https://forum.snapcraft.io/t/snapcraft-reference/31051/2","internal":true,"reflection":true,"title":"Snapcraft Reference","clicks":0},{"url":"https://forum.snapcraft.io/t/cross-compile-an-autotools-project/35643","internal":true,"reflection":true,"title":"Cross-compile an autotools project","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":true,"last_wiki_edit":"2022-11-25T17:37:41.480Z","can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":113164,"name":"","username":"nteodosio","avatar_template":"/user_avatar/forum.snapcraft.io/nteodosio/{size}/9231_2.png","created_at":"2022-08-24T17:27:28.303Z","cooked":"\u003cp\u003eI propose to change\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThe \u003ccode\u003ebuild-environment\u003c/code\u003e keyword can be used to override or expand on the default environment variables. Here is a basic example:\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eto\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThe \u003ccode\u003ebuild-environment\u003c/code\u003e keyword can be used to override the default environment variables or define new ones. Here is a basic example:\u003c/p\u003e\n\u003c/blockquote\u003e","post_number":2,"post_type":1,"updated_at":"2022-08-24T17:27:28.303Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":9.4,"yours":false,"topic_id":12271,"topic_slug":"parts-environment-variables","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":12420,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":113178,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2022-08-25T08:16:24.440Z","cooked":"\u003cp\u003eThanks for the suggestion. I’ve updated the text match your words.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2022-08-25T08:16:24.440Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":1,"reads":22,"readers_count":21,"score":9.4,"yours":false,"topic_id":12271,"topic_slug":"parts-environment-variables","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"nteodosio","avatar_template":"/user_avatar/forum.snapcraft.io/nteodosio/{size}/9231_2.png"},"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":114277,"name":"Jason C. Nucciarone","username":"nuccitheboss","avatar_template":"/user_avatar/forum.snapcraft.io/nuccitheboss/{size}/9774_2.png","created_at":"2022-09-20T02:06:34.637Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"degville\" data-post=\"1\" data-topic=\"12271\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/degville/40/2021_2.png\" class=\"avatar\"\u003e degville:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"#heading--snapcraft-configuration\"\u003eSnapcraft configuration\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#heading--snapcraft-configuration-core18-core-20\"\u003ecore | core18 | core20\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#heading--snapcraft-configuration-core22\"\u003ecore22\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eHey Graham! I hope that you are doing well. Browsing through this documentation page, I have noticed that the \u003ccode\u003ecore22\u003c/code\u003e hyperlink in the \u003cem\u003eSnapcraft configuration\u003c/em\u003e section of the table of contents is broken; if you click on it, nothing happens. It does not take you to the \u003ccode\u003ecore22\u003c/code\u003e section of \u003cem\u003eSnapcraft configuration\u003c/em\u003e.\u003c/p\u003e\n\u003cp\u003eAll the other hyperlinks in the table of contents seem to be working however. Probably just some small misconfiguration in the heading.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2022-09-20T02:06:34.637Z","reply_count":1,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":20,"readers_count":19,"score":54.0,"yours":false,"topic_id":12271,"topic_slug":"parts-environment-variables","display_username":"Jason C. Nucciarone","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":12652,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":114301,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2022-09-20T13:58:17.976Z","cooked":"\u003cp\u003eHello! Thanks so much for letting me know. This has now been fixed.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2022-09-20T13:58:17.976Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":0,"reads":17,"readers_count":16,"score":3.4,"yours":false,"topic_id":12271,"topic_slug":"parts-environment-variables","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"nuccitheboss","avatar_template":"/user_avatar/forum.snapcraft.io/nuccitheboss/{size}/9774_2.png"},"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":116480,"name":"Carlos","username":"Saphyel","avatar_template":"/letter_avatar/saphyel/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","created_at":"2022-11-15T00:07:58.229Z","cooked":"\u003cp\u003eWhat would be the way to use secrets?\u003c/p\u003e\n\u003cp\u003eLet’s say you want users of your app has the credentials of their account as an ENV VAR, how should this work?\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2022-11-15T00:07:58.229Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":10,"readers_count":9,"score":2.0,"yours":false,"topic_id":12271,"topic_slug":"parts-environment-variables","display_username":"Carlos","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":13121,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[51720,113164,113178,114277,114301,116480]},"timeline_lookup":[[1,1435],[2,295],[4,269],[5,268],[6,213]],"suggested_topics":[{"id":30809,"title":"The ROS 2 Humble extension","fancy_title":"The ROS 2 Humble extension","slug":"the-ros-2-humble-extension","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-08T20:12:10.035Z","last_posted_at":"2022-07-08T20:12:10.192Z","bumped":true,"bumped_at":"2023-03-13T13:44:02.640Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":1244,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":6739,"username":"artivis","name":"Jeremie Deray","avatar_template":"/user_avatar/forum.snapcraft.io/artivis/{size}/5695_2.png"}}]},{"id":32572,"title":"Where to store config files","fancy_title":"Where to store config files","slug":"where-to-store-config-files","posts_count":6,"reply_count":3,"highest_post_number":6,"image_url":null,"created_at":"2022-11-08T18:00:15.178Z","last_posted_at":"2022-11-11T12:55:44.133Z","bumped":true,"bumped_at":"2022-11-11T12:55:44.133Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":6,"views":297,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":13500,"username":"Yuriy","name":"Yuriy Yakimenko","avatar_template":"/letter_avatar/yuriy/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":11991,"username":"goldstar611","name":"Tony","avatar_template":"/letter_avatar/goldstar611/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1417,"username":"Lin-Buo-Ren","name":"林博仁(Buo-ren, Lin)","avatar_template":"/user_avatar/forum.snapcraft.io/lin-buo-ren/{size}/4612_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":35613,"title":"Revisions","fancy_title":"Revisions","slug":"revisions","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2023-06-14T12:00:32.246Z","last_posted_at":"2023-06-14T12:00:32.397Z","bumped":true,"bumped_at":"2023-06-15T11:10:36.858Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":44,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":32983,"title":"Snapcraft quickstart","fancy_title":"Snapcraft quickstart","slug":"snapcraft-quickstart","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":null,"created_at":"2022-12-07T10:11:58.985Z","last_posted_at":"2022-12-15T10:43:36.422Z","bumped":true,"bumped_at":"2022-12-15T10:43:08.332Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":6,"views":914,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":32664,"title":"Using the craftctl tool","fancy_title":"Using the craftctl tool","slug":"using-the-craftctl-tool","posts_count":9,"reply_count":6,"highest_post_number":9,"image_url":null,"created_at":"2022-11-13T15:44:45.708Z","last_posted_at":"2022-11-23T10:48:14.811Z","bumped":true,"bumped_at":"2022-11-23T10:48:14.811Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":7,"views":1148,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1418,"username":"galgalesh","name":"Merlijn Sebrechts","avatar_template":"/user_avatar/forum.snapcraft.io/galgalesh/{size}/9283_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":3793,"username":"cmatsuoka","name":"Claudio Matsuoka","avatar_template":"/user_avatar/forum.snapcraft.io/cmatsuoka/{size}/9338_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":11710,"username":"rpjday","name":"Robert P. J. Day","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png"}}]}],"tags":[],"id":12271,"title":"Parts environment variables","fancy_title":"Parts environment variables","posts_count":6,"created_at":"2019-07-12T12:56:41.999Z","views":7352,"reply_count":2,"like_count":2,"last_posted_at":"2022-11-15T00:07:58.229Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"parts-environment-variables","category_id":15,"word_count":1188,"deleted_at":null,"user_id":2772,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_12271","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":6,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"topic_timer":null,"message_bus_last_id":0,"participant_count":4,"show_read_indicator":false,"thumbnails":null,"details":{"notification_level":1,"participants":[{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","post_count":3,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":12420,"username":"nteodosio","name":"","avatar_template":"/user_avatar/forum.snapcraft.io/nteodosio/{size}/9231_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":12652,"username":"nuccitheboss","name":"Jason C. Nucciarone","avatar_template":"/user_avatar/forum.snapcraft.io/nuccitheboss/{size}/9774_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":13121,"username":"Saphyel","name":"Carlos","avatar_template":"/letter_avatar/saphyel/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"created_by":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"},"last_poster":{"id":13121,"username":"Saphyel","name":"Carlos","avatar_template":"/letter_avatar/saphyel/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"},"links":[{"url":"https://forum.snapcraft.io/t/environment-variables-that-snapcraft-exposes/7569","title":"Environment variables that Snapcraft exposes","internal":true,"attachment":false,"reflection":false,"clicks":30,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/environment-variables/7983","title":"Environment variables","internal":true,"attachment":false,"reflection":true,"clicks":13,"user_id":1417,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/parts-lifecycle/12231","title":"Parts lifecycle","internal":true,"attachment":false,"reflection":false,"clicks":5,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/snapcraft-parts-metadata/8336","title":"Snapcraft parts metadata","internal":true,"attachment":false,"reflection":false,"clicks":5,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/snapcraft-plugins/4284","title":"Snapcraft plugins","internal":true,"attachment":false,"reflection":false,"clicks":4,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/snapcraft-overview/8940","title":"Snapcraft overview","internal":true,"attachment":false,"reflection":false,"clicks":2,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"}]}}