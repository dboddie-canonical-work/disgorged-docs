{"post_stream":{"posts":[{"id":3324,"name":"Wiki Content","username":"wiki","avatar_template":"/user_avatar/forum.snapcraft.io/wiki/{size}/425_2.png","created_at":"2017-05-19T12:31:28.076Z","cooked":"\u003cp\u003eAs the name implies, the \u003cem\u003ekernel\u003c/em\u003e snap is responsible for defining the Linux kernel that will run in a snap-based system. The correct kernel snap for a given system is selected via the model assertion, produced and signed by the device’s brand account before the image is built. Once the image is built, the kernel snap may be updated, but it cannot be replaced by a completely different kernel snap.\u003c/p\u003e\n\u003cp\u003eCanonical publishes some reference kernel snaps as well as kernel snaps for main Canonical models such as official Ubuntu Core VMs on various certified public clouds, as well as general purpose computing images for popular physical devices such as the 64-bit x86 PC and Raspberry Pi 2 and 3.\u003c/p\u003e\n\u003ch2\u003eSetup files\u003c/h2\u003e\n\u003cp\u003eIn addition to traditional snap metadata, the kernel snap also holds some setup files fundamental to the initialization and lifecycle of the device.\u003c/p\u003e\n\u003cp\u003eThe current layout for a kernel snap is straightforward:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003emeta/snap.yaml\u003c/code\u003e - Traditional snap details, with \u003ccode\u003etype: kernel\u003c/code\u003e explicitly defined\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003ekernel.img\u003c/code\u003e - The actual kernel image\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003einitrd.img\u003c/code\u003e - The respective initrd image\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003emodules/\u0026lt;version\u0026gt;/\u003c/code\u003e - Kernel modules; version must match the one in \u003ccode\u003esnap.yaml\u003c/code\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003efirmware/\u003c/code\u003e - Optional firmware files.\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003edtbs/\u003c/code\u003e - Optional binary device-tree files, if \u003ca href=\"/t/the-gadget-snap/696/2\"\u003egadget.yaml\u003c/a\u003e states \u003ccode\u003edevice-tree-origin: kernel\u003c/code\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eSample configuration files may be found in the reference gadget snaps.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2020-09-21T21:13:56.802Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":761,"reads":112,"readers_count":111,"score":3837.4,"yours":false,"topic_id":697,"topic_slug":"the-kernel-snap","display_username":"Wiki Content","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":5,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/gadget-snaps/696/2","internal":true,"reflection":false,"title":"Gadget snaps","clicks":0},{"url":"https://forum.snapcraft.io/t/snapcraft-top-level-metadata/8334","internal":true,"reflection":true,"title":"Snapcraft top-level metadata","clicks":5},{"url":"https://forum.snapcraft.io/t/snapcraft-yaml-reference/4276","internal":true,"reflection":true,"title":"Snapcraft.yaml reference","clicks":3},{"url":"https://forum.snapcraft.io/t/ubuntu-core-boot-modes/5464","internal":true,"reflection":true,"title":"Ubuntu Core boot modes","clicks":2},{"url":"https://forum.snapcraft.io/t/snap-documentation-page-deprecated/3781","internal":true,"reflection":true,"title":"Snap Documentation (page deprecated)","clicks":1},{"url":"https://forum.snapcraft.io/t/snap-documentation/11127","internal":true,"reflection":true,"title":"Snap documentation","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":1044,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":true,"last_wiki_edit":"2020-09-21T21:13:56.824Z","can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":3325,"name":"Gustavo Niemeyer","username":"niemeyer","avatar_template":"/user_avatar/forum.snapcraft.io/niemeyer/{size}/4620_2.png","created_at":"2017-05-19T12:35:17.804Z","cooked":"\u003cp\u003eContent moved \u003ca href=\"https://github.com/snapcore/snapd/wiki/Kernel-snap\"\u003eout of the wiki\u003c/a\u003e.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-05-19T12:35:17.804Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":8,"reads":100,"readers_count":99,"score":60.0,"yours":false,"topic_id":697,"topic_slug":"the-kernel-snap","display_username":"Gustavo Niemeyer","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/snapcore/snapd/wiki/Kernel-snap","internal":false,"reflection":false,"title":"Kernel snap · snapcore/snapd Wiki · GitHub","clicks":84}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":1,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":89653,"name":"Sergio Schvezov","username":"sergiusens","avatar_template":"/user_avatar/forum.snapcraft.io/sergiusens/{size}/5621_2.png","created_at":"2021-03-24T21:27:17.691Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/mvo\"\u003e@mvo\u003c/a\u003e you recently had a PR for Snapcraft to support kernel.yaml  but I do not see it documented here nor anywhere else nor what contents it is supposed to have. Can that be added? Maybe \u003ca class=\"mention\" href=\"/u/degville\"\u003e@degville\u003c/a\u003e?\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2021-03-24T21:27:17.691Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":22,"readers_count":21,"score":9.4,"yours":false,"topic_id":697,"topic_slug":"the-kernel-snap","display_username":"Sergio Schvezov","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"policy-reviewers","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":25,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":90151,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2021-04-01T12:13:53.925Z","cooked":"\u003cp\u003eI’ve spoken to \u003ca class=\"mention\" href=\"/u/mvo\"\u003e@mvo\u003c/a\u003e about this and we’ll make sure it’s documented. The final iteration of the spec has just been completed.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2021-04-01T12:13:53.925Z","reply_count":1,"reply_to_post_number":3,"quote_count":0,"incoming_link_count":1,"reads":18,"readers_count":17,"score":28.6,"yours":false,"topic_id":697,"topic_slug":"the-kernel-snap","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"sergiusens","avatar_template":"/user_avatar/forum.snapcraft.io/sergiusens/{size}/5621_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":96145,"name":"","username":"john-s","avatar_template":"/user_avatar/forum.snapcraft.io/john-s/{size}/7759_2.png","created_at":"2021-07-20T03:24:17.264Z","cooked":"\u003cp\u003eExciting work - I’m looking forward to trying this out.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2021-07-20T03:24:17.264Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":0,"reads":10,"readers_count":9,"score":2.0,"yours":false,"topic_id":697,"topic_slug":"the-kernel-snap","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":10256,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[3324,3325,89653,90151,96145]},"timeline_lookup":[[1,2219],[3,813],[4,806],[5,696]],"suggested_topics":[{"id":31152,"title":"Refresh awareness","fancy_title":"Refresh awareness","slug":"refresh-awareness","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-08-04T11:13:22.373Z","last_posted_at":"2023-02-16T16:37:34.392Z","bumped":true,"bumped_at":"2023-02-16T16:37:34.392Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":2,"views":1730,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":13385,"username":"ernstklrb","name":"","avatar_template":"/letter_avatar/ernstklrb/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1903,"username":"dhoomakethu","name":"dhoomkethu","avatar_template":"/letter_avatar/dhoomakethu/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1418,"username":"galgalesh","name":"Merlijn Sebrechts","avatar_template":"/user_avatar/forum.snapcraft.io/galgalesh/{size}/9283_2.png"}}]},{"id":34416,"title":"How to guides for classic confinement","fancy_title":"How to guides for classic confinement","slug":"how-to-guides-for-classic-confinement","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2023-03-21T09:34:37.128Z","last_posted_at":"2023-03-21T09:50:37.844Z","bumped":true,"bumped_at":"2023-03-21T09:50:37.844Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":["how-to"],"like_count":0,"views":461,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":14015,"username":"dboddie","name":"David Boddie","avatar_template":"/user_avatar/forum.snapcraft.io/dboddie/{size}/9564_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":33078,"title":"Build and publishing example","fancy_title":"Build and publishing example","slug":"build-and-publishing-example","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-12-13T13:17:46.677Z","last_posted_at":"2023-05-31T16:11:13.715Z","bumped":true,"bumped_at":"2023-05-31T16:11:13.715Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":1,"views":728,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":14652,"username":"jh-slack","name":"Jade Ho","avatar_template":"/letter_avatar/jh-slack/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}}]},{"id":34099,"title":"Set up classic confinement for an autotools project","fancy_title":"Set up classic confinement for an autotools project","slug":"set-up-classic-confinement-for-an-autotools-project","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2023-02-27T17:10:47.688Z","last_posted_at":"2023-03-29T11:52:25.139Z","bumped":true,"bumped_at":"2023-03-29T11:52:25.139Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":["how-to"],"like_count":2,"views":807,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":14015,"username":"dboddie","name":"David Boddie","avatar_template":"/user_avatar/forum.snapcraft.io/dboddie/{size}/9564_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":14252,"username":"zhsj","name":"Shengjing Zhu","avatar_template":"/user_avatar/forum.snapcraft.io/zhsj/{size}/9689_2.png"}}]},{"id":33643,"title":"Excluding data from snapshots","fancy_title":"Excluding data from snapshots","slug":"excluding-data-from-snapshots","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2023-01-26T22:12:07.654Z","last_posted_at":"2023-01-26T22:12:07.786Z","bumped":true,"bumped_at":"2023-01-27T17:10:42.642Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":3,"views":195,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":13821,"username":"ernestl","name":"Ernest Lotter","avatar_template":"/letter_avatar/ernestl/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}}]}],"tags":[],"id":697,"title":"The kernel snap","fancy_title":"The kernel snap","posts_count":5,"created_at":"2017-05-19T12:31:27.937Z","views":11722,"reply_count":2,"like_count":3,"last_posted_at":"2021-07-20T03:24:17.264Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"the-kernel-snap","category_id":15,"word_count":312,"deleted_at":null,"user_id":1044,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_697","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":5,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"topic_timer":null,"message_bus_last_id":0,"participant_count":5,"show_read_indicator":false,"thumbnails":null,"details":{"notification_level":1,"participants":[{"id":1,"username":"niemeyer","name":"Gustavo Niemeyer","avatar_template":"/user_avatar/forum.snapcraft.io/niemeyer/{size}/4620_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":25,"username":"sergiusens","name":"Sergio Schvezov","avatar_template":"/user_avatar/forum.snapcraft.io/sergiusens/{size}/5621_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":1044,"username":"wiki","name":"Wiki Content","avatar_template":"/user_avatar/forum.snapcraft.io/wiki/{size}/425_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":10256,"username":"john-s","name":"","avatar_template":"/user_avatar/forum.snapcraft.io/john-s/{size}/7759_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"created_by":{"id":1044,"username":"wiki","name":"Wiki Content","avatar_template":"/user_avatar/forum.snapcraft.io/wiki/{size}/425_2.png"},"last_poster":{"id":10256,"username":"john-s","name":"","avatar_template":"/user_avatar/forum.snapcraft.io/john-s/{size}/7759_2.png"},"links":[{"url":"https://github.com/snapcore/snapd/wiki/Kernel-snap","title":"Kernel snap · snapcore/snapd Wiki · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":84,"user_id":1,"domain":"github.com","root_domain":"github.com"},{"url":"https://forum.snapcraft.io/t/snapcraft-top-level-metadata/8334","title":"Snapcraft top-level metadata","internal":true,"attachment":false,"reflection":true,"clicks":5,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/snapcraft-yaml-reference/4276","title":"Snapcraft.yaml reference","internal":true,"attachment":false,"reflection":true,"clicks":3,"user_id":25,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/ubuntu-core-boot-modes/5464","title":"Ubuntu Core boot modes","internal":true,"attachment":false,"reflection":true,"clicks":2,"user_id":4,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/snap-documentation-page-deprecated/3781","title":"Snap Documentation (page deprecated)","internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"}]}}