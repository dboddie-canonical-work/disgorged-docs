{"post_stream":{"posts":[{"id":9874,"name":"Wiki Content","username":"wiki","avatar_template":"/user_avatar/forum.snapcraft.io/wiki/{size}/425_2.png","created_at":"2017-09-07T19:05:39.712Z","cooked":"\u003cp\u003e\u003ccode\u003edbus\u003c/code\u003e allows owning a specifc name on DBus.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eAuto-connect\u003c/strong\u003e: no\u003cbr\u003e\n\u003cstrong\u003eAttributes\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003ename\u003c/code\u003e (slot): well-known DBus connection name for the service (eg, \u003ccode\u003eorg.foo.bar\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003ebus\u003c/code\u003e (slot): DBus bus to use (ie, \u003ccode\u003esession\u003c/code\u003e or \u003ccode\u003esystem\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003ename\u003c/code\u003e (plug): well-known DBus connection name of the service from the providing snap\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003ebus\u003c/code\u003e (plug): DBus bus to use for providing snap\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eSnaps that want to communicate via a well-known DBus connection name need to have matching \u003ccode\u003ebus\u003c/code\u003e and \u003ccode\u003ename\u003c/code\u003e attributes and then be connected via \u003ccode\u003esnap connect\u003c/code\u003e. Snaps specifying \u003ccode\u003ebus: system\u003c/code\u003e will have a default DBus bus policy that allows \u003ccode\u003eroot\u003c/code\u003e to own the name and anyone to send to a destination that matches the well-known name (eg, \u003ccode\u003eorg.foo.bar\u003c/code\u003e). Once connected, the consuming snap may communicate with the providing snap via:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ethe specified well-known DBus connection name (eg, \u003ccode\u003eorg.foo.bar\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003ea unique DBus connection name using a matching DBus interface  (eg, \u003ccode\u003eorg.foo.bar.baz\u003c/code\u003e) or DBus path (eg, \u003ccode\u003e/org/foo/bar/norf\u003c/code\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThis interface is particularly well-suited for leaf-style applications from GNOME, KDE, etc to integrate into the desktop session. Future versions of snapd may allow greater flexibility for bus policy, DBus interfaces and DBus paths and also support session services and DBus\u003cbr\u003e\nactivation.\u003c/p\u003e\n\u003cp\u003eNote: when developing snaps using devmode for DBus system services, the slot implementation must use this interface so that snapd may adjust the DBus bus policy so the snap may use the system bus.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eⓘ  This is a snap interface. See \u003ca href=\"/t/interface-management/6154\"\u003eInterface management\u003c/a\u003e and \u003ca href=\"/t/supported-interfaces/7744\"\u003eSupported interfaces\u003c/a\u003e for further details on how interfaces are used.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003eUsing the D-Bus interface\u003c/h2\u003e\n\u003cp\u003eThe dbus interface provides a way for snaps to communicate over DBus. The snap providing the DBus service declares a slot with the well-known DBus name and which bus it uses. Snaps wanting to communicate with the providing snap’s service declare a plug for the providing snap. Note that a snap declaration is needed for your snap to be delivered via the snap store and claim this well-known DBus name (simply upload the snap to the store and request a manual review and a reviewer will take a look).\u003c/p\u003e\n\u003cp\u003eWhen a providing snap is installed, snapd will generate security policy that will allow it to listen on the well-known DBus name on the specified bus. If the \u003ccode\u003esystem\u003c/code\u003e bus is specified, snapd will also generate DBus bus policy that allows ‘root’ to own the name and any user to communicate with the service. Non-snap processes are allowed to communicate with the providing snap following traditional permissions checks. Other (consuming) snaps may only communicate with the providing snap by connecting the snaps’ interface.\u003c/p\u003e\n\u003ch2\u003eExamples\u003c/h2\u003e\n\u003ch3\u003eDesktop application\u003c/h3\u003e\n\u003cp\u003eDesktop applications sometimes listen on a well-known DBus name so that other desktop session services and applications may interact with them. This is common for GNOME and KDE applications, for example. Snaps listening on the session bus may only be accessed by processes running in the user’s session.\u003c/p\u003e\n\u003ch4\u003eProviding snap (slot)\u003c/h4\u003e\n\u003cp\u003eAs a developer, if your application listens on the \u003ccode\u003esession\u003c/code\u003e bus with the well-known name “org.example.foo”, then you might adjust your snap’s yaml to have:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ename: foo\n...\nslots:\n  dbus-svc: # name that is used with 'snap connect' on slots side\n    interface: dbus\n    bus: session\n    name: org.example.foo\n...\napps:\n  foo:\n    command: ...\n    slots: [ dbus-svc ]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4\u003eConsuming snap (plug)\u003c/h4\u003e\n\u003cp\u003eAs a developer, if you want your snap to communicate over DBus with another snap via the “org.example.foo” DBus well-known name on the \u003ccode\u003esession\u003c/code\u003e bus, you might adjust your snap’s yaml to have:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ename: bar\n...\nplugs:\n  foo-svc:  # name that is used with 'snap connect' on plugs side\n    bus: session\n    interface: dbus\n    name: org.example.foo\n...\napps:\n  bar:\n    command: ...\n    plugs:\n    - foo-svc\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eSystem service\u003c/h3\u003e\n\u003cp\u003eServices may also listen on the DBus system bus. Snaps listening on the system bus run as root and may be accessed by any user on the system. While the snapd security policy will limit which connecting snaps can communicate with the service, slot implementations may want to perform additional permission checks (eg, UID) to further limit access.\u003c/p\u003e\n\u003ch4\u003eProviding snap\u003c/h4\u003e\n\u003cp\u003eAs a developer, if your application listens on the \u003ccode\u003esystem\u003c/code\u003e bus with the well-known name “org.example.foo”, then the snap’s yaml is the same as above, but specify the \u003ccode\u003esystem\u003c/code\u003e bus:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ename: foo\n...\nslots:\n  dbus-svc: # name that is used with 'snap connect' on slots side\n    interface: dbus\n    bus: system\n    name: org.example.foo\n...\napps:\n  foo:\n    command: ...\n    slots: [ dbus-svc ]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4\u003eConsuming snap\u003c/h4\u003e\n\u003cp\u003eAs a developer, if you want your snap to communicate over DBus with another snap via the “org.example.foo” DBus well-known name on the \u003ccode\u003esystem\u003c/code\u003e bus, then the snap’s yaml is the same as above, but specify the \u003ccode\u003esystem\u003c/code\u003e bus:slight_smile:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ename: bar\n...\nplugs:\n  foo-svc:  # name that is used with 'snap connect' on plugs side\n    bus: system\n    interface: dbus\n    name: org.example.foo\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eSnap dbus interface connections\u003c/h2\u003e\n\u003cp\u003eAs a user, if you want to allow \u003ccode\u003ebar\u003c/code\u003e to communicate with \u003ccode\u003efoo\u003c/code\u003e via DBus, then you can connect the interface like so:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ sudo snap connect bar:foo-svc foo:dbus-svc\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou can check it’s worked with the following:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ snap connections\nInterface           Plug                 Slot               Notes\ndbus-svc            bar:dbus-svc         foo:dbus-svc       -\n[...]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTo disconnect:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ sudo snap disconnect bar:foo-svc foo:dbus-svc\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eFuture work\u003c/h2\u003e\n\u003cp\u003eAutostarting of DBus session services and DBus activation is not supported at this time, but is planned. When that support is added, this document will be updated accordingly.\u003c/p\u003e\n\u003ch2\u003eReferences\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/snapcore/snapd/wiki/Interfaces#dbus\" rel=\"noopener nofollow ugc\"\u003ehttps://github.com/snapcore/snapd/wiki/Interfaces#dbus\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/snapcore/snapd/blob/master/interfaces/builtin/dbus.go\" rel=\"noopener nofollow ugc\"\u003ehttps://github.com/snapcore/snapd/blob/master/interfaces/builtin/dbus.go\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","post_number":1,"post_type":1,"updated_at":"2019-03-28T15:14:17.779Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1065,"reads":183,"readers_count":182,"score":5393.6,"yours":false,"topic_id":2038,"topic_slug":"the-dbus-interface","display_username":"Wiki Content","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":8,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/snapcore/snapd/wiki/Interfaces#dbus","internal":false,"reflection":false,"title":"Interfaces · snapcore/snapd Wiki · GitHub","clicks":46},{"url":"https://github.com/snapcore/snapd/blob/master/interfaces/builtin/dbus.go","internal":false,"reflection":false,"title":"snapd/dbus.go at master · snapcore/snapd · GitHub","clicks":23},{"url":"https://forum.snapcraft.io/t/interface-management/6154","internal":true,"reflection":false,"title":"Interface management","clicks":6},{"url":"https://forum.snapcraft.io/t/supported-interfaces/7744","internal":true,"reflection":true,"title":"Supported interfaces","clicks":10},{"url":"https://forum.snapcraft.io/t/dbus-confinement-rules-what-does-the-snapcraft-store-need/3624","internal":true,"reflection":true,"title":"Dbus confinement rules -- what does the snapcraft store need?","clicks":4},{"url":"https://forum.snapcraft.io/t/the-desktop-interfaces/2042","internal":true,"reflection":true,"title":"The desktop interfaces","clicks":3},{"url":"https://forum.snapcraft.io/t/automatic-review-for-snap-failed/20563/2","internal":true,"reflection":true,"title":"Automatic review for snap failed","clicks":0},{"url":"https://forum.snapcraft.io/t/request-for-review/22220/2","internal":true,"reflection":true,"title":"Request for Review","clicks":0},{"url":"https://forum.snapcraft.io/t/request-for-auto-connections-for-dawn/23067/2","internal":true,"reflection":true,"title":"Request for auto-connections for dawn","clicks":0},{"url":"https://forum.snapcraft.io/t/classic-confinement-request-for-wazzapp/23053/2","internal":true,"reflection":true,"title":"Classic confinement request for wazzapp","clicks":0},{"url":"https://forum.snapcraft.io/t/review-request-for-iptux/23684/2","internal":true,"reflection":true,"title":"Review request for 'iptux'","clicks":0},{"url":"https://forum.snapcraft.io/t/turboexecutive-classic-confinement/17420/6","internal":true,"reflection":true,"title":"TurboExecutive Classic Confinement","clicks":0},{"url":"https://forum.snapcraft.io/t/snap-documentation/11127","internal":true,"reflection":true,"title":"Snap documentation","clicks":0},{"url":"https://forum.snapcraft.io/t/deny-connection-constraint-fails-in-automated-review/25388/2","internal":true,"reflection":true,"title":"Deny-connection constraint fails in automated review","clicks":0},{"url":"https://forum.snapcraft.io/t/human-review-required-due-to-deny-connection-constraint-interface-attributes-declaration-snap-v2-slots-connection-passie-dbus-dbus/34764/12","internal":true,"reflection":true,"title":"Human review required due to 'deny-connection' constraint (interface attributes) declaration-snap-v2_slots_connection (passie-dbus, dbus)","clicks":0},{"url":"https://forum.snapcraft.io/t/issue-establishing-dbus-interface-with-org-kde-plasmashell/14908/3","internal":true,"reflection":true,"title":"Issue establishing Dbus interface with org.kde.PlasmaShell","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":1044,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":true,"last_wiki_edit":"2019-03-28T15:14:17.825Z","can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":28697,"name":"林博仁(Buo-ren, Lin)","username":"Lin-Buo-Ren","avatar_template":"/user_avatar/forum.snapcraft.io/lin-buo-ren/{size}/4612_2.png","created_at":"2018-06-24T02:16:28.707Z","cooked":"\u003cp\u003eI’d like to note that currently,\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003ca href=\"http://docs.snapcraft.io\"\u003edocs.snapcraft.io\u003c/a\u003e snapcraft syntax doesn’t mention the \u003ccode\u003eplugs\u003c/code\u003e and \u003ccode\u003eslots\u003c/code\u003e keywords\u003c/li\u003e\n\u003cli\u003eThe Attributes field in the \u003ca href=\"http://docs.snapcraft.io\"\u003edocs.snapcraft.io\u003c/a\u003e interfaces reference doesn’t mention how the attributes can be used, it probably should be linked to the documentation of 1.\u003c/li\u003e\n\u003c/ol\u003e","post_number":2,"post_type":1,"updated_at":"2018-06-26T06:12:58.911Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":86,"readers_count":85,"score":22.2,"yours":false,"topic_id":2038,"topic_slug":"the-dbus-interface","display_username":"林博仁(Buo-ren, Lin)","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://docs.snapcraft.io","internal":false,"reflection":false,"clicks":3}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1417,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":35808,"name":"林博仁(Buo-ren, Lin)","username":"Lin-Buo-Ren","avatar_template":"/user_avatar/forum.snapcraft.io/lin-buo-ren/{size}/4612_2.png","created_at":"2018-10-14T12:58:16.702Z","cooked":"\u003caside class=\"quote no-group quote-modified\" data-username=\"wiki\" data-post=\"1\" data-topic=\"2038\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/wiki/40/425_2.png\" class=\"avatar\"\u003e wiki:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eapps: foo: command: … slots: [ dbus-svc ]\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eI doubt this part is required, can anyone confirm it?  I believe the external \u003ccode\u003eslots\u003c/code\u003e keyword already applies to the entire snaps.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2018-10-14T13:03:58.960Z","reply_count":1,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":2,"reads":65,"readers_count":64,"score":28.0,"yours":false,"topic_id":2038,"topic_slug":"the-dbus-interface","display_username":"林博仁(Buo-ren, Lin)","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1417,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":35839,"name":"Jamie Strandboge","username":"jdstrand","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png","created_at":"2018-10-14T16:33:58.068Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"Lin-Buo-Ren\" data-post=\"3\" data-topic=\"2038\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/lin-buo-ren/40/4612_2.png\" class=\"avatar\"\u003e Lin-Buo-Ren:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eI doubt this part is required, can anyone confirm it? I believe the external \u003ccode\u003eslots\u003c/code\u003e keyword already applies to the entire snaps.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eIt isn’t required but is considered best practice to do it this way. There will be only one command that will actually bind to the well-known name, so limiting the slot to that command makes sense.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2018-10-14T16:33:58.068Z","reply_count":0,"reply_to_post_number":3,"quote_count":1,"incoming_link_count":2,"reads":60,"readers_count":59,"score":37.0,"yours":false,"topic_id":2038,"topic_slug":"the-dbus-interface","display_username":"Jamie Strandboge","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":98827,"name":"","username":"podkiva","avatar_template":"/letter_avatar/podkiva/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","created_at":"2021-09-06T07:27:35.048Z","cooked":"\u003cp\u003eI have a question regarding the general purpose of the dbus interface:\u003c/p\u003e\n\u003cp\u003eis it intended only for snap-to-snap dbus connections, or it also should be used if I want to grant my snap access to some other org.foo.bar service present on the session/system bus?\u003c/p\u003e\n\u003cp\u003eFor example, do I use it to grant my snap access to \u003cem\u003eorg.gnome.SettingsDaemon.Power.Screen\u003c/em\u003e object? As I understand, my snap would be a “consumer” in this context, which means I have to define a plug with dbus interface for it, but there are no respective slot anywhere that I can connect to since the service is not provided by other snap.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2021-09-06T07:27:35.048Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":9.6,"yours":false,"topic_id":2038,"topic_slug":"the-dbus-interface","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/dbus-access-problem/26371/2","internal":true,"reflection":true,"title":"Dbus access problem","clicks":3}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":10754,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":98838,"name":"Oliver Grawert","username":"ogra","avatar_template":"/user_avatar/forum.snapcraft.io/ogra/{size}/22_2.png","created_at":"2021-09-06T09:42:51.526Z","cooked":"\u003cp\u003ethe gsettings interface should provide you access to all user related gnome-settings-daemon options … many dbus permissions are already granted by existing interfaces and the \u003ccode\u003esnappy-debug\u003c/code\u003e tool should tell you about which of them to use.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2021-09-06T09:42:51.526Z","reply_count":1,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":0,"reads":22,"readers_count":21,"score":9.4,"yours":false,"topic_id":2038,"topic_slug":"the-dbus-interface","display_username":"Oliver Grawert","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/dbus-access-problem/26371/3","internal":true,"reflection":true,"title":"Dbus access problem","clicks":1}],"read":true,"user_title":null,"reply_to_user":{"username":"podkiva","avatar_template":"/letter_avatar/podkiva/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":9,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":98858,"name":"","username":"podkiva","avatar_template":"/letter_avatar/podkiva/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","created_at":"2021-09-06T12:52:06.269Z","cooked":"\u003cp\u003eHello, Thank you for response,\u003c/p\u003e\n\u003cp\u003eI tried adding “gsettings” interface with no luck - the are no permissions in the apparmor profile and \u003ccode\u003esnappy-debug\u003c/code\u003e still shows access violations (more details on this in \u003ca href=\"https://forum.snapcraft.io/t/dbus-access-problem/26371/3\"\u003ehere\u003c/a\u003e).\u003c/p\u003e\n\u003cp\u003eBut on the first question, is dbus interface is intended only for snap-to-snap communication permsissions?\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2021-09-06T12:53:01.775Z","reply_count":0,"reply_to_post_number":6,"quote_count":0,"incoming_link_count":1,"reads":23,"readers_count":22,"score":9.6,"yours":false,"topic_id":2038,"topic_slug":"the-dbus-interface","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/dbus-access-problem/26371/3","internal":true,"reflection":false,"title":"Dbus access problem","clicks":1}],"read":true,"user_title":null,"reply_to_user":{"username":"ogra","avatar_template":"/user_avatar/forum.snapcraft.io/ogra/{size}/22_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":10754,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":112133,"name":"","username":"xvitaly","avatar_template":"/user_avatar/forum.snapcraft.io/xvitaly/{size}/9013_2.png","created_at":"2022-07-24T18:43:41.448Z","cooked":"\u003cp\u003eIs it possible to call non-Snap application dbus methods from Snaps?\u003c/p\u003e\n\u003cp\u003eFor example, I want to access \u003ccode\u003ecom.redhat.tuned\u003c/code\u003e provided by the \u003ccode\u003etuned\u003c/code\u003e native Ubuntu package.\u003c/p\u003e\n\u003cp\u003eI added the following to my \u003ccode\u003esnapcraft.yaml\u003c/code\u003e file:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eapps:\n  tuned-switcher:\n    ...\n    plugs:\n      ...\n      - tuned-dbus\n\nplugs:\n  tuned-dbus:\n    interface: dbus\n    bus: system\n    name: com.redhat.tuned\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBut AppArmor blocks access:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e= AppArmor =\nTime: Jul 24 17:51:18\nLog: apparmor=\"DENIED\" operation=\"dbus_method_call\"  bus=\"system\" path=\"/Tuned\" interface=\"com.redhat.tuned.control\" member=\"profiles\" mask=\"send\" name=\"com.redhat.tuned\" pid=13010 label=\"snap.tuned-switcher.tuned-switcher\" peer_pid=7524 peer_label=\"unconfined\"\nDBus access\n\u003c/code\u003e\u003c/pre\u003e","post_number":8,"post_type":1,"updated_at":"2022-07-24T18:43:41.448Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":14,"readers_count":13,"score":7.8,"yours":false,"topic_id":2038,"topic_slug":"the-dbus-interface","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":12883,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":112163,"name":"Lucy Llewellyn","username":"lucyllewy","avatar_template":"/user_avatar/forum.snapcraft.io/lucyllewy/{size}/9782_2.png","created_at":"2022-07-25T16:41:24.421Z","cooked":"\u003cp\u003edid you connect the plug after you installed the snap? This is required for dbus plugs because policy dictates they not be connected by default. You can request an automatic connection when your snap is delivered through the store by posting a request in the \u003ccode\u003estore-requests\u003c/code\u003e category on this forum.\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2022-07-25T16:41:24.421Z","reply_count":1,"reply_to_post_number":8,"quote_count":0,"incoming_link_count":0,"reads":15,"readers_count":14,"score":8.0,"yours":false,"topic_id":2038,"topic_slug":"the-dbus-interface","display_username":"Lucy Llewellyn","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"xvitaly","avatar_template":"/user_avatar/forum.snapcraft.io/xvitaly/{size}/9013_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":286,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":112164,"name":"","username":"xvitaly","avatar_template":"/user_avatar/forum.snapcraft.io/xvitaly/{size}/9013_2.png","created_at":"2022-07-25T16:58:15.733Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"lucyllewy\" data-post=\"9\" data-topic=\"2038\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"/user_avatar/forum.snapcraft.io/lucyllewy/40/9035_2.png\" class=\"avatar\"\u003e lucyllewy:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003edid you connect the plug after you installed the snap?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cpre\u003e\u003ccode\u003eubuntu@ubuntu:~$ sudo snap connect tuned-switcher:systemd-dbus\nerror: snap \"snapd\" has no \"dbus\" interface slots\nubuntu@ubuntu:~$ sudo snap connect tuned-switcher:tuned-dbus\nerror: snap \"snapd\" has no \"dbus\" interface slots\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/EasyCoding/tuned-switcher/raw/master/snapcraft.yaml\" rel=\"noopener nofollow ugc\"\u003esnapcraft.yaml source\u003c/a\u003e\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2022-07-25T17:03:49.415Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":15,"readers_count":14,"score":3.0,"yours":false,"topic_id":2038,"topic_slug":"the-dbus-interface","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/EasyCoding/tuned-switcher/raw/master/snapcraft.yaml","internal":false,"reflection":false,"clicks":1}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":12883,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[9874,28697,35808,35839,98827,98838,98858,112133,112163,112164]},"timeline_lookup":[[1,2107],[2,1818],[3,1706],[4,1705],[5,648],[8,326],[9,325]],"suggested_topics":[{"id":32211,"title":"Snapcraft linters","fancy_title":"Snapcraft linters","slug":"snapcraft-linters","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-10-17T20:12:23.427Z","last_posted_at":"2023-05-15T13:21:11.198Z","bumped":true,"bumped_at":"2023-05-15T13:21:11.198Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":4,"views":1229,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":3793,"username":"cmatsuoka","name":"Claudio Matsuoka","avatar_template":"/user_avatar/forum.snapcraft.io/cmatsuoka/{size}/9338_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1418,"username":"galgalesh","name":"Merlijn Sebrechts","avatar_template":"/user_avatar/forum.snapcraft.io/galgalesh/{size}/9283_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":4363,"username":"xnox","name":"Dimitri John Ledkov","avatar_template":"/user_avatar/forum.snapcraft.io/xnox/{size}/4776_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":393,"username":"jamesh","name":"James Henstridge","avatar_template":"/user_avatar/forum.snapcraft.io/jamesh/{size}/3947_2.png"}}]},{"id":32572,"title":"Where to store config files","fancy_title":"Where to store config files","slug":"where-to-store-config-files","posts_count":6,"reply_count":3,"highest_post_number":6,"image_url":null,"created_at":"2022-11-08T18:00:15.178Z","last_posted_at":"2022-11-11T12:55:44.133Z","bumped":true,"bumped_at":"2022-11-11T12:55:44.133Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":6,"views":297,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":13500,"username":"Yuriy","name":"Yuriy Yakimenko","avatar_template":"/letter_avatar/yuriy/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":11991,"username":"goldstar611","name":"Tony","avatar_template":"/letter_avatar/goldstar611/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1417,"username":"Lin-Buo-Ren","name":"林博仁(Buo-ren, Lin)","avatar_template":"/user_avatar/forum.snapcraft.io/lin-buo-ren/{size}/4612_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":32228,"title":"Classic linter","fancy_title":"Classic linter","slug":"classic-linter","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-10-18T17:22:41.599Z","last_posted_at":"2022-10-19T13:02:49.311Z","bumped":true,"bumped_at":"2022-10-19T13:02:49.311Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":2,"views":920,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":3793,"username":"cmatsuoka","name":"Claudio Matsuoka","avatar_template":"/user_avatar/forum.snapcraft.io/cmatsuoka/{size}/9338_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":393,"username":"jamesh","name":"James Henstridge","avatar_template":"/user_avatar/forum.snapcraft.io/jamesh/{size}/3947_2.png"}}]},{"id":32908,"title":"The pwm-control interface","fancy_title":"The pwm-control interface","slug":"the-pwm-control-interface","posts_count":8,"reply_count":6,"highest_post_number":9,"image_url":null,"created_at":"2022-11-30T08:57:34.695Z","last_posted_at":"2023-03-30T09:37:54.031Z","bumped":true,"bumped_at":"2023-03-30T09:37:54.031Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":3,"views":552,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":8707,"username":"zyga","name":"Zygmunt Krynicki","avatar_template":"/user_avatar/forum.snapcraft.io/zyga/{size}/4376_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":11710,"username":"rpjday","name":"Robert P. J. Day","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png"}}]},{"id":34730,"title":".NET apps","fancy_title":".NET apps","slug":"net-apps","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2023-04-13T17:19:06.288Z","last_posted_at":"2023-05-29T06:08:55.544Z","bumped":true,"bumped_at":"2023-05-29T06:08:55.544Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":3,"views":300,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":14372,"username":"mateus-morais","name":"Mateus Rodrigues de Morais","avatar_template":"/user_avatar/forum.snapcraft.io/mateus-morais/{size}/9752_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":14625,"username":"vvavrychuk","name":"Vasyl Vavrychuk","avatar_template":"/user_avatar/forum.snapcraft.io/vvavrychuk/{size}/9864_2.png"}}]}],"tags":[],"id":2038,"title":"The dbus interface","fancy_title":"The dbus interface","posts_count":10,"created_at":"2017-09-07T19:05:39.629Z","views":9198,"reply_count":4,"like_count":2,"last_posted_at":"2022-07-25T16:58:15.733Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"the-dbus-interface","category_id":15,"word_count":1539,"deleted_at":null,"user_id":1044,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_2038","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":10,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"topic_timer":null,"message_bus_last_id":0,"participant_count":7,"show_read_indicator":false,"thumbnails":null,"details":{"notification_level":1,"participants":[{"id":1417,"username":"Lin-Buo-Ren","name":"林博仁(Buo-ren, Lin)","avatar_template":"/user_avatar/forum.snapcraft.io/lin-buo-ren/{size}/4612_2.png","post_count":2,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":10754,"username":"podkiva","name":"","avatar_template":"/letter_avatar/podkiva/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","post_count":2,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":12883,"username":"xvitaly","name":"","avatar_template":"/user_avatar/forum.snapcraft.io/xvitaly/{size}/9013_2.png","post_count":2,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":9,"username":"ogra","name":"Oliver Grawert","avatar_template":"/user_avatar/forum.snapcraft.io/ogra/{size}/22_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":1044,"username":"wiki","name":"Wiki Content","avatar_template":"/user_avatar/forum.snapcraft.io/wiki/{size}/425_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":21,"username":"jdstrand","name":"Jamie Strandboge","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":286,"username":"lucyllewy","name":"Lucy Llewellyn","avatar_template":"/user_avatar/forum.snapcraft.io/lucyllewy/{size}/9782_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"created_by":{"id":1044,"username":"wiki","name":"Wiki Content","avatar_template":"/user_avatar/forum.snapcraft.io/wiki/{size}/425_2.png"},"last_poster":{"id":12883,"username":"xvitaly","name":"","avatar_template":"/user_avatar/forum.snapcraft.io/xvitaly/{size}/9013_2.png"},"links":[{"url":"https://github.com/snapcore/snapd/wiki/Interfaces#dbus","title":"Interfaces · snapcore/snapd Wiki · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":46,"user_id":21,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/snapcore/snapd/blob/master/interfaces/builtin/dbus.go","title":"snapd/dbus.go at master · snapcore/snapd · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":23,"user_id":21,"domain":"github.com","root_domain":"github.com"},{"url":"https://forum.snapcraft.io/t/supported-interfaces/7744","title":"Supported interfaces","internal":true,"attachment":false,"reflection":true,"clicks":10,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/interface-management/6154","title":"Interface management","internal":true,"attachment":false,"reflection":false,"clicks":6,"user_id":1044,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/dbus-confinement-rules-what-does-the-snapcraft-store-need/3624","title":"Dbus confinement rules -- what does the snapcraft store need?","internal":true,"attachment":false,"reflection":true,"clicks":4,"user_id":1756,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"http://docs.snapcraft.io","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":1417,"domain":"docs.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/the-desktop-interfaces/2042","title":"The desktop interfaces","internal":true,"attachment":false,"reflection":true,"clicks":3,"user_id":21,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/dbus-access-problem/26371/2","title":"Dbus access problem","internal":true,"attachment":false,"reflection":true,"clicks":3,"user_id":10754,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://github.com/EasyCoding/tuned-switcher/raw/master/snapcraft.yaml","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":12883,"domain":"github.com","root_domain":"github.com"},{"url":"https://forum.snapcraft.io/t/dbus-access-problem/26371/3","title":"Dbus access problem","internal":true,"attachment":false,"reflection":false,"clicks":1,"user_id":10754,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/dbus-access-problem/26371/3","title":"Dbus access problem","internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":10754,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"}]}}