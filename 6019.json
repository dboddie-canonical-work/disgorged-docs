{"post_stream":{"posts":[{"id":28398,"name":"Kyle Fazzari","username":"kyrofa","avatar_template":"/user_avatar/forum.snapcraft.io/kyrofa/{size}/4384_2.png","created_at":"2018-06-19T19:37:19.857Z","cooked":"\u003cp\u003eIn an effort to have a clearer way to express common patterns and reduce repetition, we’re proposing the introduction of the \u003ccode\u003etemplates\u003c/code\u003e property. This is a root property as well as a per-app property (root \u003ccode\u003etemplates\u003c/code\u003e apply to apps that do not declare a template).\u003c/p\u003e\n\u003cp\u003eIn a general sense, templates manipulate the YAML within the \u003ccode\u003esnapcraft.yaml\u003c/code\u003e, but only in a way that is expressible as a plain \u003ccode\u003esnapcraft.yaml\u003c/code\u003e. For example, they can add new parts, add a minimum set of plugs to apps, etc.\u003c/p\u003e\n\u003cp\u003eSay a \u003ccode\u003egtk3\u003c/code\u003e template was supported. The way a user might specify that a given app is a gtk3 app would look like this:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e# \u0026lt;snip metadata\u0026gt;\n\napps:\n  my-app:\n    command: run-my-app\n    templates: [gtk3]\n\n# \u0026lt;snip parts\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWith that, the snapcraft CLI knows two things need to happen:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eThe \u003ccode\u003egtk3\u003c/code\u003e template will need to be built and installed into the snap like any other part.\u003c/li\u003e\n\u003cli\u003eThe \u003ccode\u003egtk3\u003c/code\u003e template will need to add a YAML snippet to the app definition (for example, \u003ccode\u003egtk3\u003c/code\u003e might add the x11 plug, and may also need to add an item to the \u003ca href=\"https://forum.snapcraft.io/t/proposal-add-command-chain-to-apps/6018\"\u003ecommand chain\u003c/a\u003e).\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThe snapcraft CLI will also need to grow a new command for displaying the exploded \u003ccode\u003esnapcraft.yaml\u003c/code\u003e (i.e. with templates applied) for education of what exactly the template does.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2018-07-09T14:50:31.065Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":334,"reads":45,"readers_count":44,"score":1694.0,"yours":false,"topic_id":6019,"topic_slug":"proposal-templates","display_username":"Kyle Fazzari","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/proposal-add-command-chain-to-apps-instead-of-generating-opaque-wrappers/6018","internal":true,"reflection":false,"title":"Proposal: add command-chain to apps instead of generating opaque wrappers","clicks":0},{"url":"https://forum.snapcraft.io/t/supporting-desktop-themes-via-the-content-interface/4122/8","internal":true,"reflection":true,"title":"Supporting desktop themes via the content interface","clicks":0},{"url":"https://forum.snapcraft.io/t/how-to-use-the-system-gtk-theme-via-the-gtk-common-themes-snap/6235","internal":true,"reflection":true,"title":"How to use the system GTK theme via the gtk-common-themes snap","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":17,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":28629,"name":"Adam Collard","username":"sparkiegeek","avatar_template":"/user_avatar/forum.snapcraft.io/sparkiegeek/{size}/4471_2.png","created_at":"2018-06-22T11:01:41.463Z","cooked":"\u003cp\u003eWhere are the template definitions maintained? Are they per-snap, or is there a central repository somewhere? How are templates discovered? How are they versioned?\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2018-06-22T11:01:41.463Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":37,"readers_count":36,"score":12.4,"yours":false,"topic_id":6019,"topic_slug":"proposal-templates","display_username":"Adam Collard","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":95,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":28659,"name":"Kyle Fazzari","username":"kyrofa","avatar_template":"/user_avatar/forum.snapcraft.io/kyrofa/{size}/4384_2.png","created_at":"2018-06-22T21:59:10.321Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"sparkiegeek\" data-post=\"2\" data-topic=\"6019\" data-full=\"true\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/sparkiegeek/40/4471_2.png\" class=\"avatar\"\u003e sparkiegeek:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWhere are the template definitions maintained? Are they per-snap, or is there a central repository somewhere?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eThey will be part of the snapcraft CLI, maintained in its codebase.\u003c/p\u003e\n\u003caside class=\"quote no-group\" data-username=\"sparkiegeek\" data-post=\"2\" data-topic=\"6019\" data-full=\"true\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/sparkiegeek/40/4471_2.png\" class=\"avatar\"\u003e sparkiegeek:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eHow are templates discovered?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eGood question! We have a command to list and get more information about plugins, we should have something similar for templates.\u003c/p\u003e\n\u003caside class=\"quote no-group\" data-username=\"sparkiegeek\" data-post=\"2\" data-topic=\"6019\" data-full=\"true\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/sparkiegeek/40/4471_2.png\" class=\"avatar\"\u003e sparkiegeek:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eHow are they versioned?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eIt is our hope that, if we can keep templates lean, mean, fine-grained and doing the bare minimum, we don’t need versioning.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2018-06-22T21:59:10.321Z","reply_count":1,"reply_to_post_number":2,"quote_count":1,"incoming_link_count":0,"reads":34,"readers_count":33,"score":11.8,"yours":false,"topic_id":6019,"topic_slug":"proposal-templates","display_username":"Kyle Fazzari","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":17,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":28662,"name":"","username":"KristijanZic","avatar_template":"/letter_avatar/kristijanzic/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","created_at":"2018-06-22T22:30:27.237Z","cooked":"\u003cp\u003eSo a framework for building snaps? Kinda reminds me of Angular design. The templates could be discovered trough some npm style dep manager.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2018-06-22T22:30:27.237Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":33,"readers_count":32,"score":11.6,"yours":false,"topic_id":6019,"topic_slug":"proposal-templates","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":831,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":28952,"name":"James Henstridge","username":"jamesh","avatar_template":"/user_avatar/forum.snapcraft.io/jamesh/{size}/3947_2.png","created_at":"2018-06-28T09:08:59.000Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"kyrofa\" data-post=\"3\" data-topic=\"6019\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/kyrofa/40/4384_2.png\" class=\"avatar\"\u003e kyrofa:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThey will be part of the snapcraft CLI, maintained in its codebase.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eWhat sort of modifications do you envision allowing a template to make?\u003c/p\u003e\n\u003cp\u003eI am a little concerned about having the templates maintained in the snapcraft source tree though: it’s going to increase the turnaround time for bug fixes, particularly if I’m using Launchpad/build.snapcraft.io to build my snaps and don’t have direct control over the snapcraft version.  Do you think it’d be possible to specify templates as data?  Making these as easy to distribute as cloud parts would be a big plus.\u003c/p\u003e\n\u003cp\u003eOff the top of my head, here are a few things I think would be good candidates for templates:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eDefining standard content interface plugs\u003c/strong\u003e: themes are the main one here, where we’re looking at a significant amount of boilerplate to correctly plug in to the \u003ccode\u003egtk-common-themes\u003c/code\u003e snap (plus whatever other third party theme snaps we might get in future).  These plugs need to be declared at the top level.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eMaybe for cache generation?\u003c/strong\u003e We’ve previously talked about wanting to pre-generate gsettings, icon theme, etc.  The last suggestion for this was a \u003ca href=\"https://forum.snapcraft.io/t/proposal-expanding-scriptlets/4673/14\"\u003eglobal \u003ccode\u003epre-pack\u003c/code\u003e scriptlet\u003c/a\u003e, which couldn’t really be introduced by a cloud part.  Maybe that scriptlet would be more usable if introduced by a template?\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e","post_number":5,"post_type":1,"updated_at":"2018-06-28T09:08:59.000Z","reply_count":0,"reply_to_post_number":3,"quote_count":1,"incoming_link_count":1,"reads":31,"readers_count":30,"score":56.2,"yours":false,"topic_id":6019,"topic_slug":"proposal-templates","display_username":"James Henstridge","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/proposal-expanding-scriptlets/4673/14","internal":true,"reflection":false,"title":"Proposal: expanding scriptlets","clicks":2}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":3}],"moderator":false,"admin":false,"staff":false,"user_id":393,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[28398,28629,28659,28662,28952]},"timeline_lookup":[[1,1822],[2,1820],[3,1819],[5,1814]],"suggested_topics":[{"id":35339,"title":"Stuck pulling a source that is in the filesystem","fancy_title":"Stuck pulling a source that is in the filesystem","slug":"stuck-pulling-a-source-that-is-in-the-filesystem","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2023-05-26T13:32:23.943Z","last_posted_at":"2023-05-26T14:47:36.698Z","bumped":true,"bumped_at":"2023-05-26T14:47:36.698Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":62,"category_id":13,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":12420,"username":"nteodosio","name":"","avatar_template":"/user_avatar/forum.snapcraft.io/nteodosio/{size}/9231_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":25,"username":"sergiusens","name":"Sergio Schvezov","avatar_template":"/user_avatar/forum.snapcraft.io/sergiusens/{size}/5621_2.png"}}]},{"id":35251,"title":"Audit note on hugepages","fancy_title":"Audit note on hugepages","slug":"audit-note-on-hugepages","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2023-05-22T12:23:40.784Z","last_posted_at":"2023-05-22T12:23:40.905Z","bumped":true,"bumped_at":"2023-05-23T10:43:45.582Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":70,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":14114,"username":"jannekii","name":"Janne Kiiskilä","avatar_template":"/letter_avatar/jannekii/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}}]},{"id":32947,"title":"QtCore.so: undefined symbol: _ZdlPvm, version Qt_5","fancy_title":"QtCore.so: undefined symbol: _ZdlPvm, version Qt_5","slug":"qtcore-so-undefined-symbol-zdlpvm-version-qt-5","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-12-02T15:12:05.718Z","last_posted_at":"2022-12-02T15:12:05.839Z","bumped":true,"bumped_at":"2022-12-02T15:20:58.499Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":151,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":13666,"username":"goodday","name":"Sophea Chhem","avatar_template":"/user_avatar/forum.snapcraft.io/goodday/{size}/9402_2.png"}}]},{"id":34531,"title":"Can you use aws git as source in building snaps?","fancy_title":"Can you use aws git as source in building snaps?","slug":"can-you-use-aws-git-as-source-in-building-snaps","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2023-03-29T20:57:26.720Z","last_posted_at":"2023-03-29T20:57:26.828Z","bumped":true,"bumped_at":"2023-03-29T20:57:26.828Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":76,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":14287,"username":"mikkingz007","name":"Kingsley M","avatar_template":"/user_avatar/forum.snapcraft.io/mikkingz007/{size}/9719_2.png"}}]},{"id":33759,"title":"First attempt with snap, very confused - error: cannot pack \"/build/aiyy/prime\": snap is unusable due to missing files)","fancy_title":"First attempt with snap, very confused - error: cannot pack \u0026ldquo;/build/aiyy/prime\u0026rdquo;: snap is unusable due to missing files)","slug":"first-attempt-with-snap-very-confused-error-cannot-pack-build-aiyy-prime-snap-is-unusable-due-to-missing-files","posts_count":13,"reply_count":6,"highest_post_number":13,"image_url":null,"created_at":"2023-02-03T14:38:14.898Z","last_posted_at":"2023-02-05T17:01:08.374Z","bumped":true,"bumped_at":"2023-02-05T17:01:08.374Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":212,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":13994,"username":"visioninit","name":"","avatar_template":"/user_avatar/forum.snapcraft.io/visioninit/{size}/9553_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":13970,"username":"soumyaDghosh","name":"Soumyadeep Ghosh","avatar_template":"/letter_avatar/soumyadghosh/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":9,"username":"ogra","name":"Oliver Grawert","avatar_template":"/user_avatar/forum.snapcraft.io/ogra/{size}/22_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":3793,"username":"cmatsuoka","name":"Claudio Matsuoka","avatar_template":"/user_avatar/forum.snapcraft.io/cmatsuoka/{size}/9338_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":11991,"username":"goldstar611","name":"Tony","avatar_template":"/letter_avatar/goldstar611/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}}]}],"tags":["design"],"id":6019,"title":"Proposal: templates","fancy_title":"Proposal: templates","posts_count":5,"created_at":"2018-06-19T19:37:19.704Z","views":1791,"reply_count":2,"like_count":4,"last_posted_at":"2018-06-28T09:08:59.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"proposal-templates","category_id":13,"word_count":631,"deleted_at":null,"user_id":17,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_6019","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":5,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"topic_timer":null,"message_bus_last_id":0,"participant_count":4,"show_read_indicator":false,"thumbnails":null,"details":{"notification_level":1,"participants":[{"id":17,"username":"kyrofa","name":"Kyle Fazzari","avatar_template":"/user_avatar/forum.snapcraft.io/kyrofa/{size}/4384_2.png","post_count":2,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":95,"username":"sparkiegeek","name":"Adam Collard","avatar_template":"/user_avatar/forum.snapcraft.io/sparkiegeek/{size}/4471_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":393,"username":"jamesh","name":"James Henstridge","avatar_template":"/user_avatar/forum.snapcraft.io/jamesh/{size}/3947_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":831,"username":"KristijanZic","name":"","avatar_template":"/letter_avatar/kristijanzic/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"created_by":{"id":17,"username":"kyrofa","name":"Kyle Fazzari","avatar_template":"/user_avatar/forum.snapcraft.io/kyrofa/{size}/4384_2.png"},"last_poster":{"id":393,"username":"jamesh","name":"James Henstridge","avatar_template":"/user_avatar/forum.snapcraft.io/jamesh/{size}/3947_2.png"},"links":[{"url":"https://forum.snapcraft.io/t/proposal-expanding-scriptlets/4673/14","title":"Proposal: expanding scriptlets","internal":true,"attachment":false,"reflection":false,"clicks":2,"user_id":393,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"}]}}