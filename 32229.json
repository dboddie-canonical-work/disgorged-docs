{"post_stream":{"posts":[{"id":115294,"name":"Claudio Matsuoka","username":"cmatsuoka","avatar_template":"/user_avatar/forum.snapcraft.io/cmatsuoka/{size}/9338_2.png","created_at":"2022-10-18T17:35:44.115Z","cooked":"\u003cp\u003eThe \u003cem\u003elibrary\u003c/em\u003e linter is a \u003ca href=\"/t/snapcraft-linters/32211\"\u003eSnapcraft linter\u003c/a\u003e that is used to verify whether any  ELF file dependencies, typically libraries, are missing from a snap.  It also verifies if any libraries are included in a snap but are not used.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#heading--help\"\u003eHow the library linter helps\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#heading--warnings\"\u003eLinter warnings\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#heading--warnings-example\"\u003eExample\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#heading--issues\"\u003eAddressing linter issues\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eSee \u003ca href=\"/t/snapcraft-linters/32211#heading--disable\"\u003eDisabling linters\u003c/a\u003e for details on how to stop this linter running.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"heading--help\"\u003eHow the linter helps\u003c/h2\u003e\n\u003cp\u003eIf a snapped application depends on libraries neither provided by the \u003ca href=\"/t/base-snaps/11198\"\u003ebase\u003c/a\u003e system, nor included as a dependency, the snap package may execute in an incorrect or unpredictable way. The library linter issues a warning if a missing dependency is detected.\u003c/p\u003e\n\u003cp\u003eSnap package size can be reduced by removing extra libraries that are not used by the applications in the snap.  The library linter issues a warning if unused libraries are detected.\u003c/p\u003e\n\u003ch2 id=\"heading--warnings\"\u003eLinter warnings\u003c/h2\u003e\n\u003cp\u003eThe library linter will issue a warning if:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eELF dependencies are detected as missing from the snap package.\u003c/li\u003e\n\u003cli\u003eLibraries not used by an ELF file in the snap package are detected.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"heading--warnings-example\"\u003eExample\u003c/h3\u003e\n\u003cp\u003eThe example below shows two missing libraries (\u003ccode\u003elibcaca\u003c/code\u003e and \u003ccode\u003elibslang\u003c/code\u003e) and one unused library (\u003ccode\u003elibpng16\u003c/code\u003e).\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eRunning linter: library\nLint warnings:\n- library: my-app: missing dependency 'libcaca.so.0'.\n- library: my-app: missing dependency 'libslang.so.2'.\n- library: libpng16.so.16: unused library 'usr/lib/x86_64-linux-gnu/libpng16.so.16.37.0'. \n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"heading--issues\"\u003eAddressing issues\u003c/h2\u003e\n\u003cp\u003eTo address library linter issues, packages containing any missing libraries need to be added to the list of \u003ccode\u003estage-packages\u003c/code\u003e. Unused libraries can be removed from \u003ccode\u003estage-packages\u003c/code\u003e.  See \u003ca href=\"/t/build-and-staging-dependencies/11451\"\u003eBuild and staging dependencies\u003c/a\u003e for further details.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2023-02-01T18:46:10.416Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":9,"reads":14,"readers_count":13,"score":87.8,"yours":false,"topic_id":32229,"topic_slug":"library-linter","display_username":"Claudio Matsuoka","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":7,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/snapcraft-linters/32211","internal":true,"reflection":false,"title":"Snapcraft linters","clicks":2},{"url":"https://forum.snapcraft.io/t/build-and-staging-dependencies/11451","internal":true,"reflection":false,"title":"Build and staging dependencies","clicks":1},{"url":"https://forum.snapcraft.io/t/base-snaps/11198","internal":true,"reflection":false,"title":"Base snaps","clicks":0},{"url":"https://forum.snapcraft.io/t/importerror-in-a-ros2-snap-for-core22/33648/2","internal":true,"reflection":true,"title":"ImportError in a ROS2 snap for core22","clicks":1},{"url":"https://forum.snapcraft.io/t/snap-documentation/11127","internal":true,"reflection":true,"title":"Snap documentation","clicks":1},{"url":"https://forum.snapcraft.io/t/release-notes-snapcraft-7-2-0/32285","internal":true,"reflection":true,"title":"Release notes: Snapcraft 7.2.0","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":3}],"moderator":false,"admin":false,"staff":false,"user_id":3793,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":true,"last_wiki_edit":"2023-02-01T18:46:10.434Z","can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":115313,"name":"James Henstridge","username":"jamesh","avatar_template":"/user_avatar/forum.snapcraft.io/jamesh/{size}/3947_2.png","created_at":"2022-10-19T03:00:57.683Z","cooked":"\u003cp\u003eIt’d be useful to also check to see if the snap contains libraries that shadow libraries from the base snap or content snaps. That’s something that has bitten us a few times in the past.\u003c/p\u003e\n\u003cp\u003eOne example was the snap-store snap. At one point it was shipping libatk, shadowing the copy from the gnome platform snap. There were other libraries within the platform snap that linked with libatk, but weren’t shadowed by snap-store. When an update was pushed to the platform snap that upgraded libatk and some other libraries, it broke snap-store because those other libraries didn’t work with the old libatk.\u003c/p\u003e\n\u003cp\u003eI’m sure there are cases where shadowing is intended, but maybe it is better to get people to be explicit about it and silence the linter for those specific cases.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2022-10-19T03:00:57.683Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":13,"readers_count":12,"score":2.6,"yours":false,"topic_id":32229,"topic_slug":"library-linter","display_username":"James Henstridge","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":393,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[115294,115313]},"timeline_lookup":[[1,240]],"suggested_topics":[{"id":33076,"title":"Intermediate snapcraft.yaml example","fancy_title":"Intermediate snapcraft.yaml example","slug":"intermediate-snapcraft-yaml-example","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-12-13T12:33:36.674Z","last_posted_at":"2022-12-15T10:46:41.984Z","bumped":true,"bumped_at":"2022-12-13T12:33:36.830Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":813,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":30905,"title":"Snapcraft documentation","fancy_title":"Snapcraft documentation","slug":"snapcraft-documentation","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-15T11:05:45.374Z","last_posted_at":"2022-07-15T11:05:45.528Z","bumped":true,"bumped_at":"2023-02-17T19:55:21.024Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":1532,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":34179,"title":"Set up classic confinement for a Python project","fancy_title":"Set up classic confinement for a Python project","slug":"set-up-classic-confinement-for-a-python-project","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2023-03-03T16:07:41.416Z","last_posted_at":"2023-03-03T16:07:41.560Z","bumped":true,"bumped_at":"2023-06-13T14:13:20.173Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":["how-to"],"like_count":1,"views":750,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":14015,"username":"dboddie","name":"David Boddie","avatar_template":"/user_avatar/forum.snapcraft.io/dboddie/{size}/9564_2.png"}}]},{"id":32228,"title":"Classic linter","fancy_title":"Classic linter","slug":"classic-linter","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-10-18T17:22:41.599Z","last_posted_at":"2022-10-19T13:02:49.311Z","bumped":true,"bumped_at":"2022-10-19T13:02:49.311Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":2,"views":921,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":3793,"username":"cmatsuoka","name":"Claudio Matsuoka","avatar_template":"/user_avatar/forum.snapcraft.io/cmatsuoka/{size}/9338_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":393,"username":"jamesh","name":"James Henstridge","avatar_template":"/user_avatar/forum.snapcraft.io/jamesh/{size}/3947_2.png"}}]},{"id":35421,"title":"Hardware IO interfaces","fancy_title":"Hardware IO interfaces","slug":"hardware-io-interfaces","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2023-05-31T16:22:56.882Z","last_posted_at":"2023-06-09T11:51:37.609Z","bumped":true,"bumped_at":"2023-06-09T11:51:37.609Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":120,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":13,"username":"pedronis","name":"Samuele Pedroni","avatar_template":"/user_avatar/forum.snapcraft.io/pedronis/{size}/46_2.png"}}]}],"tags":[],"id":32229,"title":"Library linter","fancy_title":"Library linter","posts_count":2,"created_at":"2022-10-18T17:35:43.980Z","views":793,"reply_count":0,"like_count":3,"last_posted_at":"2022-10-19T03:00:57.683Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"library-linter","category_id":15,"word_count":453,"deleted_at":null,"user_id":3793,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_32229","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":2,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"details":{"notification_level":1,"participants":[{"id":393,"username":"jamesh","name":"James Henstridge","avatar_template":"/user_avatar/forum.snapcraft.io/jamesh/{size}/3947_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":3793,"username":"cmatsuoka","name":"Claudio Matsuoka","avatar_template":"/user_avatar/forum.snapcraft.io/cmatsuoka/{size}/9338_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"created_by":{"id":3793,"username":"cmatsuoka","name":"Claudio Matsuoka","avatar_template":"/user_avatar/forum.snapcraft.io/cmatsuoka/{size}/9338_2.png"},"last_poster":{"id":393,"username":"jamesh","name":"James Henstridge","avatar_template":"/user_avatar/forum.snapcraft.io/jamesh/{size}/3947_2.png"},"links":[{"url":"https://forum.snapcraft.io/t/snapcraft-linters/32211","title":"Snapcraft linters","internal":true,"attachment":false,"reflection":false,"clicks":2,"user_id":3793,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/build-and-staging-dependencies/11451","title":"Build and staging dependencies","internal":true,"attachment":false,"reflection":false,"clicks":1,"user_id":3793,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/importerror-in-a-ros2-snap-for-core22/33648/2","title":"ImportError in a ROS2 snap for core22","internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":9,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/snap-documentation/11127","title":"Snap documentation","internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":898,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"}]}}