{"post_stream":{"posts":[{"id":104595,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2022-01-19T12:11:24.841Z","cooked":"\u003cp\u003eThe \u003ccode\u003eshared-memory\u003c/code\u003e interface allows two snaps to communicate with each other using a specific predefined shared-memory path or directory in \u003ccode\u003e/dev/shm\u003c/code\u003e, an area of a POSIX-compliant filesystem reserved for shared memory. The location is defined by one snap and connected to from another.\u003c/p\u003e\n\u003cp\u003eRequires snapd version \u003cem\u003e2.54+\u003c/em\u003e .\u003c/p\u003e\n\u003cdiv class=\"p-notification--positive\"\u003e\n\u003cdiv class=\"p-notification__response\"\u003e\n\u003cspan class=\"p-notification__status\"\u003e\nInterface documentation: \u003c/span\u003e\n\u003cp\u003eSee \u003ca href=\"/t/interface-management/6154\"\u003eInterface management\u003c/a\u003e and \u003ca href=\"/t/supported-interfaces/7744\"\u003eSupported interfaces\u003c/a\u003e for further details on how interfaces are used.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 id=\"heading--dev-details\"\u003eDeveloper details \u003c/h2\u003e\n\u003cdiv class=\"md-table\"\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003ePermissions\u003c/th\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e\u003ca href=\"/t/interface-management/6154#heading--auto-connections\"\u003eAuto-connect\u003c/a\u003e\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\n\u003cstrong\u003eno\u003c/strong\u003e by default\u003c/td\u003e\n\u003ctd\u003e\n\u003cstrong\u003eyes\u003c/strong\u003e when \u003ccode\u003eprivate\u003c/code\u003e is enabled, or with snaps from the same publisher\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003e\u003ca href=\"/t/super-privileged-interfaces/34740\"\u003eSuper-privileged\u003c/a\u003e\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\n\u003cstrong\u003eno\u003c/strong\u003e for plugs\u003c/td\u003e\n\u003ctd\u003e\n\u003cstrong\u003eyes\u003c/strong\u003e for slots\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e\u003cp\u003e\u003cstrong\u003eAttributes\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003eshared-memory\u003c/code\u003e (slot and plug):\u003cbr\u003e\noptional, arbitrary identifier for the shared memory area(s) defined in the slot. A consumer snap must use the same identifier as the provider snap in order to work on the same shared memory object(s). Defaults to either local slot name or local plug name for slot/plug definitions respectively.\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eprivate\u003c/code\u003e (plug): when \u003ccode\u003etrue\u003c/code\u003e, creates a directory that is only accessible to the snap. This directory has read/write permissions, is mounted over \u003ccode\u003e/dev/shm\u003c/code\u003e, and permits an auto-connection to the \u003ccode\u003esystem:shared-memory\u003c/code\u003e slot.\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eread\u003c/code\u003e (slot): list of \u003cem\u003eread-only\u003c/em\u003e paths (after the implicit \u003ccode\u003e/dev/shm/\u003c/code\u003e) to be exposed to a consuming snap.\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003ewrite\u003c/code\u003e (slot): list of \u003cem\u003eread and write\u003c/em\u003e paths (after the implicit \u003ccode\u003e/dev/shm/\u003c/code\u003e) to be exposed to a consuming snap.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe \u003ccode\u003eread\u003c/code\u003e and \u003ccode\u003ewrite\u003c/code\u003e attributes are used on the slot side to specify the names of the shared memory objects being shared (in read-only mode for \u003ccode\u003eread\u003c/code\u003e, and with full read-write mode for \u003ccode\u003ewrite\u003c/code\u003e); the prefix \u003ccode\u003e/dev/shm/\u003c/code\u003e is implicit and must not be specified. Both attributes can be specified simultaneously for different paths, but the two values should not duplicate each other.\u003c/p\u003e\n\u003ch3\u003eCode examples\u003c/h3\u003e\n\u003cp\u003eAn example plug definition:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-yaml\"\u003eplugs:\n my-ipc:\n  interface: shared-memory\n  # this could be omitted since we already adjusted ​the plug name\n  # to match the slot's shared-memory name:\n  shared-memory: my-ipc \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eA matching slot definition which would auto-connect if in a snap from the same publisher:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-yaml\"\u003eslots:\n shmem:\n  interface: shared-memory\n  shared-memory: my-ipc\n  write: [ students ]  # gives read/write access to /dev/shm/students\n  read: [ teachers ]   # gives readonly access to /dev/shm/teachers\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eCreating \u003ccode\u003eprivate\u003c/code\u003e shared memory for the snap:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-yaml\"\u003eplugs:\n  shared-memory:\n    private: true\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWhen \u003ccode\u003eprivate: true\u003c/code\u003e is used,  the shared-memory interface is automatically connected:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ snap connections \u0026lt;example-private-shared-memory-snap\u0026gt;\nInterface      Plug                      Slot            Notes\nshared-memory  os-release:shared-memory  :shared-memory  -\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe test code can be found in the snapd repository:\n\u003ca href=\"https://github.com/snapcore/snapd/blob/master/interfaces/builtin/shared_memory_test.go\"\u003eshared_memory_test.go\u003c/a\u003e.\nThe source code for the interface is in the snapd repository:\n\u003ca href=\"https://github.com/snapcore/snapd/blob/master/interfaces/builtin/shared_memory.go\"\u003eshared_memory.go\u003c/a\u003e\u003cbr\u003e\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2023-04-14T09:31:13.148Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":178,"reads":38,"readers_count":37,"score":897.6,"yours":false,"topic_id":28382,"topic_slug":"the-shared-memory-interface","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":10,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/snapcore/snapd/blob/master/interfaces/builtin/shared_memory_test.go","internal":false,"reflection":false,"clicks":7},{"url":"https://github.com/snapcore/snapd/blob/master/interfaces/builtin/shared_memory.go","internal":false,"reflection":false,"clicks":2},{"url":"https://forum.snapcraft.io/t/interface-management/6154","internal":true,"reflection":false,"title":"Interface management","clicks":2},{"url":"https://forum.snapcraft.io/t/supported-interfaces/7744","internal":true,"reflection":false,"title":"Supported interfaces","clicks":2},{"url":"https://forum.snapcraft.io/t/proposal-private-shared-memory/28483","internal":true,"reflection":true,"title":"Proposal: private shared memory","clicks":2},{"url":"https://forum.snapcraft.io/t/snap-documentation/11127","internal":true,"reflection":true,"title":"Snap documentation","clicks":1},{"url":"https://forum.snapcraft.io/t/hardware-io-interfaces/35421","internal":true,"reflection":true,"title":"Hardware IO interfaces","clicks":0},{"url":"https://forum.snapcraft.io/t/the-snapd-roadmap/1973","internal":true,"reflection":true,"title":"The snapd roadmap","clicks":0},{"url":"https://forum.snapcraft.io/t/whats-new/20117","internal":true,"reflection":true,"title":"What's new","clicks":0},{"url":"https://forum.snapcraft.io/t/super-privileged-interfaces/34740","internal":true,"reflection":true,"title":"Super-privileged interfaces","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":true,"last_wiki_edit":"2023-04-14T09:31:13.169Z","can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":104598,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2022-01-19T13:36:18.179Z","cooked":"","post_number":2,"post_type":3,"updated_at":"2022-01-19T13:36:18.179Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":33,"readers_count":32,"score":6.6,"yours":false,"topic_id":28382,"topic_slug":"the-shared-memory-interface","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"action_code":"visible.enabled","can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[104595,104598]},"timeline_lookup":[[1,513]],"suggested_topics":[{"id":34099,"title":"Set up classic confinement for an autotools project","fancy_title":"Set up classic confinement for an autotools project","slug":"set-up-classic-confinement-for-an-autotools-project","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2023-02-27T17:10:47.688Z","last_posted_at":"2023-03-29T11:52:25.139Z","bumped":true,"bumped_at":"2023-03-29T11:52:25.139Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":["how-to"],"like_count":2,"views":807,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":14015,"username":"dboddie","name":"David Boddie","avatar_template":"/user_avatar/forum.snapcraft.io/dboddie/{size}/9564_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":14252,"username":"zhsj","name":"Shengjing Zhu","avatar_template":"/user_avatar/forum.snapcraft.io/zhsj/{size}/9689_2.png"}}]},{"id":34026,"title":"Tutorial is outdated or something","fancy_title":"Tutorial is outdated or something","slug":"tutorial-is-outdated-or-something","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2023-02-23T15:15:25.641Z","last_posted_at":"2023-02-23T17:40:48.223Z","bumped":true,"bumped_at":"2023-02-23T17:40:48.223Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":1,"views":123,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":14103,"username":"Greg","name":"Greg Timmons","avatar_template":"/letter_avatar/greg/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":11310,"username":"mr_cal","name":"Callahan Kovacs","avatar_template":"/user_avatar/forum.snapcraft.io/mr_cal/{size}/8466_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":30982,"title":"The acrn interface","fancy_title":"The acrn interface","slug":"the-acrn-interface","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-07-21T14:25:57.164Z","last_posted_at":"2022-08-05T17:30:59.540Z","bumped":true,"bumped_at":"2022-08-05T17:30:59.540Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":1,"views":1003,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":9753,"username":"gvancuts","name":"Geoffroy","avatar_template":"/letter_avatar/gvancuts/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}}]},{"id":34179,"title":"Set up classic confinement for a Python project","fancy_title":"Set up classic confinement for a Python project","slug":"set-up-classic-confinement-for-a-python-project","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2023-03-03T16:07:41.416Z","last_posted_at":"2023-03-03T16:07:41.560Z","bumped":true,"bumped_at":"2023-06-13T14:13:20.173Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":["how-to"],"like_count":1,"views":750,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":14015,"username":"dboddie","name":"David Boddie","avatar_template":"/user_avatar/forum.snapcraft.io/dboddie/{size}/9564_2.png"}}]},{"id":32572,"title":"Where to store config files","fancy_title":"Where to store config files","slug":"where-to-store-config-files","posts_count":6,"reply_count":3,"highest_post_number":6,"image_url":null,"created_at":"2022-11-08T18:00:15.178Z","last_posted_at":"2022-11-11T12:55:44.133Z","bumped":true,"bumped_at":"2022-11-11T12:55:44.133Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":6,"views":297,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":13500,"username":"Yuriy","name":"Yuriy Yakimenko","avatar_template":"/letter_avatar/yuriy/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":11991,"username":"goldstar611","name":"Tony","avatar_template":"/letter_avatar/goldstar611/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1417,"username":"Lin-Buo-Ren","name":"林博仁(Buo-ren, Lin)","avatar_template":"/user_avatar/forum.snapcraft.io/lin-buo-ren/{size}/4612_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]}],"tags":[],"id":28382,"title":"The shared-memory interface","fancy_title":"The shared-memory interface","posts_count":2,"created_at":"2022-01-19T12:11:24.663Z","views":2142,"reply_count":0,"like_count":0,"last_posted_at":"2022-01-19T13:36:18.179Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"the-shared-memory-interface","category_id":15,"word_count":498,"deleted_at":null,"user_id":2772,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_28382","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":2,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"topic_timer":null,"message_bus_last_id":0,"participant_count":1,"show_read_indicator":false,"thumbnails":null,"details":{"notification_level":1,"participants":[{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"created_by":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"},"last_poster":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"},"links":[{"url":"https://github.com/snapcore/snapd/blob/master/interfaces/builtin/shared_memory_test.go","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":7,"user_id":2772,"domain":"github.com","root_domain":"github.com"},{"url":"https://forum.snapcraft.io/t/interface-management/6154","title":"Interface management","internal":true,"attachment":false,"reflection":false,"clicks":2,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/proposal-private-shared-memory/28483","title":"Proposal: private shared memory","internal":true,"attachment":false,"reflection":true,"clicks":2,"user_id":393,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/supported-interfaces/7744","title":"Supported interfaces","internal":true,"attachment":false,"reflection":false,"clicks":2,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://github.com/snapcore/snapd/blob/master/interfaces/builtin/shared_memory.go","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":2772,"domain":"github.com","root_domain":"github.com"},{"url":"https://forum.snapcraft.io/t/snap-documentation/11127","title":"Snap documentation","internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":898,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"}]}}