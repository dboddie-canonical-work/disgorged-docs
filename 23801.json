{"post_stream":{"posts":[{"id":90591,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2021-04-08T17:38:56.632Z","cooked":"\u003cp\u003eA validation set is an \u003ca href=\"/t/assertions/6155\"\u003eassertion\u003c/a\u003e that lists specific snaps that are either required to be installed together or are permitted to be installed together on a device or system.\u003c/p\u003e\n\u003cp\u003eOne or more validation sets can be used to ensure only specific snaps are installed, and optionally, only specific snaps at fixed \u003ca href=\"/t/glossary/14612#heading--revision\"\u003erevisions\u003c/a\u003e. They can help a set of interdependent snaps maintain their testing and certification integrity, as well as help orchestrate their updates. But they can equally be used to simplify dependency deployment and to help manage devices.\u003c/p\u003e\n\u003ch2\u003ePrerequisites\u003c/h2\u003e\n\u003cp\u003eValidation set functionality is currently under active development and there are several considerations that need to be made before using it:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eA developer account is also required, along with your developer id.\u003cbr\u003e\n(\u003cem\u003esee \u003ca href=\"/t/create-a-developer-account/6760#heading--developer-id\"\u003eCreate a developer account\u003c/a\u003e for further details\u003c/em\u003e)\u003c/li\u003e\n\u003cli\u003eSnapd version 2.50 and \u003ca href=\"/t/snapcraft-overview/8940\"\u003eSnapcraft\u003c/a\u003e version \u003ca href=\"/t/release-notes-snapcraft-4-7/24252\"\u003e4.7\u003c/a\u003e, or newer, are required.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eCurrently, in order to enforce a validation set, the following is also required:\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003ea \u003ca href=\"/t/glossary/14612#heading--brand-store\"\u003ebrand store\u003c/a\u003e account\u003c/li\u003e\n\u003cli\u003ethe validation set’s \u003ccode\u003ename\u003c/code\u003e, \u003ccode\u003eaccount-id\u003c/code\u003e and listed snaps, need to be added to an allowlist in the store backends (this is done by filing a brand store support ticket).\u003c/li\u003e\n\u003cli\u003eSnapd version 2.54\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eSee below for further details on the following:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#heading--creating\"\u003eCreating a validation set\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#heading--listing\"\u003eListing a validation set\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#heading--using\"\u003eMonitoring assertion validity\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#heading--enforcing\"\u003eEnforcing assertion validity\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"heading--creating\"\u003eCreating a validation set\u003c/h2\u003e\n\u003cp\u003eTo create a validation set, use the \u003ccode\u003esnapcraft edit-validation-sets\u003c/code\u003e command:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003esnapcraft edit-validation-sets \u0026lt;account-id\u0026gt; \u0026lt;set-name\u0026gt; \u0026lt;sequence\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis command requires your developer account id, an arbitrary name for the validation set, and a sequence number. The sequence number starts at 1 and is incremented at the developer’s discretion when there’s a substantial change or update to the validation set:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003esnapcraft edit-validation-sets xSfWKGdLoQBoQx88vIM1MpbFNMq53t1f myset1 1\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAn additional \u003ccode\u003e--key-name\u003c/code\u003e argument can be used to specify a key other than the default.\u003c/p\u003e\n\u003cp\u003eA text editor will open containing a template for a validation set assertion that needs to be filled in by the developer issuing the assertion.\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\nvalidation-set template\u003c/summary\u003e\n\u003cpre\u003e\u003ccode class=\"lang-yaml\"\u003eaccount-id: \u0026lt;account-id\u0026gt;\nname: \u0026lt;set-name\u0026gt;\nsequence: \u0026lt;sequence\u0026gt;\n# The revision for this validation set\n# revision: 0\nsnaps:\n#  - name: \u0026lt;name\u0026gt;  # The name of the snap.\n#    id:   \u0026lt;id\u0026gt;    # The ID of the snap. Optional, defaults to the current ID for\n                   # the provided name.\n#    presence: [required|optional|invalid]  # Optional, defaults to required.\n#    revision: \u0026lt;n\u0026gt; # The revision of the snap. Optional.\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/details\u003e\n\u003cp\u003eThe template validation set assertion needs to be populated with the details of the snaps you wish to include in the set. These are listed beneath the \u003ccode\u003esnaps:\u003c/code\u003e section, and each snap can use the following fields:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003e\u003ccode\u003ename\u003c/code\u003e\u003c/strong\u003e (\u003cem\u003erequired\u003c/em\u003e):\nThe name of the snap, as you find on the store or in \u003cem\u003esnap search\u003c/em\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003e\u003ccode\u003eid\u003c/code\u003e\u003c/strong\u003e (\u003cem\u003eoptional\u003c/em\u003e):\nThe unique snap-id of the snap (see \u003cem\u003esnap info \u0026lt;snap name\u0026gt;\u003c/em\u003e ).\nDefaults to the snap-id of the named snap.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003e\u003ccode\u003epresence\u003c/code\u003e\u003c/strong\u003e (\u003cem\u003eoptional\u003c/em\u003e):\nCan be either \u003ccode\u003erequired\u003c/code\u003e, \u003ccode\u003eoptional\u003c/code\u003e or \u003ccode\u003einvalid\u003c/code\u003e.\n\u003ccode\u003erequired\u003c/code\u003e snaps need to be installed, \u003ccode\u003eoptional\u003c/code\u003e snaps are permitted to be installed and \u003ccode\u003einvalid\u003c/code\u003e snaps explicitly must not be installed.\nDefaults to \u003cem\u003erequired\u003c/em\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003e\u003ccode\u003erevision\u003c/code\u003e\u003c/strong\u003e (\u003cem\u003eoptional\u003c/em\u003e):\nSpecifies which \u003ca href=\"/t/glossary/14612#heading--revision\"\u003erevision\u003c/a\u003e of the snap needs to be installed.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe following is a populated example of a validation set assertion:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-yaml\"\u003eaccount-id: xSfWKGdLoQBoQx88vIM1MpbFNMq53t1f\nname: myset1\n# revision: 0\nsequence: 1\nsnaps:\n  - name: hello-world\n    id: buPKUD3TKqCOgLEjjHx5kSiCpIs5cMuQ\n    presence: required\n  - name: test-snapd-base-bare\n    id: oXC9AkhtCxhlY80KZA3peZzWbnO4xPOT\n    presence: optional\n  - name: bare\n    id: EISPgh06mRh1vordZY9OZ34QHdd7OrdR\n    presence: optional\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWe recommend making a copy of the saved validation set assertion before closing the editor.  Closing the editor will first check the integrity of the assertion before automatically uploading it to the store.\u003c/p\u003e\n\u003cp\u003eTo modify the assertion at a later point, run the same \u003ccode\u003esnapcraft edit-validation-sets\u003c/code\u003e command with the same name but an incremented sequence number and/or revision.\u003c/p\u003e\n\u003ch2 id=\"heading--listing\"\u003eListing validation sets\u003c/h2\u003e\n\u003cp\u003eUse the \u003ccode\u003esnapcraft list-validation-sets\u003c/code\u003e command to check which validation sets area available in the store:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ snapcraft list-validation-sets\nAccount-ID                       Name      Sequence  Revision  When\nxSfWKGdLoQBoQx88vIM1MpbFNMq53t1f myset1    1         0         2021-04-08\nxSfWKGdLoQBoQx88vIM1MpbFNMq53t1f testset1  2         0         2021-03-31\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTo list only validation-sets with a specific set name, use the additional \u003ccode\u003e--name\u003c/code\u003e argument:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ snapcraft list-validation-sets --name myset1\nAccount-ID                       Name      Sequence  Revision  When\nxSfWKGdLoQBoQx88vIM1MpbFNMq53t1f myset1    1         0         2021-04-08\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAn additional \u003ccode\u003e--sequence\u003c/code\u003e argument can be used to list validation sets with a specific sequence number:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ snapcraft list-validation-sets --name myset1 --sequence 1\nAccount-ID                       Name      Sequence  Revision  When\nxSfWKGdLoQBoQx88vIM1MpbFNMq53t1f myset1    1         0         2021-04-08\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBy default, only the most \u003cem\u003elatest\u003c/em\u003e validation sets are listed. To list every validation set available, add the \u003ccode\u003e--all\u003c/code\u003e argument.\u003c/p\u003e\n\u003ch2 id=\"heading--using\"\u003eMonitoring assertion validity\u003c/h2\u003e\n\u003cp\u003eThe \u003ccode\u003esnap validate --monitor\u003c/code\u003e command is used to enable monitoring of a validation assertion on the system; in this mode the constraints of the assertion are not enforced (e.g. snaps may get automatically refreshed to newer revisions that make the assertion invalid as show in the next example):\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003esnap validate --monitor xSfWKGdLoQBoQx88vIM1MpbFNMq53t1f/testset1\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe \u003ccode\u003esnap validate\u003c/code\u003e command, with no further arguments, checks whether the \u003ccode\u003esnaps:\u003c/code\u003e rules for all validation set assertions on the store are valid for the system:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ snap validate\nValidation                                 Mode     Seq  Current    Notes\nxSfWKGdLoQBoQx88vIM1MpbFNMq53t1f/myset1    monitor  1    valid  \nxSfWKGdLoQBoQx88vIM1MpbFNMq53t1f/testset1  monitor  2    invalid\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAn assertion is invalid if snaps in the system do not satisfy the constraints of the assertion, such as if required snaps are missing or whether unwanted snaps are present. Multiple validation sets can be used, as shown above, as long as they don’t have conflicting constraints and that they can cover different sets of snaps.\u003c/p\u003e\n\u003cp\u003eA specific validation set can be checked with \u003ccode\u003esnap validate \u0026lt;account id\u0026gt;/\u0026lt;validation set name\u0026gt;\u003c/code\u003e, with an optional sequence point set by adding \u003ccode\u003e=\u0026lt;sequence\u0026gt;\u003c/code\u003e to the validation set name:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ snap validate xSfWKGdLoQBoQx88vIM1MpbFNMq53t1f/myset1=1\nvalid\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eA validation set assertion can be \u003cem\u003epinned\u003c/em\u003e by the system administrator at the given sequence number,:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003esnap validate --monitor xSfWKGdLoQBoQx88vIM1MpbFNMq53t1f/testset1=3\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eA pinned validation set is kept at the given sequence number, even if there’s a higher sequence number in the store. However, the validation will be updated to a newer version if one becomes available with the same sequence number.\u003c/p\u003e\n\u003cp\u003eMonitor mode validation requires a manual action (\u003ccode\u003esnap validate\u003c/code\u003e, as shown above), but nothing is enforced in the system. Only when \u003cem\u003eenforce mode\u003c/em\u003e has been implemented will validation sets have an impact on the system and will prevent installing/removing snaps that violate an assertion’s constraints.\u003c/p\u003e\n\u003cp\u003eFinally, to remove a validation set from the system, use the \u003ccode\u003e--forget\u003c/code\u003e argument:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003esnap validate --forget xSfWKGdLoQBoQx88vIM1MpbFNMq53t1f/myset1\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"heading--enforcing\"\u003eEnforcing assertion validity\u003c/h2\u003e\n\u003cp\u003eWhen enforcing a validation set, snapd will ensure that:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSnaps required by a validation set are both present and, if specified, at the correct revision. Attempting to remove a required snap will result in an error and the process will be rejected.\u003c/li\u003e\n\u003cli\u003eSnaps are only refreshed to newer revisions if they continue to satisfy whatever validation sets are in use.\u003c/li\u003e\n\u003cli\u003eInvalid snaps are not allowed to be installed. Attempting to install them will result in an error.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eA validation set can be enforced by adding the \u003ccode\u003e--enforce\u003c/code\u003e argument to the ‘snap validate’ command:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003esnap validate --enforce xSfWKGdLoQBoQx88vIM1MpbFNMq53t1f/myset1\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEvery snap required by a validation set needs to be  installed before enforcing is enabled. The snap daemon will neither install missing snaps nor remove invalid snaps. If there are snaps missing, or invalid snaps installed, the assertion will simply become invalid.\u003c/p\u003e\n\u003cp\u003eAfter enforcement is enabled, snapd ensures the consistency of the enforced validation sets, and the snaps they reference, during install, refresh and remove operations.\u003c/p\u003e\n\u003cp\u003eDuring auto-refreshes, or manual refreshes, enforced validation set assertions on the system may be refreshed to newer revisions if the assertion is:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003epresent in the store\u003c/li\u003e\n\u003cli\u003enot pinned to a specific sequence\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAn assertion will move to the latest sequence if present in the store and if the installed snaps, including any newer revisions in the store, still satisfy their respective validation set assertions.\u003c/p\u003e\n\u003cp\u003eIn this way, the \u003ccode\u003esnapcraft edit-validation-sets\u003c/code\u003e command can be used to control the updates of multiple snaps at the same time.\u003c/p\u003e\n\u003cp\u003eFor brief periods during multi-snap updates, different snap revisions, from previous and incoming validation set sequence points, can co-exist. validation-sets enforcement is not intended to deal with any breaking hard version dependencies during transitions.\u003c/p\u003e\n\u003cp\u003eAs with monitor mode, enforcing can be disabled for select validation sets with the ‘snap validate --forget’ command.\u003c/p\u003e\n\u003cp\u003eWhen using \u003ccode\u003esnap install\u003c/code\u003e and \u003ccode\u003esnap refresh\u003c/code\u003e, the \u003ccode\u003e--ignore-validation\u003c/code\u003e flag can be added to bypass validation set enforcement for the snaps affected. Doing so will ignore the validation of the given snap, and for subsequent refresh operations. This may result in the validation set becoming \u003cem\u003einvalid\u003c/em\u003e in \u003ccode\u003esnap validate\u003c/code\u003e output.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2023-02-02T11:54:09.962Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":257,"reads":41,"readers_count":40,"score":1278.0,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":29,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/snapcraft-overview/8940","internal":true,"reflection":false,"title":"Snapcraft overview","clicks":2},{"url":"https://forum.snapcraft.io/t/assertions/6155","internal":true,"reflection":false,"title":"Assertions","clicks":1},{"url":"https://forum.snapcraft.io/t/create-a-developer-account/6760","internal":true,"reflection":false,"title":"Create a developer account","clicks":0},{"url":"https://forum.snapcraft.io/t/glossary/14612","internal":true,"reflection":false,"title":"Glossary","clicks":0},{"url":"https://forum.snapcraft.io/t/can-a-store-validation-assertion-be-revoked/22120/4","internal":true,"reflection":true,"title":"Can a Store validation-assertion be revoked?","clicks":2},{"url":"https://forum.snapcraft.io/t/snapd-rest-api/17954","internal":true,"reflection":true,"title":"Snapd REST API","clicks":1},{"url":"https://forum.snapcraft.io/t/snap-documentation/11127","internal":true,"reflection":true,"title":"Snap documentation","clicks":0},{"url":"https://forum.snapcraft.io/t/release-notes-snapcraft-4-7/24252","internal":true,"reflection":true,"title":"Release notes: Snapcraft 4.7","clicks":0},{"url":"https://forum.snapcraft.io/t/whats-new/20117","internal":true,"reflection":true,"title":"What's new","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":true,"last_wiki_edit":"2023-02-02T11:54:09.998Z","can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":90592,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2021-04-08T17:39:25.037Z","cooked":"","post_number":2,"post_type":3,"updated_at":"2021-04-08T17:39:25.037Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":30,"readers_count":29,"score":5.8,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"action_code":"visible.disabled","can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":91220,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2021-04-20T13:35:38.616Z","cooked":"","post_number":3,"post_type":3,"updated_at":"2021-04-20T13:35:38.616Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":28,"readers_count":27,"score":10.4,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"action_code":"visible.enabled","can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":104418,"name":"Robert P. J. Day","username":"rpjday","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","created_at":"2022-01-14T11:25:54.326Z","cooked":"\u003cp\u003eNot really a docs issue, but given the valid command “snap validate …” described on this page, it is curious that “snap --help” makes no mention of the “validate” subcommand. Even “snap help --all” says nothing about it.\u003c/p\u003e\n\u003cp\u003eAlso (and I’ve mentioned this earlier), other than a link to this page from “What’s New”, there is no ToC entry that would lead a reader here.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2022-01-14T11:25:54.326Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":19,"readers_count":18,"score":3.6,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Robert P. J. Day","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11710,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":105711,"name":"Rahul","username":"rahul-tt","avatar_template":"/letter_avatar/rahul-tt/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","created_at":"2022-02-14T10:08:46.662Z","cooked":"\u003cp\u003eHi \u003ca class=\"mention\" href=\"/u/degville\"\u003e@degville\u003c/a\u003e,\u003c/p\u003e\n\u003cp\u003ei created a validation set using my developer accout on my pc. Now if i want to enforce it on a Ubuntu Core system, how do I do that? There is no enforce validation on snapd rest api. so how do i communicate with the UCore system to enforce validation. Moreover when i tried to enfore it over there manually, it returns\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eerror: cannot apply validation set: invalid mode “enforce”\u003c/p\u003e\n\u003c/blockquote\u003e","post_number":5,"post_type":1,"updated_at":"2022-02-14T10:08:46.662Z","reply_count":2,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":19,"readers_count":18,"score":13.6,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Rahul","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11138,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":105720,"name":"Pawel Stolowski","username":"pstolowski","avatar_template":"/user_avatar/forum.snapcraft.io/pstolowski/{size}/6930_2.png","created_at":"2022-02-14T13:20:10.598Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"rahul-tt\" data-post=\"5\" data-topic=\"23801\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/letter_avatar/rahul-tt/40/5_6d6f4cde2641c35611d5cac2fb97c77e.png\" class=\"avatar\"\u003e rahul-tt:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eerror: cannot apply validation set: invalid mode “enforce”\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eWhat version of snapd do you have (\u003ccode\u003esnap --version\u003c/code\u003e)?\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2022-02-14T13:20:10.598Z","reply_count":1,"reply_to_post_number":5,"quote_count":1,"incoming_link_count":0,"reads":18,"readers_count":17,"score":8.4,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Pawel Stolowski","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":6,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":105721,"name":"Rahul","username":"rahul-tt","avatar_template":"/letter_avatar/rahul-tt/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","created_at":"2022-02-14T13:22:48.423Z","cooked":"\u003cpre\u003e\u003ccode\u003esnap    2.53.4\nsnapd   2.53.4\nseries  16\nkernel  5.4.0-1050-raspi\u003c/code\u003e\u003c/pre\u003e","post_number":7,"post_type":1,"updated_at":"2022-02-14T13:22:56.335Z","reply_count":1,"reply_to_post_number":6,"quote_count":0,"incoming_link_count":1,"reads":19,"readers_count":18,"score":13.6,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Rahul","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"pstolowski","avatar_template":"/user_avatar/forum.snapcraft.io/pstolowski/{size}/6930_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11138,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":105722,"name":"Pawel Stolowski","username":"pstolowski","avatar_template":"/user_avatar/forum.snapcraft.io/pstolowski/{size}/6930_2.png","created_at":"2022-02-14T13:30:57.733Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"rahul-tt\" data-post=\"5\" data-topic=\"23801\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/letter_avatar/rahul-tt/40/5_6d6f4cde2641c35611d5cac2fb97c77e.png\" class=\"avatar\"\u003e rahul-tt:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003einvalid mode\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eRight. 2.53.x only supports \u003ccode\u003e--monitor\u003c/code\u003e. Enforcing became available with 2.54 (I just checked in the code) and this documentation was updated, but we forgot to adjust snapd version number; sorry for the confusion.\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2022-02-14T13:32:29.726Z","reply_count":1,"reply_to_post_number":7,"quote_count":1,"incoming_link_count":0,"reads":19,"readers_count":18,"score":53.6,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Pawel Stolowski","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"rahul-tt","avatar_template":"/letter_avatar/rahul-tt/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":6,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":105723,"name":"Rahul","username":"rahul-tt","avatar_template":"/letter_avatar/rahul-tt/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","created_at":"2022-02-14T13:39:18.076Z","cooked":"\u003cp\u003eI updated snapd and then it worked. also i have to enforce the validation manually on the UCore system. Is there a way to do this though snapd rest api?\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2022-02-14T13:39:18.076Z","reply_count":2,"reply_to_post_number":8,"quote_count":0,"incoming_link_count":0,"reads":19,"readers_count":18,"score":13.6,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Rahul","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"pstolowski","avatar_template":"/user_avatar/forum.snapcraft.io/pstolowski/{size}/6930_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11138,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":106018,"name":"Pawel Stolowski","username":"pstolowski","avatar_template":"/user_avatar/forum.snapcraft.io/pstolowski/{size}/6930_2.png","created_at":"2022-02-21T11:43:39.023Z","cooked":"\u003cp\u003eYes there is (snap command talks via REST API for everything it does). The documentation for this API should become available very soon at \u003ca href=\"https://snapcraft.io/docs/snapd-api\"\u003ehttps://snapcraft.io/docs/snapd-api\u003c/a\u003e\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2022-02-21T11:43:39.023Z","reply_count":0,"reply_to_post_number":9,"quote_count":0,"incoming_link_count":0,"reads":18,"readers_count":17,"score":18.4,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Pawel Stolowski","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://snapcraft.io/docs/snapd-api","internal":false,"reflection":false,"title":"Snapd REST API | Snapcraft documentation","clicks":3}],"read":true,"user_title":null,"reply_to_user":{"username":"rahul-tt","avatar_template":"/letter_avatar/rahul-tt/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":6,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":106021,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2022-02-21T13:26:22.458Z","cooked":"\u003cp\u003eThe documentation for this has now been added to our REST API reference: \u003ca href=\"https://forum.snapcraft.io/t/snapd-rest-api/17954#heading--validation-sets\"\u003evalidation-sets\u003c/a\u003e\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2022-02-21T13:26:22.458Z","reply_count":1,"reply_to_post_number":9,"quote_count":0,"incoming_link_count":1,"reads":18,"readers_count":17,"score":43.4,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/snapd-rest-api/17954","internal":true,"reflection":false,"title":"Snapd REST API","clicks":0}],"read":true,"user_title":null,"reply_to_user":{"username":"rahul-tt","avatar_template":"/letter_avatar/rahul-tt/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":106824,"name":"Robert P. J. Day","username":"rpjday","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","created_at":"2022-03-11T15:41:33.906Z","cooked":"\u003cp\u003eAs I test it, “snap validate --forget” does not \u003cem\u003eremove\u003c/em\u003e a vset from the system, it just stops enforcing it, correct? It still shows up in the list of available vsets so that it can be set to enforcing again. Is that correct?\u003c/p\u003e\n\u003cp\u003eOh, wait, I see that further down, that’s explained. That’s a really unfortunate choice of option, --forget; is it too late to change it to something like “–unenforce”?\u003c/p\u003e","post_number":12,"post_type":1,"updated_at":"2022-03-11T16:15:52.128Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":17,"readers_count":16,"score":8.2,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Robert P. J. Day","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11710,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":106902,"name":"Rahul","username":"rahul-tt","avatar_template":"/letter_avatar/rahul-tt/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","created_at":"2022-03-15T08:22:56.814Z","cooked":"\u003cp\u003eHi,\nI was testing how to use validation sets.\u003c/p\u003e\n\u003cp\u003eI first install all the snaps at the revision i needed and I was able to enforce the validation set.\u003c/p\u003e\n\u003cp\u003eAfter that i updated the validation set to have a snap of a different revision.\nNow when i do :\n\u003ccode\u003esnap refresh and snap validate\u003c/code\u003e\nall i get is that the validation set is invalid now and enforced.\u003c/p\u003e\n\u003cp\u003eHow can i get it to refresh automatically to required revision, shouldnt it do that?\u003c/p\u003e","post_number":13,"post_type":1,"updated_at":"2022-03-15T08:22:56.814Z","reply_count":2,"reply_to_post_number":11,"quote_count":0,"incoming_link_count":0,"reads":17,"readers_count":16,"score":13.2,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Rahul","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11138,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":106940,"name":"Pawel Stolowski","username":"pstolowski","avatar_template":"/user_avatar/forum.snapcraft.io/pstolowski/{size}/6930_2.png","created_at":"2022-03-16T08:16:02.024Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/rahul-tt\"\u003e@rahul-tt\u003c/a\u003e Are you using brand store?\u003c/p\u003e","post_number":14,"post_type":1,"updated_at":"2022-03-16T08:16:02.024Z","reply_count":1,"reply_to_post_number":13,"quote_count":0,"incoming_link_count":0,"reads":16,"readers_count":15,"score":8.0,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Pawel Stolowski","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"rahul-tt","avatar_template":"/letter_avatar/rahul-tt/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":6,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":106941,"name":"Rahul","username":"rahul-tt","avatar_template":"/letter_avatar/rahul-tt/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","created_at":"2022-03-16T09:25:56.181Z","cooked":"\u003cp\u003eyes, i am using a brand store\u003c/p\u003e","post_number":15,"post_type":1,"updated_at":"2022-03-16T09:25:56.181Z","reply_count":0,"reply_to_post_number":14,"quote_count":0,"incoming_link_count":1,"reads":16,"readers_count":15,"score":8.0,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Rahul","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"pstolowski","avatar_template":"/user_avatar/forum.snapcraft.io/pstolowski/{size}/6930_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11138,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":106957,"name":"Alex Lewontin","username":"alexclewontin","avatar_template":"/letter_avatar/alexclewontin/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","created_at":"2022-03-16T16:56:15.003Z","cooked":"\u003cp\u003eI’ve observed something similar. Below, dev machine is Ubuntu Desktop 20.04, and target machine is UC20 pointing to a private brand store.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eOn dev machine: Publish snaps \u003ccode\u003eacme-foo\u003c/code\u003e and \u003ccode\u003eacme-bar\u003c/code\u003e in private brand store. Upload \u0026amp; release revision 1 of \u003ccode\u003eacme-foo\u003c/code\u003e and revision 1 of \u003ccode\u003eacme-bar\u003c/code\u003e to the respective \u003ccode\u003elatest/stable\u003c/code\u003e channels.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eOn dev machine: Create Ubuntu Core image, which includes snaps \u003ccode\u003eacme-foo\u003c/code\u003e following \u003ccode\u003elatest/stable\u003c/code\u003e and \u003ccode\u003eacme-bar\u003c/code\u003e following \u003ccode\u003elatest/stable\u003c/code\u003e in model assertion.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eOn target machine: Boot image. Allow system to prepare device \u0026amp; perform initial refresh (no updates expected to \u003ccode\u003eacme-foo\u003c/code\u003e \u0026amp; \u003ccode\u003eacme-bar\u003c/code\u003e). Place a refresh hold for one week (arbitrary time, simply to prevent unexpected auto-refreshes during test).\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eOn dev machine: Run \u003ccode\u003esnapcraft edit-validation-sets acme vs-baz 1\u003c/code\u003e, to create:\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode\u003eaccount-id: acme\nname: vs-baz\nsequence: 1\n# The revision for this validation set\n# revision: 0\nsnaps:\n  - name: acme-foo\n    id:   f00a1phanum3r1cstr1ng\n    presence: required\n    revision: 1\n  - name: acme-bar\n    id:  bara1phanum3r1cstr1ng\n    presence: required\n    revision: 1\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"5\"\u003e\n\u003cli\u003e\n\u003cp\u003eOn target machine: Run \u003ccode\u003esnap validate --enforce acme/vs-baz=1\u003c/code\u003e. This succeeds (as the set is simply describing the current state of the \u003ccode\u003elatest/stable\u003c/code\u003e channels, which the device is following and up to date on.) \u003ccode\u003esnap validate\u003c/code\u003e confirms that the set is valid and being enforced.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eOn dev machine: Upload and release revision 2 of \u003ccode\u003eacme-bar\u003c/code\u003e to store. Release to \u003ccode\u003elatest/stable\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eOn target machine:  Run \u003ccode\u003esnap refresh\u003c/code\u003e, and observe that no new snap revisions are installed, as expected (because while revision 2 is available on \u003ccode\u003elatest/stable\u003c/code\u003e the currently enforced validation set prevents it from being installed)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eOn dev machine: Run \u003ccode\u003esnapcraft edit-validation-sets acme vs-baz 1\u003c/code\u003e, to create\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode\u003eaccount-id: acme\nname: vs-baz\nsequence: 1\n# The revision for this validation set\n# revision: 1\nsnaps:\n  - name: acme-foo\n    id:   f00a1phanum3r1cstr1ng\n    presence: required\n    revision: 1\n  - name: acme-bar\n    id:  bara1phanum3r1cstr1ng\n    presence: required\n    revision: 2\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"9\"\u003e\n\u003cli\u003e\n\u003cp\u003eOn target machine: run \u003ccode\u003esnap refresh\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eEXPECTED BEHAVIOR:  \u003ccode\u003eacme-bar\u003c/code\u003e refreshes to revision 2, as the latest revision of \u003ccode\u003eacme/vs-baz=1\u003c/code\u003e  allows. \u003ccode\u003eacme/vs-baz=1\u003c/code\u003e remains valid \u0026amp; enforced.\u003c/p\u003e\n\u003cp\u003eOBSERVED BEHAVIOR: \u003ccode\u003eacme/vs-baz=1\u003c/code\u003e becomes invalid. \u003ccode\u003eacme-bar\u003c/code\u003e is also not refreshed to revision 2. \u003ccode\u003esnap known validation-set\u003c/code\u003e indicates the device is aware of latest revision of \u003ccode\u003evs-baz\u003c/code\u003e but something breaks along the way\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e","post_number":16,"post_type":1,"updated_at":"2022-03-16T16:56:15.003Z","reply_count":2,"reply_to_post_number":13,"quote_count":0,"incoming_link_count":8,"reads":16,"readers_count":15,"score":53.0,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Alex Lewontin","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"rahul-tt","avatar_template":"/letter_avatar/rahul-tt/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":10511,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":106994,"name":"Rahul","username":"rahul-tt","avatar_template":"/letter_avatar/rahul-tt/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","created_at":"2022-03-17T09:49:42.845Z","cooked":"\u003cp\u003eThis is exactly what i am facing. Thanks for explaining with an example\u003c/p\u003e","post_number":17,"post_type":1,"updated_at":"2022-03-17T09:49:42.845Z","reply_count":0,"reply_to_post_number":16,"quote_count":0,"incoming_link_count":1,"reads":16,"readers_count":15,"score":8.0,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Rahul","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"alexclewontin","avatar_template":"/letter_avatar/alexclewontin/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11138,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":107139,"name":"Pawel Stolowski","username":"pstolowski","avatar_template":"/user_avatar/forum.snapcraft.io/pstolowski/{size}/6930_2.png","created_at":"2022-03-21T13:24:53.056Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/alexclewontin\"\u003e@alexclewontin\u003c/a\u003e Thanks for providing detailed steps and inputs. Could you please attach the list of \u003ccode\u003esnap changes\u003c/code\u003e and the list of tasks (\u003ccode\u003esnap change \u0026lt;ID\u0026gt;\u003c/code\u003e) for the last \u003ccode\u003esnap refresh\u003c/code\u003e; also, \u003ccode\u003ejournalctl -u snapd\u003c/code\u003e for that period may be helpful if you still have it?\u003c/p\u003e","post_number":18,"post_type":1,"updated_at":"2022-03-21T13:24:53.056Z","reply_count":0,"reply_to_post_number":16,"quote_count":0,"incoming_link_count":0,"reads":15,"readers_count":14,"score":2.8,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Pawel Stolowski","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"alexclewontin","avatar_template":"/letter_avatar/alexclewontin/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":6,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":107208,"name":"Pawel Stolowski","username":"pstolowski","avatar_template":"/user_avatar/forum.snapcraft.io/pstolowski/{size}/6930_2.png","created_at":"2022-03-22T12:27:08.540Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/rahul-tt\"\u003e@rahul-tt\u003c/a\u003e and \u003ca class=\"mention\" href=\"/u/alexclewontin\"\u003e@alexclewontin\u003c/a\u003e There is an additional requirement currently in place (besides brand store) for enforcing of validation sets by snap store that was missing in the original requirements, the first post in this thread has just been updated to reflect that - see the points after \" \u003cstrong\u003eCurrently, in order to enforce a validation set, the following is also required\u003c/strong\u003e…\". Sorry for the confusion.\u003c/p\u003e","post_number":19,"post_type":1,"updated_at":"2022-03-22T12:27:30.295Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":14,"readers_count":13,"score":2.6,"yours":false,"topic_id":23801,"topic_slug":"validation-sets","display_username":"Pawel Stolowski","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":6,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[90591,90592,91220,104418,105711,105720,105721,105722,105723,106018,106021,106824,106902,106940,106941,106957,106994,107139,107208]},"timeline_lookup":[[1,798],[3,787],[4,518],[5,487],[10,480],[12,461],[13,458],[14,457],[16,456],[18,452],[19,451]],"suggested_topics":[{"id":32211,"title":"Snapcraft linters","fancy_title":"Snapcraft linters","slug":"snapcraft-linters","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-10-17T20:12:23.427Z","last_posted_at":"2023-05-15T13:21:11.198Z","bumped":true,"bumped_at":"2023-05-15T13:21:11.198Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":4,"views":1230,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":3793,"username":"cmatsuoka","name":"Claudio Matsuoka","avatar_template":"/user_avatar/forum.snapcraft.io/cmatsuoka/{size}/9338_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1418,"username":"galgalesh","name":"Merlijn Sebrechts","avatar_template":"/user_avatar/forum.snapcraft.io/galgalesh/{size}/9283_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":4363,"username":"xnox","name":"Dimitri John Ledkov","avatar_template":"/user_avatar/forum.snapcraft.io/xnox/{size}/4776_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":393,"username":"jamesh","name":"James Henstridge","avatar_template":"/user_avatar/forum.snapcraft.io/jamesh/{size}/3947_2.png"}}]},{"id":34548,"title":"ROS distributions with no extensions","fancy_title":"ROS distributions with no extensions","slug":"ros-distributions-with-no-extensions","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2023-03-30T20:47:55.438Z","last_posted_at":"2023-03-31T14:22:33.616Z","bumped":true,"bumped_at":"2023-03-31T14:22:33.616Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":398,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":13647,"username":"giusebar18","name":"","avatar_template":"/letter_avatar/giusebar18/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":30809,"title":"The ROS 2 Humble extension","fancy_title":"The ROS 2 Humble extension","slug":"the-ros-2-humble-extension","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-08T20:12:10.035Z","last_posted_at":"2022-07-08T20:12:10.192Z","bumped":true,"bumped_at":"2023-03-13T13:44:02.640Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":1244,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":6739,"username":"artivis","name":"Jeremie Deray","avatar_template":"/user_avatar/forum.snapcraft.io/artivis/{size}/5695_2.png"}}]},{"id":33076,"title":"Intermediate snapcraft.yaml example","fancy_title":"Intermediate snapcraft.yaml example","slug":"intermediate-snapcraft-yaml-example","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-12-13T12:33:36.674Z","last_posted_at":"2022-12-15T10:46:41.984Z","bumped":true,"bumped_at":"2022-12-13T12:33:36.830Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":813,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":31668,"title":"The posix-mq interface","fancy_title":"The posix-mq interface","slug":"the-posix-mq-interface","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-09-08T12:00:35.327Z","last_posted_at":"2022-09-08T12:00:35.467Z","bumped":true,"bumped_at":"2023-04-14T09:29:21.981Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":888,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]}],"tags":[],"id":23801,"title":"Validation sets","fancy_title":"Validation sets","posts_count":19,"created_at":"2021-04-08T17:38:56.457Z","views":4198,"reply_count":12,"like_count":4,"last_posted_at":"2022-03-22T12:27:08.540Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"validation-sets","category_id":15,"word_count":2519,"deleted_at":null,"user_id":2772,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_23801","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":19,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"topic_timer":null,"message_bus_last_id":0,"participant_count":5,"show_read_indicator":false,"thumbnails":null,"details":{"notification_level":1,"participants":[{"id":6,"username":"pstolowski","name":"Pawel Stolowski","avatar_template":"/user_avatar/forum.snapcraft.io/pstolowski/{size}/6930_2.png","post_count":6,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":11138,"username":"rahul-tt","name":"Rahul","avatar_template":"/letter_avatar/rahul-tt/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","post_count":6,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","post_count":2,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":11710,"username":"rpjday","name":"Robert P. J. Day","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","post_count":2,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":10511,"username":"alexclewontin","name":"Alex Lewontin","avatar_template":"/letter_avatar/alexclewontin/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"created_by":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"},"last_poster":{"id":6,"username":"pstolowski","name":"Pawel Stolowski","avatar_template":"/user_avatar/forum.snapcraft.io/pstolowski/{size}/6930_2.png"},"links":[{"url":"https://snapcraft.io/docs/snapd-api","title":"Snapd REST API | Snapcraft documentation","internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":6,"domain":"snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/can-a-store-validation-assertion-be-revoked/22120/4","title":"Can a Store validation-assertion be revoked?","internal":true,"attachment":false,"reflection":true,"clicks":2,"user_id":9904,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/snapcraft-overview/8940","title":"Snapcraft overview","internal":true,"attachment":false,"reflection":false,"clicks":2,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/assertions/6155","title":"Assertions","internal":true,"attachment":false,"reflection":false,"clicks":1,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/snapd-rest-api/17954","title":"Snapd REST API","internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":1497,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"}]}}