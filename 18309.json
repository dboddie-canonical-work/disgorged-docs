{"post_stream":{"posts":[{"id":72922,"name":"Brian","username":"egeeirl","avatar_template":"/user_avatar/forum.snapcraft.io/egeeirl/{size}/6294_2.png","created_at":"2020-06-18T20:41:10.777Z","cooked":"\u003cp\u003eThis request is a \u003ca href=\"https://forum.snapcraft.io/t/can-a-confined-snap-run-as-a-different-uid-and-or-guid/18057/4\"\u003efollow up\u003c/a\u003e to an issue/limitation I encountered which requires us to support a use-case with Classic.\u003c/p\u003e\n\u003cp\u003eThere are common scenarios when an operator wishes to run a Slurm command as another user, oftentimes for accounting purposes. A simple command that will invoke the issue:\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eslurm.srun --uid 1000 -N1 -l uname -r\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eThe command above tries to run as UID 1000 but cannot because of the confinement mode. As such, it leads me to this request.\u003c/p\u003e\n\u003cp\u003eStrict confinement is still appropriate, especially for testing and development for Slurm clusters so this request shouldn’t replace our existing Snap tracks.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2020-06-18T20:41:21.709Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":82,"reads":48,"readers_count":47,"score":429.6,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"Brian","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/can-a-confined-snap-run-as-a-different-uid-and-or-guid/18057/4","internal":true,"reflection":false,"title":"Can a confined Snap run as a different uid and or guid?","clicks":3},{"url":"https://forum.snapcraft.io/t/slurm-snap-classic-confinement/17128/10","internal":true,"reflection":true,"title":"Slurm Snap Classic Confinement","clicks":0},{"url":"https://forum.snapcraft.io/t/issue-regarding-directories-with-0600-permissions-in-strict-snap/24904/7","internal":true,"reflection":true,"title":"Issue regarding directories with 0600 permissions in strict snap","clicks":0}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":5857,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":73066,"name":"James Beedy","username":"jamesbeedy","avatar_template":"/user_avatar/forum.snapcraft.io/jamesbeedy/{size}/4712_2.png","created_at":"2020-06-19T22:02:50.870Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/jdstrand\"\u003e@jdstrand\u003c/a\u003e \u003ca class=\"mention\" href=\"/u/alexmurray\"\u003e@alexmurray\u003c/a\u003e what do you need from us to move forward here?\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2020-06-19T22:02:50.870Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":45,"readers_count":44,"score":9.0,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"James Beedy","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1012,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":73264,"name":"Jamie Strandboge","username":"jdstrand","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png","created_at":"2020-06-22T18:13:47.995Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"egeeirl\" data-post=\"1\" data-topic=\"18309\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/egeeirl/40/6294_2.png\" class=\"avatar\"\u003e egeeirl:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThere are common scenarios when an operator wishes to run a Slurm command as another user, oftentimes for accounting purposes. A simple command that will invoke the issue:\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eslurm.srun --uid 1000 -N1 -l uname -r\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eThe command above tries to run as UID 1000 but cannot because of the confinement mode. As such, it leads me to this request.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eWhat are representative use cases where the user might specify \u003ccode\u003e--uid\u003c/code\u003e (eg, especially but not limited to “accounting purposes”)? If it is just to run something as non-root, we have \u003ca href=\"https://forum.snapcraft.io/t/system-usernames/13386\"\u003esystem-usernames\u003c/a\u003e that would allow someone to run \u003ccode\u003eslurm.srun --uid 584788 -N1 -l uname -r\u003c/code\u003e.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2020-06-22T18:13:47.995Z","reply_count":1,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":1,"reads":45,"readers_count":44,"score":19.0,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"Jamie Strandboge","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/system-usernames/13386","internal":true,"reflection":false,"title":"System usernames","clicks":0}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":73299,"name":"Brian","username":"egeeirl","avatar_template":"/user_avatar/forum.snapcraft.io/egeeirl/{size}/6294_2.png","created_at":"2020-06-22T21:23:48.018Z","cooked":"\u003cblockquote\u003e\n\u003cp\u003ewe have \u003ca href=\"https://forum.snapcraft.io/t/system-usernames/13386\"\u003esystem-usernames\u003c/a\u003e that would allow someone to run  \u003ccode\u003eslurm.srun --uid 584788 -N1 -l uname -r\u003c/code\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eI tried this and ran into permissions issues because of how Slurm uses system calls to switch user contexts. Let me test it once more and report back with any errors I encounter.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2020-06-22T21:23:48.018Z","reply_count":1,"reply_to_post_number":3,"quote_count":0,"incoming_link_count":1,"reads":41,"readers_count":40,"score":18.2,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"Brian","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/system-usernames/13386","internal":true,"reflection":false,"title":"System usernames","clicks":2}],"read":true,"user_title":"","reply_to_user":{"username":"jdstrand","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":5857,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":73304,"name":"Jamie Strandboge","username":"jdstrand","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png","created_at":"2020-06-22T21:57:07.198Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"egeeirl\" data-post=\"4\" data-topic=\"18309\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/egeeirl/40/6294_2.png\" class=\"avatar\"\u003e egeeirl:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eI tried this and ran into permissions issues because of how Slurm uses system calls to switch user contexts. Let me test it once more and report back with any errors I encounter.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eUse of snap_daemon requires some care so if running into trouble, be sure to see ‘Usage considerations’ in \u003ca href=\"https://forum.snapcraft.io/t/system-usernames/13386\"\u003esystem-usernames\u003c/a\u003e.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2020-06-22T21:57:07.198Z","reply_count":2,"reply_to_post_number":4,"quote_count":1,"incoming_link_count":1,"reads":37,"readers_count":36,"score":52.4,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"Jamie Strandboge","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/system-usernames/13386","internal":true,"reflection":false,"title":"System usernames","clicks":0}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":73421,"name":"Brian","username":"egeeirl","avatar_template":"/user_avatar/forum.snapcraft.io/egeeirl/{size}/6294_2.png","created_at":"2020-06-23T21:59:28.057Z","cooked":"\u003cp\u003eRan a pair of test cases today and immediately hit a wall. I have the daemons running as \u003ccode\u003esnap_daemon\u003c/code\u003e but user switching, even to \u003cem\u003ethe\u003c/em\u003e snap_daemon user, is not permitted. Here are the tests and logs:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eroot@slurm-test:/tmp# srun --uid 1000 -l uname -a\nsrun: error: initgroups: Operation not permitted\nsrun: fatal: Unable to assume uid=1000\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003edmesg log:\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eaudit: type=1326 audit(1592949033.121:584): auid=0 uid=0 gid=0 ses=31 pid=855358 comm=\"srun\" exe=\"/snap/slurm/255/slurm-bins/srun\" sig=0 arch=c000003e syscall=116 compat=0 ip=0x7fe0c1516d9d code=0x50000\naudit: type=1326 audit(1592949033.121:585): auid=0 uid=0 gid=0 ses=31 pid=855358 comm=\"srun\" exe=\"/snap/slurm/255/slurm-bins/srun\" sig=0 arch=c000003e syscall=116 compat=0 ip=0x7fe0c1517f10 code=0x50000\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd trying to run as the \u003ccode\u003esnap_daemon\u003c/code\u003e user:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eroot@slurm-test:/tmp# srun --uid 584788 -l uname -a\nsrun: error: initgroups: Operation not permitted\nsrun: fatal: Unable to assume uid=584788\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003edmesg log:\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eaudit: type=1326 audit(1592949216.864:600): auid=0 uid=0 gid=0 ses=31 pid=856524 comm=\"srun\" exe=\"/snap/slurm/255/slurm-bins/srun\" sig=0 arch=c000003e syscall=116 compat=0 ip=0x7f789d71ad9d code=0x50000\naudit: type=1326 audit(1592949216.864:601): auid=0 uid=0 gid=0 ses=31 pid=856524 comm=\"srun\" exe=\"/snap/slurm/255/slurm-bins/srun\" sig=0 arch=c000003e syscall=116 compat=0 ip=0x7f789d71bf10 code=0x50000\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFor reference, the \u003ccode\u003esrun --uid\u003c/code\u003e command provides the following explanation of how the command works with users:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003e–uid\u003c/strong\u003e =\u0026lt; \u003cem\u003euser\u003c/em\u003e \u0026gt;\u003c/p\u003e\n\u003cp\u003eAttempt to submit and/or run a job as  \u003cem\u003euser\u003c/em\u003e  instead of the invoking user id. The invoking user’s credentials will be used to check access permissions for the target partition. User root may use this option to run jobs as a normal user in a RootOnly partition for example. If run as root,  \u003cstrong\u003esrun\u003c/strong\u003e  will drop its permissions to the uid specified after node allocation is successful.  \u003cem\u003euser\u003c/em\u003e  may be the user name or numerical user ID. This option applies to job and step allocations.\u003c/p\u003e\n\u003c/blockquote\u003e","post_number":6,"post_type":1,"updated_at":"2020-06-23T21:59:28.057Z","reply_count":0,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":0,"reads":35,"readers_count":34,"score":7.0,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"Brian","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"jdstrand","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":5857,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":73422,"name":"James Beedy","username":"jamesbeedy","avatar_template":"/user_avatar/forum.snapcraft.io/jamesbeedy/{size}/4712_2.png","created_at":"2020-06-23T22:15:19.051Z","cooked":"\u003cp\u003ehey \u003ca class=\"mention\" href=\"/u/jdstrand\"\u003e@jdstrand\u003c/a\u003e, the main reason we need to execute jobs under uid/gid of the user, is because the slurmd process that executes the job needs to run as the effective uid/gid of the active directory user in order to access filesystem resources owned by the active directory user. Also, as \u003ca class=\"mention\" href=\"/u/egeeirl\"\u003e@egeeirl\u003c/a\u003e mentioned, slurmdbd accounts for the cluster resources used for each job ran by each user. If we can’t execute the job under the uid/gid of the user then we have no way to pair up the resource accounting to the user that ran the job.\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2020-06-23T22:17:15.697Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":28,"readers_count":27,"score":20.6,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"James Beedy","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":1012,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":73504,"name":"James Beedy","username":"jamesbeedy","avatar_template":"/user_avatar/forum.snapcraft.io/jamesbeedy/{size}/4712_2.png","created_at":"2020-06-24T22:12:12.531Z","cooked":"\u003cp\u003ehey \u003ca class=\"mention\" href=\"/u/jdstrand\"\u003e@jdstrand\u003c/a\u003e, does that work for you, or is there something else you need to move forward with this?\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2020-06-24T22:12:12.531Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":27,"readers_count":26,"score":5.4,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"James Beedy","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1012,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":73830,"name":"James Beedy","username":"jamesbeedy","avatar_template":"/user_avatar/forum.snapcraft.io/jamesbeedy/{size}/4712_2.png","created_at":"2020-06-30T16:11:50.643Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/jdstrand\"\u003e@jdstrand\u003c/a\u003e how is it going? Is there a way for us to move forward on this?\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2020-06-30T16:11:50.643Z","reply_count":0,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":0,"reads":27,"readers_count":26,"score":5.4,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"James Beedy","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"jdstrand","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1012,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":73892,"name":"Jamie Strandboge","username":"jdstrand","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png","created_at":"2020-07-01T13:42:27.915Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/egeeirl\"\u003e@egeeirl\u003c/a\u003e - I’m not saying that you should continue to press on making snap_daemon work since based on other comments, it won’t fit the needs for --user, but for posterity, initgroups() uses setgroups() under the hood in a non-sandbox compliant manner (so you’d need to either patch or use the LD_PRELOAD technique). I’ve updated \u003ca href=\"https://forum.snapcraft.io/t/system-usernames/13386\"\u003esystem-usernames\u003c/a\u003e to mention this.\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2020-07-01T13:42:27.915Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":30,"readers_count":29,"score":6.0,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"Jamie Strandboge","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/system-usernames/13386","internal":true,"reflection":false,"title":"System usernames","clicks":1}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":73896,"name":"Jamie Strandboge","username":"jdstrand","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png","created_at":"2020-07-01T14:19:43.794Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/egeeirl\"\u003e@egeeirl\u003c/a\u003e and \u003ca class=\"mention\" href=\"/u/jamesbeedy\"\u003e@jamesbeedy\u003c/a\u003e - sorry for the delay, this is a new use case that needed to be investigated and thought through.\u003c/p\u003e\n\u003cp\u003e\u003ca class=\"mention\" href=\"/u/pedronis\"\u003e@pedronis\u003c/a\u003e - this seems to be a new use case for classic. Some discussion happened in: \u003ca href=\"https://forum.snapcraft.io/t/can-a-confined-snap-run-as-a-different-uid-and-or-guid/18057/4\" class=\"inline-onebox\"\u003eCan a confined Snap run as a different uid and or guid?\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eIME, \u003ca href=\"https://slurm.schedmd.com/overview.html\"\u003eslurm\u003c/a\u003e, is an orchestration tool for HPC. AIUI, slurm can and does utilize the snapd_daemon for certain actions, but in certain environments the slurmd process itself needs to run (arbitrary) commands as the effective uid/gid user in order access resources for the user (\u003ca class=\"mention\" href=\"/u/jamesbeedy\"\u003e@jamesbeedy\u003c/a\u003e referred to this as the ‘active directory user’ which seem to tied to slurm’s concept of ‘partitions’ (see the overview url)). Other use cases are to run commands as other users for accounting purposes (AIUI, the current design of slurm is such that it performs resource accounting by tracking the uid that the process ran as as opposed to something like having users login in with an account and executing all commands as the same user and performing tracking via use of the account).\u003c/p\u003e\n\u003cp\u003eThe slurm website states “Slurm is an open source, fault-tolerant, and highly scalable cluster management and job scheduling system for large and small Linux clusters”. So, like \u003ca href=\"https://forum.snapcraft.io/t/request-for-classic-confinement-for-flowbot/18004/4\"\u003eflowbot\u003c/a\u003e, this is similar to juju. The closest use case in our \u003ca href=\"https://forum.snapcraft.io/t/process-for-reviewing-classic-confinement-snaps/1460\"\u003eprocesses for classic\u003c/a\u003e is ‘management snaps’ which we’ve identified as an unsupported use case.\u003c/p\u003e\n\u003cp\u003eIn my limited understanding of slurm, we could perhaps require that slurm be modified to run anything that should be non-root as snap_daemon with slurm then being further modified to perform accounting with this in mind, but IME that would change how users expect to use slurm (ie, they’d have to ‘login’ in some manner). Even if that change was made, slurm’s functionality wrt partitions would be limited.\u003c/p\u003e\n\u003cp\u003eWhile orchestration tools like slurm (and juju (and potentially the recent \u003ca href=\"https://forum.snapcraft.io/t/request-for-classic-confinement-for-flowbot/18004\"\u003eflowbot\u003c/a\u003e request) do ‘manage’ systems, these systems are not for managing fleets of devices/laptops/servers/etc which have login users and are instead about scale out computing on systems primarily without login users. In that light, I think we should consider the ‘orchestration snaps’ use case as something different from ‘management snaps’.\u003c/p\u003e\n\u003cp\u003e\u003ca class=\"mention\" href=\"/u/pedronis\"\u003e@pedronis\u003c/a\u003e - thoughts?\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2020-07-01T14:19:43.794Z","reply_count":2,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":100,"reads":29,"readers_count":28,"score":515.8,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"Jamie Strandboge","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/can-a-confined-snap-run-as-a-different-uid-and-or-guid/18057/4","internal":true,"reflection":false,"title":"Can a confined Snap run as a different uid and or guid?","clicks":3},{"url":"https://forum.snapcraft.io/t/request-for-classic-confinement-for-flowbot/18004","internal":true,"reflection":false,"title":"Request for 'classic' confinement for flowbot","clicks":1},{"url":"https://forum.snapcraft.io/t/process-for-reviewing-classic-confinement-snaps/1460","internal":true,"reflection":false,"title":"Process for reviewing classic confinement snaps","clicks":1},{"url":"https://forum.snapcraft.io/t/request-for-classic-confinement-for-flowbot/18004/4","internal":true,"reflection":false,"title":"Request for 'classic' confinement for flowbot","clicks":0},{"url":"https://slurm.schedmd.com/overview.html","internal":false,"reflection":false,"clicks":0},{"url":"https://forum.snapcraft.io/t/the-snap-for-nsntrace-requests-classic-confinement/22002/5","internal":true,"reflection":true,"title":"The snap for nsntrace requests classic confinement","clicks":0}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":73910,"name":"James Beedy","username":"jamesbeedy","avatar_template":"/user_avatar/forum.snapcraft.io/jamesbeedy/{size}/4712_2.png","created_at":"2020-07-01T16:50:48.443Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/jdstrand\"\u003e@jdstrand\u003c/a\u003e \u003ca class=\"mention\" href=\"/u/pedronis\"\u003e@pedronis\u003c/a\u003e  slurm is a resource scheduler for HPC applications. It is closer in comparison to apache spark than to juju. E.g. we use juju to facilitate the slurm lifecycle; we can scale our slurm clusters using juju to meet the resource needs of individual hpc jobs that users may run on slurm.\u003c/p\u003e\n\u003cp\u003eThe hpc space is majorly an enterprise and academic space, in which heightened security and extended red tape are the norm. Active directory realms, access tracking and resource accounting on a per user basis are required with no exceptions.\u003c/p\u003e\n\u003cp\u003eAn example:\u003cbr\u003e\nA user will have files in a location in an active directory controlled filesystem that the slurmd (compute daemon) process needs to access, on all nodes in the cluster.\u003c/p\u003e\n\u003cp\u003eWhen the user executes a slurm job from a central location using \u003ccode\u003esrun\u003c/code\u003e/\u003ccode\u003esbatch\u003c/code\u003e, the slurmd execute under the effective uid of the user that kicked off the job.\u003cbr\u003e\nThe slurmd needs to execute as the effective userid of the active directory user that kicked off the process so that it can access files in the user space on each of the compute nodes.\u003c/p\u003e\n\u003cp\u003eWe have tried many alternatives to support these conventions outside of producing a classic snap.\u003c/p\u003e\n\u003cp\u003eIn conclusion, we have determined that we need to use a classically confined snap to support these use cases.\u003c/p\u003e\n\u003cp\u003eHope this helps. Thanks!\u003c/p\u003e","post_number":12,"post_type":1,"updated_at":"2020-07-01T17:35:33.563Z","reply_count":0,"reply_to_post_number":11,"quote_count":0,"incoming_link_count":1,"reads":26,"readers_count":25,"score":10.2,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"James Beedy","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":5,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"jdstrand","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1012,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":73933,"name":"Brian","username":"egeeirl","avatar_template":"/user_avatar/forum.snapcraft.io/egeeirl/{size}/6294_2.png","created_at":"2020-07-01T21:16:03.450Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"jdstrand\" data-post=\"11\" data-topic=\"18309\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/jdstrand/40/6376_2.png\" class=\"avatar\"\u003e jdstrand:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWhile orchestration tools like slurm (and juju (and potentially the recent \u003ca href=\"https://forum.snapcraft.io/t/request-for-classic-confinement-for-flowbot/18004\"\u003eflowbot\u003c/a\u003e request) do ‘manage’ systems, these systems are not for managing fleets of devices\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eSlurm isn’t managing or even really orchestrating anything. Depending on the use case, it is effectively a middleware. Take this use-case for example:\u003c/p\u003e\n\u003cp\u003eAn organization wants to use StarCCM to simulate some heavy-duty fluid dynamics. In this case, Slurm is simply a tool that StarCCM leverages to complete the task.\u003c/p\u003e\n\u003cp\u003eSince this is a massively intense computational workload, it would be extremely useful to delegated out to multiple compute nodes. That’s where Slurm comes in.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.plm.automation.siemens.com/global/en/products/simcenter/STAR-CCM.html\" rel=\"noopener nofollow ugc\"\u003eStarCCM\u003c/a\u003e, \u003ca href=\"https://www.open-mpi.org/\" rel=\"noopener nofollow ugc\"\u003eMPI\u003c/a\u003e, and Slurm (and other components) work together to slice the workload into computational chunks that can be resolved through N number of compute nodes via Slurm. As such, Slurm isn’t necessarily \u003cem\u003emanaging\u003c/em\u003e a host in a traditional sense. Slurm also isn’t really orchestrating or provisioning anything, either.\u003c/p\u003e\n\u003cp\u003eIn the current use case, Juju is used to deploy and provision Slurm across several clusters .\u003c/p\u003e","post_number":13,"post_type":1,"updated_at":"2020-07-01T21:16:03.450Z","reply_count":1,"reply_to_post_number":11,"quote_count":1,"incoming_link_count":1,"reads":23,"readers_count":22,"score":14.6,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"Brian","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://www.plm.automation.siemens.com/global/en/products/simcenter/STAR-CCM.html","internal":false,"reflection":false,"clicks":1},{"url":"https://www.open-mpi.org/","internal":false,"reflection":false,"title":"Open MPI: Open Source High Performance Computing","clicks":0}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":5857,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":74061,"name":"Jamie Strandboge","username":"jdstrand","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png","created_at":"2020-07-02T20:50:37.271Z","cooked":"\u003cp\u003eThat is a fair distinction and perhaps we’ll want to define this as a different use case from orchestration. The main point though is that slurm isn’t about managing the compute nodes’ OS, user, etc configuration (ie like puppet or chef might do), it is about putting workloads on them (which in my mind is orchestrating the computation). Semantics aside, ‘management snaps’ is not a supported use case for classic and I’m putting forth that slurm is not a ‘management snap’ but rather something else, which IME is an important distinction when considering slurm for classic confinement.\u003c/p\u003e","post_number":14,"post_type":1,"updated_at":"2020-07-02T20:55:39.983Z","reply_count":1,"reply_to_post_number":13,"quote_count":0,"incoming_link_count":0,"reads":22,"readers_count":21,"score":24.4,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"Jamie Strandboge","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"egeeirl","avatar_template":"/user_avatar/forum.snapcraft.io/egeeirl/{size}/6294_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":74067,"name":"Brian","username":"egeeirl","avatar_template":"/user_avatar/forum.snapcraft.io/egeeirl/{size}/6294_2.png","created_at":"2020-07-02T21:12:54.314Z","cooked":"\u003cblockquote\u003e\n\u003cp\u003eSemantics aside, ‘management snaps’ is not a supported use case for classic and I’m putting forth that slurm is not a ‘management snap’ but rather something else, which IME is an important distinction when considering slurm for classic confinement.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eSure, that seems fine. So this is something that you Snapcrafters will discuss on your side and get back to me or is there anything else I need to do?\u003c/p\u003e","post_number":15,"post_type":1,"updated_at":"2020-07-02T21:12:54.314Z","reply_count":1,"reply_to_post_number":14,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":24.6,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"Brian","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"jdstrand","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":5857,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":74073,"name":"Jamie Strandboge","username":"jdstrand","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png","created_at":"2020-07-02T22:02:00.742Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/egeeirl\"\u003e@egeeirl\u003c/a\u003e - classic snaps run unrestricted on the systems they are installed on and for this reason we treat reviews of classic snaps differently than other sorts of reviews. For use cases for classic snaps that aren’t listed in our \u003ca href=\"https://forum.snapcraft.io/t/process-for-reviewing-classic-confinement-snaps/1460\"\u003ecurrent processes\u003c/a\u003e, reviewers ask for snapd architect involvement, which I did when I asked for \u003ca class=\"mention\" href=\"/u/pedronis\"\u003e@pedronis\u003c/a\u003e to comment. That discussion will happen in this topic and for the moment there is nothing else you need to do, though he may have followup questions for you/other reviewers.\u003c/p\u003e","post_number":16,"post_type":1,"updated_at":"2020-07-02T22:02:00.742Z","reply_count":2,"reply_to_post_number":15,"quote_count":0,"incoming_link_count":0,"reads":22,"readers_count":21,"score":29.4,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"Jamie Strandboge","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/process-for-reviewing-classic-confinement-snaps/1460","internal":true,"reflection":false,"title":"Process for reviewing classic confinement snaps","clicks":0}],"read":true,"user_title":"","reply_to_user":{"username":"egeeirl","avatar_template":"/user_avatar/forum.snapcraft.io/egeeirl/{size}/6294_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":74075,"name":"Brian","username":"egeeirl","avatar_template":"/user_avatar/forum.snapcraft.io/egeeirl/{size}/6294_2.png","created_at":"2020-07-03T00:33:21.068Z","cooked":"\u003cblockquote\u003e\n\u003cp\u003eFor use cases for classic snaps that aren’t listed in our \u003ca href=\"https://forum.snapcraft.io/t/process-for-reviewing-classic-confinement-snaps/1460\"\u003ecurrent processes\u003c/a\u003e, reviewers ask for snapd architect involvement\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003ePerfect, thank you \u003cimg src=\"https://forum.snapcraft.io/images/emoji/emoji_one/+1.png?v=9\" title=\":+1:\" class=\"emoji\" alt=\":+1:\"\u003e\u003c/p\u003e","post_number":17,"post_type":1,"updated_at":"2020-07-03T00:33:21.068Z","reply_count":0,"reply_to_post_number":16,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":4.6,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"Brian","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/process-for-reviewing-classic-confinement-snaps/1460","internal":true,"reflection":false,"title":"Process for reviewing classic confinement snaps","clicks":2}],"read":true,"user_title":"","reply_to_user":{"username":"jdstrand","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":5857,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":74732,"name":"James Beedy","username":"jamesbeedy","avatar_template":"/user_avatar/forum.snapcraft.io/jamesbeedy/{size}/4712_2.png","created_at":"2020-07-12T18:37:11.761Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/jdstrand\"\u003e@jdstrand\u003c/a\u003e \u003ca class=\"mention\" href=\"/u/pedronis\"\u003e@pedronis\u003c/a\u003e nudge, bump\u003c/p\u003e","post_number":18,"post_type":1,"updated_at":"2020-07-12T18:37:11.761Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":20,"readers_count":19,"score":4.0,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"James Beedy","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1012,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":75018,"name":"Samuele Pedroni","username":"pedronis","avatar_template":"/user_avatar/forum.snapcraft.io/pedronis/{size}/46_2.png","created_at":"2020-07-15T15:53:05.840Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/jdstrand\"\u003e@jdstrand\u003c/a\u003e the ways this seems to be different than a managent snap are:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eI imagine it is normally supposed to take over a machine with no workloads not related to it usually running\u003c/li\u003e\n\u003cli\u003eIt wouldn’t run quietly in a corner taking control only from time to time\u003c/li\u003e\n\u003cli\u003eIn particular except for developer machines we wouldn’t expect this to run on a desktop?\u003c/li\u003e\n\u003cli\u003eWe don’t expect casual users to install this at all?\u003c/li\u003e\n\u003c/ul\u003e","post_number":19,"post_type":1,"updated_at":"2020-07-15T15:53:05.840Z","reply_count":3,"reply_to_post_number":16,"quote_count":0,"incoming_link_count":0,"reads":17,"readers_count":16,"score":18.4,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"Samuele Pedroni","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"jdstrand","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":13,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":75019,"name":"Samuele Pedroni","username":"pedronis","avatar_template":"/user_avatar/forum.snapcraft.io/pedronis/{size}/46_2.png","created_at":"2020-07-15T15:56:10.027Z","cooked":"\u003cp\u003eThese same arguments though make it a bit unclear why it couldn’t be confined at some point?.\u003c/p\u003e","post_number":20,"post_type":1,"updated_at":"2020-07-15T15:56:10.027Z","reply_count":0,"reply_to_post_number":19,"quote_count":0,"incoming_link_count":0,"reads":21,"readers_count":20,"score":4.2,"yours":false,"topic_id":18309,"topic_slug":"request-for-classic-confinement-slurm","display_username":"Samuele Pedroni","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"pedronis","avatar_template":"/user_avatar/forum.snapcraft.io/pedronis/{size}/46_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":13,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[72922,73066,73264,73299,73304,73421,73422,73504,73830,73892,73896,73910,73933,74061,74067,74073,74075,74732,75018,75019,75096,75669,75670,76045,76065,76077,76085,76148,76153]},"timeline_lookup":[[1,1092],[2,1091],[3,1088],[6,1087],[8,1086],[9,1080],[11,1079],[14,1078],[18,1068],[19,1065],[21,1064],[22,1056],[24,1051],[28,1049]],"tags":[],"id":18309,"title":"Request for Classic confinement: Slurm","fancy_title":"Request for Classic confinement: Slurm","posts_count":29,"created_at":"2020-06-18T20:41:10.669Z","views":2446,"reply_count":18,"like_count":16,"last_posted_at":"2020-07-31T17:56:16.773Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"request-for-classic-confinement-slurm","category_id":19,"word_count":3079,"deleted_at":null,"user_id":5857,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_18309","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":29,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"topic_timer":null,"message_bus_last_id":0,"participant_count":6,"show_read_indicator":false,"thumbnails":null,"accepted_answer":{"post_number":27,"username":"alexmurray","excerpt":"Granting use of classic. This is now live."},"details":{"notification_level":1,"participants":[{"id":21,"username":"jdstrand","name":"Jamie Strandboge","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png","post_count":9,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":1012,"username":"jamesbeedy","name":"James Beedy","avatar_template":"/user_avatar/forum.snapcraft.io/jamesbeedy/{size}/4712_2.png","post_count":8,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":5857,"username":"egeeirl","name":"Brian","avatar_template":"/user_avatar/forum.snapcraft.io/egeeirl/{size}/6294_2.png","post_count":6,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":13,"username":"pedronis","name":"Samuele Pedroni","avatar_template":"/user_avatar/forum.snapcraft.io/pedronis/{size}/46_2.png","post_count":3,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":2432,"username":"alexmurray","name":"Alex Murray","avatar_template":"/user_avatar/forum.snapcraft.io/alexmurray/{size}/4397_2.png","post_count":2,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":14,"username":"popey","name":"Alan Pope","avatar_template":"/user_avatar/forum.snapcraft.io/popey/{size}/7793_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"created_by":{"id":5857,"username":"egeeirl","name":"Brian","avatar_template":"/user_avatar/forum.snapcraft.io/egeeirl/{size}/6294_2.png"},"last_poster":{"id":21,"username":"jdstrand","name":"Jamie Strandboge","avatar_template":"/user_avatar/forum.snapcraft.io/jdstrand/{size}/6376_2.png"},"links":[{"url":"https://forum.snapcraft.io/t/can-a-confined-snap-run-as-a-different-uid-and-or-guid/18057/4","title":"Can a confined Snap run as a different uid and or guid?","internal":true,"attachment":false,"reflection":false,"clicks":6,"user_id":21,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/process-for-reviewing-classic-confinement-snaps/1460","title":"Process for reviewing classic confinement snaps","internal":true,"attachment":false,"reflection":false,"clicks":3,"user_id":21,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/system-usernames/13386","title":"System usernames","internal":true,"attachment":false,"reflection":false,"clicks":3,"user_id":21,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://github.com/SchedMD/slurm/blob/b3f28e4795f953f5b19ffa7ba6d8e0a33930c03c/src/slurmd/slurmstepd/mgr.c#L2648,L2680","title":"slurm/mgr.c at b3f28e4795f953f5b19ffa7ba6d8e0a33930c03c · SchedMD/slurm · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":1012,"domain":"github.com","root_domain":"github.com"},{"url":"https://forum.snapcraft.io/t/request-for-classic-confinement-for-flowbot/18004","title":"Request for 'classic' confinement for flowbot","internal":true,"attachment":false,"reflection":false,"clicks":1,"user_id":21,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://www.plm.automation.siemens.com/global/en/products/simcenter/STAR-CCM.html","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":5857,"domain":"www.plm.automation.siemens.com","root_domain":"siemens.com"}]}}