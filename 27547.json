{"post_stream":{"posts":[{"id":102221,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2021-11-17T09:58:00.218Z","cooked":"\u003cp\u003eBy default, Snapcraft requires network connectivity to both source the Multipass or LXD images used to host the build environment, and to populate the build environment with whatever dependencies, source repositories, binaries, and other packages that are required to build the snap.\u003c/p\u003e\n\u003cp\u003eIt may sometimes be necessary, or helpful, to build snaps without this network dependency, such as when needing \u003cem\u003eAeroplane mode\u003c/em\u003e on a laptop, or in areas with restricted bandwidth. For those situations, Snapcraft 6.x has an experimental offline mode.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#heading--preparation\"\u003ePreparation\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#heading--offline\"\u003eRun snapcraft offline\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"p-notification--caution\"\u003e\n\u003cp class=\"p-notification__response\"\u003e\n\u003cspan class=\"p-notification__status\"\u003e\nOnly works with Snapcraft 6.x: \u003c/span\u003e\n\nOffline mode is considered \u003cstrong\u003eexperimental\u003c/strong\u003e and only works with Snapcraft 6.x. It will not work with earlier versions, or Snapcraft 7.x.\u003c/p\u003e\n\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 id=\"heading--preparation\"\u003ePreparation\u003c/h2\u003e\n\u003cp\u003eBefore using Snapcraft’s offline mode, the build environment needs to be populated with everything necessary to build the snap.\u003c/p\u003e\n\u003cp\u003eThis requirement is the equivalent of running the build process up to and including the \u003cem\u003epull\u003c/em\u003e stage of the \u003ca href=\"/t/parts-lifecycle/12231\"\u003eParts lifecycle\u003c/a\u003e, and with a network connection, this can be accomplished from within a pre-prepared  \u003ca href=\"/t/snapcraft-overview/8940\"\u003esnapcraft\u003c/a\u003e  project directory with the \u003ccode\u003esnapcraft pull\u003c/code\u003e command:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ snapcraft pull\nPulling [...]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWith the pull stage complete, everything the snap depends upon to build is now locally cached.\u003c/p\u003e\n\u003ch2 id=\"heading--offline\"\u003eRun snapcraft offline\u003c/h2\u003e\n\u003cp\u003eTo start the offline build process, add the \u003ccode\u003e--offline\u003c/code\u003e argument to the \u003cem\u003esnapcraft\u003c/em\u003e command:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003e$ snapcraft --offline\n*EXPERIMENTAL* --offline enabled.\nLaunching a container.\n[...]\nBuilding...\nStaging...\nPriming...\nSnapping... \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSnapcraft will now build the snap without requiring a network connection, using the data cached from the pull stage.\u003c/p\u003e\n\u003cp\u003eIn offline mode, the snapcraft.yaml for the snap can still be edited, and the snap rebuilt, as long as an edit doesn’t result in additional packages being required. Another consideration is that cached dependencies can become outdated.\u003c/p\u003e\n\u003cp\u003eTo update the cache and add any new missing dependencies, rerun the \u003ccode\u003esnapcraft pull\u003c/code\u003e command with a network connection.\u003c/p\u003e\n\u003cp\u003eThe \u003ccode\u003e-offline\u003c/code\u003e argument can also be used while connected to the network. In its current \u003cem\u003eexperimental\u003c/em\u003e implementation, Snapcraft will re-order the build process to perform an initial download and cache step for the entire snap without requiring a \u003cem\u003esnapcraft pull\u003c/em\u003e command.\u003c/p\u003e\n\u003cp\u003eTo learn more about other ways of building snaps with Snapcraft, see \u003ca href=\"/t/build-options/14250\"\u003eBuild options\u003c/a\u003e.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2022-11-02T15:08:28.608Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":50,"reads":15,"readers_count":14,"score":268.0,"yours":false,"topic_id":27547,"topic_slug":"snapcraft-offline-mode","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":4,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/build-options/14250","internal":true,"reflection":false,"title":"Build options","clicks":3},{"url":"https://forum.snapcraft.io/t/snapcraft-overview/8940","internal":true,"reflection":false,"title":"Snapcraft overview","clicks":0},{"url":"https://forum.snapcraft.io/t/parts-lifecycle/12231","internal":true,"reflection":false,"title":"Parts lifecycle","clicks":0},{"url":"https://forum.snapcraft.io/t/snapcraft-does-not-recognize-offline-mode/32471","internal":true,"reflection":true,"title":"Snapcraft does not recognize offline mode","clicks":1},{"url":"https://forum.snapcraft.io/t/release-notes-snapcraft-6-0/27762","internal":true,"reflection":true,"title":"Release notes: Snapcraft 6.0","clicks":0},{"url":"https://forum.snapcraft.io/t/snap-documentation/11127","internal":true,"reflection":true,"title":"Snap documentation","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":true,"last_wiki_edit":"2022-11-02T15:08:28.621Z","can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":104331,"name":"Robert P. J. Day","username":"rpjday","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","created_at":"2022-01-12T22:25:26.865Z","cooked":"\u003cp\u003e“… and other packages [that] are required to build the snap.”\u003c/p\u003e\n\u003cp\u003e“up-to” -\u0026gt; “up to”\u003c/p\u003e\n\u003cp\u003e“from a within” -\u0026gt; “from within a”\u003c/p\u003e\n\u003cp\u003e“-offline” -\u0026gt; “–offline” toward the end.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2022-01-12T22:25:26.865Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":12,"readers_count":11,"score":7.4,"yours":false,"topic_id":27547,"topic_slug":"snapcraft-offline-mode","display_username":"Robert P. J. Day","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11710,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":104352,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2022-01-13T10:20:25.263Z","cooked":"\u003cp\u003eGood spots, thanks for letting us know!\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2022-01-13T10:20:25.263Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":0,"reads":11,"readers_count":10,"score":2.2,"yours":false,"topic_id":27547,"topic_slug":"snapcraft-offline-mode","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"rpjday","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png"},"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[102221,104331,104352]},"timeline_lookup":[[1,576],[2,519]],"suggested_topics":[{"id":30982,"title":"The acrn interface","fancy_title":"The acrn interface","slug":"the-acrn-interface","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-07-21T14:25:57.164Z","last_posted_at":"2022-08-05T17:30:59.540Z","bumped":true,"bumped_at":"2022-08-05T17:30:59.540Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":1,"views":1003,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":9753,"username":"gvancuts","name":"Geoffroy","avatar_template":"/letter_avatar/gvancuts/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"}}]},{"id":32908,"title":"The pwm-control interface","fancy_title":"The pwm-control interface","slug":"the-pwm-control-interface","posts_count":8,"reply_count":6,"highest_post_number":9,"image_url":null,"created_at":"2022-11-30T08:57:34.695Z","last_posted_at":"2023-03-30T09:37:54.031Z","bumped":true,"bumped_at":"2023-03-30T09:37:54.031Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":3,"views":552,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":8707,"username":"zyga","name":"Zygmunt Krynicki","avatar_template":"/user_avatar/forum.snapcraft.io/zyga/{size}/4376_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":11710,"username":"rpjday","name":"Robert P. J. Day","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png"}}]},{"id":31037,"title":"Snapcraft Tutorials","fancy_title":"Snapcraft Tutorials","slug":"snapcraft-tutorials","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-26T17:19:27.439Z","last_posted_at":"2022-07-26T17:19:27.549Z","bumped":true,"bumped_at":"2023-04-05T08:33:18.861Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":1214,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":32228,"title":"Classic linter","fancy_title":"Classic linter","slug":"classic-linter","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-10-18T17:22:41.599Z","last_posted_at":"2022-10-19T13:02:49.311Z","bumped":true,"bumped_at":"2022-10-19T13:02:49.311Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":2,"views":921,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":3793,"username":"cmatsuoka","name":"Claudio Matsuoka","avatar_template":"/user_avatar/forum.snapcraft.io/cmatsuoka/{size}/9338_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":393,"username":"jamesh","name":"James Henstridge","avatar_template":"/user_avatar/forum.snapcraft.io/jamesh/{size}/3947_2.png"}}]},{"id":31050,"title":"Snapcraft Explanation guides","fancy_title":"Snapcraft Explanation guides","slug":"snapcraft-explanation-guides","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-07-27T11:41:43.445Z","last_posted_at":"2023-04-05T12:22:13.234Z","bumped":true,"bumped_at":"2023-04-05T12:22:13.234Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":2,"views":1139,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":11710,"username":"rpjday","name":"Robert P. J. Day","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png"}}]}],"tags":[],"id":27547,"title":"Snapcraft offline mode","fancy_title":"Snapcraft offline mode","posts_count":3,"created_at":"2021-11-17T09:58:00.081Z","views":1903,"reply_count":1,"like_count":1,"last_posted_at":"2022-01-13T10:20:25.263Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"snapcraft-offline-mode","category_id":15,"word_count":425,"deleted_at":null,"user_id":2772,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_27547","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"details":{"notification_level":1,"participants":[{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","post_count":2,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":11710,"username":"rpjday","name":"Robert P. J. Day","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"created_by":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"},"last_poster":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"},"links":[{"url":"https://forum.snapcraft.io/t/build-options/14250","title":"Build options","internal":true,"attachment":false,"reflection":false,"clicks":3,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/snapcraft-does-not-recognize-offline-mode/32471","title":"Snapcraft does not recognize offline mode","internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":13478,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"}]}}