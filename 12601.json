{"post_stream":{"posts":[{"id":52963,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2019-08-02T16:38:31.246Z","cooked":"\u003cp\u003eWhen \u003ca href=\"/t/creating-snapcraft-yaml/11666\"\u003ecreating snapcraft.yaml\u003c/a\u003e to build a new snap, a snap’s executable  component can be either exposed as a command or run as a background service or daemon.\u003c/p\u003e\n\u003cp\u003eFor details on how to expose an executable from its constituent parts, see \u003ca href=\"/t/defining-a-command/12060\"\u003eDefining a command\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eA snap daemon or service behaves the same as a native daemon or service, and will either start automatically at boot time and end when the machine is shutdown, or start and stop on demand through socket activation.\u003c/p\u003e\n\u003cp\u003eSnap confinement prohibits a system’s users and groups from running as traditional services might, such as under a user’s ownership. But a \u003cem\u003esnap_daemon\u003c/em\u003e user and group can alternatively be created within a snap to provide similar user and group level control outside of a snap’s confinement. See \u003ca href=\"/t/system-usernames/13386\"\u003eSystem usernames\u003c/a\u003e for more details.\u003c/p\u003e\n\u003cp\u003eSee \u003ca href=\"https://forum.snapcraft.io/t/service-management/3965\"\u003eService management\u003c/a\u003e for details on starting and stopping services from the \u003cem\u003esnap\u003c/em\u003e command. Services and daemons can also be managed from within a snap, such as via a hook, with the \u003ca href=\"/t/using-the-snapctl-tool/15002#heading--services\"\u003esnapctl\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eTo set memory and CPU resource limits for a service or daemon, see \u003ca href=\"/t/quota-groups/25553/3\"\u003eQuota groups\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eIf you need to add user configurable options to your service or daemon, such as which port it should use, see \u003ca href=\"/t/adding-snap-configuration/15246\"\u003eAdding snap configuration\u003c/a\u003e.\u003c/p\u003e\n\u003ch2\u003eDefining a daemon\u003c/h2\u003e\n\u003cp\u003eTo define an executable as a daemon or service, add \u003ccode\u003edaemon: simple\u003c/code\u003e to its \u003cem\u003eapps\u003c/em\u003e stanza:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-yaml\"\u003eapps:\n  part-os-release:\n    command: bin/os-release.sh\n    daemon: simple\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe value for \u003ccode\u003edaemon:\u003c/code\u003e can be one of the following:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003esimple\u003c/strong\u003e\nRun for as along as the service is active - this is typically the default option.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eoneshot\u003c/strong\u003e\nRun once and exit after completion, notifying systemd. After completion, the daemon is still considered active and \u003cem\u003erunning\u003c/em\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eforking\u003c/strong\u003e\nThe configured command calls \u003ccode\u003efork()\u003c/code\u003e as part of its start-up and the parent process is then expected to exit when start-up is complete. This isn’t the recommended behaviour on a modern Linux system.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003enotify\u003c/strong\u003e\nAssumes the command will send a signal to \u003cem\u003esystemd\u003c/em\u003e to indicate its running state. Note this requires usage of the \u003ca href=\"/t/the-daemon-notify-interface/7809\"\u003edaemon-notify interface\u003c/a\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIn addition to the above types of daemon or service, the following can be set to help manage how a service is run, how it can be stopped, and what should happen after it stops:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003eafter\u003c/strong\u003e\nAn ordered list of applications the daemon is to be started \u003cem\u003eafter\u003c/em\u003e. Applications must be part of the same snap.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003ebefore\u003c/strong\u003e\nAn ordered list of applications the daemon is to be started \u003cem\u003ebefore\u003c/em\u003e. Applications must be part of the same snap.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003einstall-mode\u003c/strong\u003e\nDefines whether a freshly installed daemon is started automatically, or whether startup control is deferred to the snap. The snap could then use \u003ca href=\"/t/using-the-snapctl-tool/15002\"\u003esnapctl\u003c/a\u003e with a \u003ca href=\"/t/supported-snap-hooks/3795\"\u003ehook\u003c/a\u003e, for instance, or another management agent. Can be \u003ccode\u003eenable\u003c/code\u003e (default) or \u003ccode\u003edisable\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003epost-stop-command\u003c/strong\u003e\nSets the command to run from inside the snap \u003cem\u003eafter\u003c/em\u003e a service stops.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003erefresh-mode\u003c/strong\u003e\nControls whether a daemon should be restarted during a snap refresh. Can be either \u003ccode\u003erestart\u003c/code\u003e , \u003ccode\u003eendure\u003c/code\u003e, (do not restart) or \u003ccode\u003eignore-running\u003c/code\u003e (does not refresh running services to facilitate the refresh app awareness feature). Defaults to \u003cem\u003erestart\u003c/em\u003e .\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003ereload-command\u003c/strong\u003e\nDefines the command within the snap to be executed when the service is restarted.\u003cbr\u003e Example: \u003ccode\u003ereload-command: sbin/nginx -s reload\u003c/code\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003erestart-condition\u003c/strong\u003e\nDefines when a service should be restarted, using values returned from \u003ca href=\"https://www.freedesktop.org/software/systemd/man/systemd.service.html#Restart=\"\u003esystemd service exit status\u003c/a\u003e.\nCan be one of \u003ccode\u003e[on-failure|on-success|on-abnormal|on-abort|on-watchdog|always|never]\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003erestart-delay\u003c/strong\u003e\nThe delay between service restarts. Defaults to unset. See the systemd.service manual on RestartSec for details.\nTime duration units can be \u003ccode\u003e10ns\u003c/code\u003e, \u003ccode\u003e10us\u003c/code\u003e, \u003ccode\u003e10ms\u003c/code\u003e, \u003ccode\u003e10s\u003c/code\u003e, \u003ccode\u003e10m\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003esockets\u003c/strong\u003e\nRequires an activated daemon socket, and works with the \u003ca href=\"/t/the-network-bind-interface/7881\"\u003enetwork-bind interface\u003c/a\u003e to map a daemon’s socket to a service and activate it.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003esocket-mode\u003c/strong\u003e\nThe mode of a socket in octal.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003estart-timeout\u003c/strong\u003e\nOptional time to wait for daemon to start.\nTime duration units can be \u003ccode\u003e10ns\u003c/code\u003e, \u003ccode\u003e10us\u003c/code\u003e, \u003ccode\u003e10ms\u003c/code\u003e, \u003ccode\u003e10s\u003c/code\u003e, \u003ccode\u003e10m\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003estop-command\u003c/strong\u003e\nAn optional executable command to run before the daemon is stopped, and the daemon is not stopped until the specified \u003cem\u003estop-command\u003c/em\u003e terminates. This can be to used to gracefully handle a daemon stop or restart, such as when a \u003cem\u003erefresh\u003c/em\u003e happens, by allowing the daemon to reach a stoppable state first.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003estop-mode\u003c/strong\u003e\nDefines which \u003ca href=\"https://www.gnu.org/software/libc/manual/html_node/Termination-Signals.html\"\u003etermination signal\u003c/a\u003e to use when stopping the daemon. Can be one of either \u003ccode\u003esigterm\u003c/code\u003e, \u003ccode\u003esigterm-all\u003c/code\u003e, \u003ccode\u003esighup\u003c/code\u003e, \u003ccode\u003esighup-all\u003c/code\u003e, \u003ccode\u003esigusr1\u003c/code\u003e, \u003ccode\u003esigusr1-all\u003c/code\u003e, \u003ccode\u003esigusr2\u003c/code\u003e, \u003ccode\u003esigusr2-all\u003c/code\u003e, \u003ccode\u003esigint\u003c/code\u003e and  \u003ccode\u003esigint-all\u003c/code\u003e .\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003estop-timeout\u003c/strong\u003e\nThe length of time to wait before terminating a service.\nTime duration units can be \u003ccode\u003e10ns\u003c/code\u003e, \u003ccode\u003e10us\u003c/code\u003e, \u003ccode\u003e10ms\u003c/code\u003e, \u003ccode\u003e10s\u003c/code\u003e, \u003ccode\u003e10m\u003c/code\u003e. Termination is via \u003ccode\u003eSIGTERM\u003c/code\u003e (and \u003ccode\u003eSIGKILL\u003c/code\u003e if that doesn’t work).\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003etimer\u003c/strong\u003e\nDeclares that the service is activated by a timer and that the app must be a daemon. See \u003ca href=\"/t/timer-string-format/6562\"\u003eTimer string format\u003c/a\u003e for syntax examples.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003ewatchdog-timeout\u003c/strong\u003e\nThis value declares the service watchdog timeout. For watchdog to work, the application requires access to the \u003cem\u003esystemd\u003c/em\u003e notification socket, which can be declared by listing a daemon-notify plug in the plugs section.\nTime duration units can be \u003ccode\u003e10ns\u003c/code\u003e, \u003ccode\u003e10us\u003c/code\u003e, \u003ccode\u003e10ms\u003c/code\u003e, \u003ccode\u003e10s\u003c/code\u003e, \u003ccode\u003e10m\u003c/code\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFor further details, see \u003ca href=\"/t/snapcraft-app-and-service-metadata/8335\"\u003eSnapcraft app and service metadata\u003c/a\u003e.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2022-07-15T11:09:36.430Z","reply_count":2,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":770,"reads":99,"readers_count":98,"score":3829.6,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":16,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/snapcraft-app-and-service-metadata/8335","internal":true,"reflection":false,"title":"Snapcraft app and service metadata","clicks":35},{"url":"https://forum.snapcraft.io/t/the-daemon-notify-interface/7809","internal":true,"reflection":false,"title":"The daemon-notify interface","clicks":10},{"url":"https://forum.snapcraft.io/t/defining-a-command/12060","internal":true,"reflection":false,"title":"Defining a command","clicks":10},{"url":"https://forum.snapcraft.io/t/service-management/3965","internal":true,"reflection":false,"title":"Service management","clicks":7},{"url":"https://forum.snapcraft.io/t/creating-snapcraft-yaml/11666","internal":true,"reflection":false,"title":"Creating snapcraft.yaml","clicks":6},{"url":"https://forum.snapcraft.io/t/timer-string-format/6562","internal":true,"reflection":false,"title":"Timer string format","clicks":6},{"url":"https://forum.snapcraft.io/t/adding-snap-configuration/15246","internal":true,"reflection":false,"title":"Adding snap configuration","clicks":5},{"url":"https://forum.snapcraft.io/t/the-network-bind-interface/7881","internal":true,"reflection":false,"title":"The network-bind interface","clicks":4},{"url":"https://forum.snapcraft.io/t/supported-snap-hooks/3795","internal":true,"reflection":false,"title":"Supported snap hooks","clicks":1},{"url":"https://www.freedesktop.org/software/systemd/man/systemd.service.html#Restart=","internal":false,"reflection":false,"clicks":1},{"url":"https://forum.snapcraft.io/t/quota-groups/25553/3","internal":true,"reflection":false,"title":"Quota groups","clicks":1},{"url":"https://www.gnu.org/software/libc/manual/html_node/Termination-Signals.html","internal":false,"reflection":false,"clicks":0},{"url":"https://forum.snapcraft.io/t/system-usernames/13386","internal":true,"reflection":true,"title":"System usernames","clicks":7},{"url":"https://forum.snapcraft.io/t/using-the-snapctl-tool/15002","internal":true,"reflection":true,"title":"Using the snapctl tool","clicks":4},{"url":"https://forum.snapcraft.io/t/snap-documentation/11127","internal":true,"reflection":true,"title":"Snap documentation","clicks":0},{"url":"https://forum.snapcraft.io/t/refresh-awareness/31152","internal":true,"reflection":true,"title":"Refresh awareness","clicks":0},{"url":"https://forum.snapcraft.io/t/snapcraft-yaml-reference/4276","internal":true,"reflection":true,"title":"Snapcraft.yaml reference","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":true,"last_wiki_edit":"2022-07-15T11:09:36.447Z","can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":60735,"name":"","username":"jens","avatar_template":"/user_avatar/forum.snapcraft.io/jens/{size}/5410_2.png","created_at":"2019-12-23T20:11:10.597Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"degville\" data-post=\"1\" data-topic=\"12601\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/degville/40/2021_2.png\" class=\"avatar\"\u003e degville:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eSnapcraft app and service metadata.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eThis link is broken, it doesn’t point anywhere, it doesn’t have a href attribute; it should point to \u003ca href=\"https://snapcraft.io/docs/snapcraft-app-and-service-metadata\" rel=\"noopener nofollow ugc\"\u003ehttps://snapcraft.io/docs/snapcraft-app-and-service-metadata\u003c/a\u003e\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2020-01-06T09:41:52.904Z","reply_count":1,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":3,"reads":56,"readers_count":55,"score":31.0,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://snapcraft.io/docs/snapcraft-app-and-service-metadata","internal":false,"reflection":false,"title":"Snapcraft app and service metadata | Snapcraft documentation","clicks":16}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":6212,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":60966,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2020-01-06T09:43:00.539Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"jens\" data-post=\"2\" data-topic=\"12601\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/jens/40/5410_2.png\" class=\"avatar\"\u003e jens:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThis link is broken, it doesn’t point anywhere, it doesn’t have a href attribute;\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eThanks for letting us know - there was a typo in the URL metadata.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2020-01-06T09:43:00.539Z","reply_count":0,"reply_to_post_number":2,"quote_count":1,"incoming_link_count":2,"reads":47,"readers_count":46,"score":19.4,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":82715,"name":"Fabio Colella","username":"fcole90","avatar_template":"/user_avatar/forum.snapcraft.io/fcole90/{size}/6214_2.png","created_at":"2020-11-21T10:11:20.295Z","cooked":"\u003cblockquote\u003e\n\u003cp\u003eAssumes the command will send a signal to  \u003cem\u003esystemd\u003c/em\u003e  to indicate that it’s running state. Note this requires usage of the \u003ca href=\"https://snapcraft.io/docs/daemon-notify-interface\" rel=\"noopener nofollow ugc\"\u003edaemon-notify interface\u003c/a\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eI think the author updated this but didn’t re-read: \u003cem\u003e\"to indicate \u003cstrong\u003ethat it’s running state\u003c/strong\u003e\u003c/em\u003e\"_\u003cbr\u003e\nShould likely be:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAssumes the command will send a signal to  \u003cem\u003esystemd\u003c/em\u003e  to indicate its running state. Note this requires usage of the \u003ca href=\"https://snapcraft.io/docs/daemon-notify-interface\" rel=\"noopener nofollow ugc\"\u003edaemon-notify interface\u003c/a\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eOr\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAssumes the command will send a signal to  \u003cem\u003esystemd\u003c/em\u003e  to indicate that it’s running. Note this requires usage of the \u003ca href=\"https://snapcraft.io/docs/daemon-notify-interface\" rel=\"noopener nofollow ugc\"\u003edaemon-notify interface\u003c/a\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e","post_number":4,"post_type":1,"updated_at":"2020-11-21T10:11:20.295Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":3,"reads":40,"readers_count":39,"score":28.0,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Fabio Colella","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://snapcraft.io/docs/daemon-notify-interface","internal":false,"reflection":false,"title":"The daemon-notify interface | Snapcraft documentation","clicks":4}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":335,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":82778,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2020-11-23T13:04:05.239Z","cooked":"\u003cp\u003eThank you!! I’ve just updated the doc with your fix.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2020-11-23T13:04:05.239Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":1,"reads":36,"readers_count":35,"score":42.2,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"fcole90","avatar_template":"/user_avatar/forum.snapcraft.io/fcole90/{size}/6214_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":97914,"name":"Alex Lewontin","username":"alexclewontin","avatar_template":"/letter_avatar/alexclewontin/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","created_at":"2021-08-20T18:00:46.390Z","cooked":"\u003cp\u003ePlease sanity check me on this, but if I am reading correctly it looks like the description on \u003cstrong\u003ebefore\u003c/strong\u003e and \u003cstrong\u003eafter\u003c/strong\u003e are wrong.\u003c/p\u003e\n\u003caside class=\"onebox githubfolder\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003cimg src=\"https://github.githubassets.com/favicons/favicon.svg\" class=\"site-icon\" width=\"16\" height=\"16\"\u003e\n      \u003ca href=\"https://github.com/alexclewontin/service_sequence\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003egithub.com\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003cimg src=\"https://opengraph.githubassets.com/d60aa5578447fb83080d5cf4be0fb4c972176306e09b018232b4d4d1f5b7afa2/alexclewontin/service_sequence\" class=\"thumbnail onebox-full-image\" width=\"60\" height=\"60\"\u003e\n\n\u003ch3\u003e\u003ca href=\"https://github.com/alexclewontin/service_sequence\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003eGitHub - alexclewontin/service_sequence at simple\u003c/a\u003e\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://github.com/alexclewontin/service_sequence/tree/simple\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003esimple\u003c/a\u003e\u003c/p\u003e\n\n  \u003cp\u003e\u003cspan class=\"label1\"\u003eSnap service sequencing test. Contribute to alexclewontin/service_sequence development by creating an account on GitHub.\u003c/span\u003e\u003c/p\u003e\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n\n\u003cp\u003eBased on these descriptions, I would expect the output on the log to be sequenced \u003ccode\u003eearly middle late\u003c/code\u003e However, in reality it goes \u003ccode\u003elate middle early\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eDigging a little deeper, it appears that the actual behavior of snapd matches systemd’s usage of the terms. Per the \u003ca href=\"https://manpages.ubuntu.com/manpages/bionic/man5/systemd.unit.5.html\" rel=\"noopener nofollow ugc\"\u003esystemd.units man page\u003c/a\u003e:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eBefore=, After=\u003cbr\u003e\nThese two settings expect a space-separated list of unit names. They configure\u003cbr\u003e\nordering dependencies between units. If a unit foo.service contains a setting\u003cbr\u003e\nBefore=bar.service and both units are being started, bar.service’s start-up is delayed\u003cbr\u003e\nuntil foo.service has finished starting up…\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eBecause I would expect snapd to match systemd, it looks like the documentation needs to be updated, perhaps to\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003eafter\u003c/strong\u003e\u003cbr\u003e\nAn ordered list of applications the daemon is to be started \u003cem\u003eafter\u003c/em\u003e. Applications must be part of the same snap.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003ebefore\u003c/strong\u003e\u003cbr\u003e\nAn ordered list of applications the daemon is to be started \u003cem\u003ebefore\u003c/em\u003e. Applications must be part of the same snap.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e","post_number":6,"post_type":1,"updated_at":"2021-08-20T18:00:46.390Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":31,"readers_count":30,"score":11.2,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Alex Lewontin","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/alexclewontin/service_sequence","internal":false,"reflection":false,"title":"GitHub - alexclewontin/service_sequence: Snap service sequencing test","clicks":14},{"url":"https://github.com/alexclewontin/service_sequence/tree/simple","internal":false,"reflection":false,"title":"GitHub - alexclewontin/service_sequence at simple","clicks":0},{"url":"https://manpages.ubuntu.com/manpages/bionic/man5/systemd.unit.5.html","internal":false,"reflection":false,"title":"Ubuntu Manpage: systemd.unit - Unit configuration","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":10511,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":98544,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2021-09-01T10:14:31.702Z","cooked":"\u003cp\u003eThanks so much for reporting this in such detail, and I’m sorry for the confusion and the effort required.  You’re absolutely right in that the documentation here is wrong - I’ve just looked into it too.\u003c/p\u003e\n\u003cp\u003eFor future reference, the code is here:\u003cbr\u003e\n\u003c/p\u003e\u003caside class=\"onebox githubblob\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003ca href=\"https://github.com/snapcore/snapd/blob/c980bde4de20a1c9961eac9e4036548420aa2f8d/snap/info.go#L918\" target=\"_blank\" rel=\"noopener\"\u003egithub.com\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003ch4\u003e\u003ca href=\"https://github.com/snapcore/snapd/blob/c980bde4de20a1c9961eac9e4036548420aa2f8d/snap/info.go#L918\" target=\"_blank\" rel=\"noopener\"\u003esnapcore/snapd/blob/c980bde4de20a1c9961eac9e4036548420aa2f8d/snap/info.go#L918\u003c/a\u003e\u003c/h4\u003e\n\u003cpre class=\"onebox\"\u003e\u003ccode class=\"lang-go\"\u003e\u003col class=\"start lines\" start=\"908\" style=\"counter-reset: li-counter 907 ;\"\u003e\n\u003cli\u003e\t// https://github.com/snapcore/snapd/pull/794#discussion_r58688496\u003c/li\u003e\u003cli\u003e\tBusName     string\u003c/li\u003e\u003cli\u003e\tActivatesOn []*SlotInfo\u003c/li\u003e\u003cli\u003e\u003c/li\u003e\u003cli\u003e\tPlugs   map[string]*PlugInfo\u003c/li\u003e\u003cli\u003e\tSlots   map[string]*SlotInfo\u003c/li\u003e\u003cli\u003e\tSockets map[string]*SocketInfo\u003c/li\u003e\u003cli\u003e\u003c/li\u003e\u003cli\u003e\tEnvironment strutil.OrderedMap\u003c/li\u003e\u003cli\u003e\u003c/li\u003e\u003cli class=\"selected\"\u003e\t// list of other service names that this service will start after or\u003c/li\u003e\u003cli\u003e\t// before\u003c/li\u003e\u003cli\u003e\tAfter  []string\u003c/li\u003e\u003cli\u003e\tBefore []string\u003c/li\u003e\u003cli\u003e\u003c/li\u003e\u003cli\u003e\tTimer *TimerInfo\u003c/li\u003e\u003cli\u003e\u003c/li\u003e\u003cli\u003e\tAutostart string\u003c/li\u003e\u003cli\u003e}\u003c/li\u003e\u003cli\u003e\u003c/li\u003e\u003cli\u003e// ScreenshotInfo provides information about a screenshot.\u003c/li\u003e\n\u003c/ol\u003e\u003c/code\u003e\u003c/pre\u003e\n\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n\n\u003cp\u003eI’ll update the doc - thank you!\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2021-09-01T10:14:31.702Z","reply_count":1,"reply_to_post_number":6,"quote_count":0,"incoming_link_count":0,"reads":29,"readers_count":28,"score":10.8,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/snapcore/snapd/blob/c980bde4de20a1c9961eac9e4036548420aa2f8d/snap/info.go#L918","internal":false,"reflection":false,"title":"snapd/info.go at c980bde4de20a1c9961eac9e4036548420aa2f8d · snapcore/snapd · GitHub","clicks":3}],"read":true,"user_title":null,"reply_to_user":{"username":"alexclewontin","avatar_template":"/letter_avatar/alexclewontin/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png"},"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":105456,"name":"Robert P. J. Day","username":"rpjday","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","created_at":"2022-02-09T10:20:36.863Z","cooked":"\u003cp\u003eThe list of daemon types does not include “dbus”. Should it?\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2022-02-09T10:20:36.863Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":4.8,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Robert P. J. Day","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11710,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":106857,"name":"Robert P. J. Day","username":"rpjday","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","created_at":"2022-03-12T12:51:23.090Z","cooked":"\u003cp\u003e\" \u003cstrong\u003eoneshot\u003c/strong\u003e Run once and exit after completion, although the process is still considered \u003cem\u003erunning\u003c/em\u003e.\"\u003c/p\u003e\n\u003cp\u003eThat seems like a misleading description of a oneshot daemon – that even after it completes, it is still considered “running”. Would it not be a better description to say that, on its way out, a oneshot deamon notifies systemd of its completion, so that it is then considered “active”, and anyone waiting on it can now proceed?\u003c/p\u003e\n\u003cp\u003eIt clearly is no longer “running”, but it \u003cem\u003eis\u003c/em\u003e considered to have notified systemd that it is officially activated.\u003c/p\u003e\n\u003cp\u003eThoughts?\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2022-03-12T12:51:23.090Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":49.8,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Robert P. J. Day","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":11710,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":106858,"name":"Robert P. J. Day","username":"rpjday","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","created_at":"2022-03-12T13:19:10.772Z","cooked":"\u003cp\u003eI see no mention of “reload-command”, should it not be here?\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2022-03-12T13:19:10.772Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":9.8,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Robert P. J. Day","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11710,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":107078,"name":"Robert P. J. Day","username":"rpjday","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","created_at":"2022-03-18T17:30:57.928Z","cooked":"\u003cp\u003eI’m confused about the relationship between “snap stop” on the command line, the “stop-command” value for a daemon, and the value of “stop-mode” (which, by the way, is not mentioned on this page, and probably should be).\u003c/p\u003e\n\u003cp\u003e“stop-command” is described as the “command from inside the snap to \u003cem\u003estop\u003c/em\u003e the service or daemon.” But does that mean that, if I run “snap stop” to stop a service, it maps to running that command inside the snap?\u003c/p\u003e\n\u003cp\u003eAnd how does the above relate to the specified value of “stop-mode”:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e                \"stop-mode\": {\n                    \"type\": \"string\",\n                    \"description\": \"controls how the daemon should be stopped\",\n                    \"enum\": [\n                        \"sigterm\",\n                        \"sigterm-all\",\n                        \"sighup\",\n                        \"sighup-all\",\n                        \"sigusr1\",\n                        \"sigusr1-all\",\n                        \"sigusr2\",\n                        \"sigusr2-all\"\n                    ]\n                },\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIt’s just not clear how all of the above ties together, and when you would use it.\u003c/p\u003e","post_number":12,"post_type":1,"updated_at":"2022-03-18T17:30:57.928Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":27,"readers_count":26,"score":10.2,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Robert P. J. Day","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11710,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":107100,"name":"Robert P. J. Day","username":"rpjday","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","created_at":"2022-03-19T20:58:36.723Z","cooked":"\u003cp\u003eTurns out the snapcraft schema description is wrong as well:\u003c/p\u003e\n\u003caside class=\"onebox githubblob\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003ca href=\"https://github.com/snapcore/snapcraft/blob/main/schema/snapcraft.json#L755-L772\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003egithub.com\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003ch4\u003e\u003ca href=\"https://github.com/snapcore/snapcraft/blob/main/schema/snapcraft.json#L755-L772\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003esnapcore/snapcraft/blob/main/schema/snapcraft.json#L755-L772\u003c/a\u003e\u003c/h4\u003e\n\u003cpre class=\"onebox\"\u003e\u003ccode class=\"lang-json\"\u003e\u003col class=\"start lines\" start=\"755\" style=\"counter-reset: li-counter 754 ;\"\u003e\n\u003cli\u003e\"after\": {\u003c/li\u003e\u003cli\u003e    \"type\": \"array\",\u003c/li\u003e\u003cli\u003e    \"description\": \"List of applications that are ordered to be started after the current one\",\u003c/li\u003e\u003cli\u003e    \"minitems\": 1,\u003c/li\u003e\u003cli\u003e    \"uniqueItems\": true,\u003c/li\u003e\u003cli\u003e    \"items\": {\u003c/li\u003e\u003cli\u003e        \"type\": \"string\"\u003c/li\u003e\u003cli\u003e    }\u003c/li\u003e\u003cli\u003e},\u003c/li\u003e\u003cli\u003e\"before\": {\u003c/li\u003e\u003cli\u003e    \"type\": \"array\",\u003c/li\u003e\u003cli\u003e    \"description\": \"List of applications that are ordered to be started before the current one\",\u003c/li\u003e\u003cli\u003e    \"minitems\": 1,\u003c/li\u003e\u003cli\u003e    \"uniqueItems\": true,\u003c/li\u003e\u003cli\u003e    \"items\": {\u003c/li\u003e\u003cli\u003e        \"type\": \"string\"\u003c/li\u003e\u003cli\u003e    }\u003c/li\u003e\u003cli\u003e},\u003c/li\u003e\n\u003c/ol\u003e\u003c/code\u003e\u003c/pre\u003e\n\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n\n\u003cp\u003eAre those description fields not backwards?\u003c/p\u003e","post_number":13,"post_type":1,"updated_at":"2022-03-19T20:58:36.723Z","reply_count":0,"reply_to_post_number":7,"quote_count":0,"incoming_link_count":1,"reads":26,"readers_count":25,"score":10.0,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Robert P. J. Day","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/snapcore/snapcraft/blob/main/schema/snapcraft.json#L755-L772","internal":false,"reflection":false,"clicks":0}],"read":true,"user_title":"","reply_to_user":{"username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11710,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":107490,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2022-03-29T16:09:23.459Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"rpjday\" data-post=\"11\" data-topic=\"12601\" data-full=\"true\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://forum.snapcraft.io/user_avatar/forum.snapcraft.io/rpjday/40/8457_2.png\" class=\"avatar\"\u003e rpjday:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eI see no mention of “reload-command”, should it not be here?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eAbsolutely. I’m not sure why we didn’t originally list this, but I’ve added it.\u003c/p\u003e","post_number":14,"post_type":1,"updated_at":"2022-03-29T16:09:23.459Z","reply_count":0,"reply_to_post_number":11,"quote_count":1,"incoming_link_count":0,"reads":23,"readers_count":22,"score":4.4,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":107515,"name":"Kyle Nitzsche","username":"kyleN","avatar_template":"/user_avatar/forum.snapcraft.io/kylen/{size}/229_2.png","created_at":"2022-03-30T13:11:35.428Z","cooked":"\u003cp\u003eThe optional \u003ccode\u003estop-command\u003c/code\u003e when declared for a daemon specifies an executable that snapd runs before stopping the daemon (for example when stopping daemons as part of the snap’s refresh). The daemon is not stopped until the stop-command terminates. This can be used to gracefully handle a refresh by allowing the daemon to reach a stoppable state before it is actually stopped.\u003c/p\u003e","post_number":15,"post_type":1,"updated_at":"2022-03-30T13:11:35.428Z","reply_count":1,"reply_to_post_number":12,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":54.8,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Kyle Nitzsche","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"rpjday","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":52,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":107519,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2022-03-30T13:39:34.790Z","cooked":"\u003cp\u003eThanks for this. I’ve updated the description with your much more informative details.\u003c/p\u003e","post_number":16,"post_type":1,"updated_at":"2022-03-30T13:39:34.790Z","reply_count":0,"reply_to_post_number":15,"quote_count":0,"incoming_link_count":1,"reads":25,"readers_count":24,"score":9.8,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"kyleN","avatar_template":"/user_avatar/forum.snapcraft.io/kylen/{size}/229_2.png"},"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":111768,"name":"Michael Vogt","username":"mvo","avatar_template":"/user_avatar/forum.snapcraft.io/mvo/{size}/4438_2.png","created_at":"2022-07-15T09:36:15.038Z","cooked":"\u003cp\u003eWith \u003ca href=\"https://github.com/snapcore/snapd/pull/11855\"\u003ehttps://github.com/snapcore/snapd/pull/11855\u003c/a\u003e landed we now also have: \u003ccode\u003erefresh-mode: ignore-running\u003c/code\u003e. Maybe something like:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003erefresh-mode\u003c/strong\u003e Controls whether a daemon should be restarted during a snap refresh. Can be either \u003ccode\u003erestart\u003c/code\u003e, \u003ccode\u003eendure\u003c/code\u003e (to not restart) or \u003ccode\u003eignore-running\u003c/code\u003e (ignore running services for the “refresh app awareness” feature). Defaults to \u003cem\u003erestart\u003c/em\u003e.\u003c/li\u003e\n\u003c/ul\u003e","post_number":17,"post_type":1,"updated_at":"2022-07-15T09:36:15.038Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":21,"readers_count":20,"score":9.0,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Michael Vogt","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/snapcore/snapd/pull/11855","internal":false,"reflection":false,"clicks":1}],"read":true,"user_title":"policy-reviewers","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":4,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":111772,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2022-07-15T11:10:11.257Z","cooked":"\u003cp\u003eThanks for the update! I’ve edited the text to include \u003ccode\u003eignore-running\u003c/code\u003e.\u003c/p\u003e","post_number":18,"post_type":1,"updated_at":"2022-07-15T11:10:11.257Z","reply_count":1,"reply_to_post_number":17,"quote_count":0,"incoming_link_count":0,"reads":22,"readers_count":21,"score":9.2,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"mvo","avatar_template":"/user_avatar/forum.snapcraft.io/mvo/{size}/4438_2.png"},"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":112442,"name":"Robert P. J. Day","username":"rpjday","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","created_at":"2022-08-03T11:01:21.602Z","cooked":"\u003cp\u003eI’m not sure this is correct. If you look at the supported grammar here:\u003c/p\u003e\n\u003caside class=\"onebox githubblob\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003ca href=\"https://github.com/snapcore/snapcraft/blob/main/snapcraft/projects.py#L217\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003egithub.com\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003ch4\u003e\u003ca href=\"https://github.com/snapcore/snapcraft/blob/main/snapcraft/projects.py#L217\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003esnapcore/snapcraft/blob/main/snapcraft/projects.py#L217\u003c/a\u003e\u003c/h4\u003e\n\u003cpre class=\"onebox\"\u003e\u003ccode class=\"lang-py\"\u003e\u003col class=\"start lines\" start=\"207\" style=\"counter-reset: li-counter 206 ;\"\u003e\n\u003cli\u003epost_stop_command: Optional[str]\u003c/li\u003e\u003cli\u003estart_timeout: Optional[str]\u003c/li\u003e\u003cli\u003estop_timeout: Optional[str]\u003c/li\u003e\u003cli\u003ewatchdog_timeout: Optional[str]\u003c/li\u003e\u003cli\u003ereload_command: Optional[str]\u003c/li\u003e\u003cli\u003erestart_delay: Optional[str]\u003c/li\u003e\u003cli\u003etimer: Optional[str]\u003c/li\u003e\u003cli\u003edaemon: Optional[Literal[\"simple\", \"forking\", \"oneshot\", \"notify\", \"dbus\"]]\u003c/li\u003e\u003cli\u003eafter: UniqueStrList = []\u003c/li\u003e\u003cli\u003ebefore: UniqueStrList = []\u003c/li\u003e\u003cli class=\"selected\"\u003erefresh_mode: Optional[Literal[\"endure\", \"restart\"]]\u003c/li\u003e\u003cli\u003estop_mode: Optional[\u003c/li\u003e\u003cli\u003e    Literal[\u003c/li\u003e\u003cli\u003e        \"sigterm\",\u003c/li\u003e\u003cli\u003e        \"sigterm-all\",\u003c/li\u003e\u003cli\u003e        \"sighup\",\u003c/li\u003e\u003cli\u003e        \"sighup-all\",\u003c/li\u003e\u003cli\u003e        \"sigusr1\",\u003c/li\u003e\u003cli\u003e        \"sigusr1-all\",\u003c/li\u003e\u003cli\u003e        \"sigusr2\",\u003c/li\u003e\u003cli\u003e        \"sigusr2-all\",\u003c/li\u003e\n\u003c/ol\u003e\u003c/code\u003e\u003c/pre\u003e\n\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n\n\u003cp\u003eit does not seem like “ignore-running” is a valid value. More to the point, if you check the pull:\u003c/p\u003e\n\u003caside class=\"onebox githubpullrequest\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003ca href=\"https://github.com/snapcore/snapd/pull/11855/files\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003egithub.com/snapcore/snapd\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003cdiv class=\"github-row\"\u003e\n  \u003cdiv class=\"github-icon-container\" title=\"Pull Request\"\u003e\n    \u003csvg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 12 16\" aria-hidden=\"true\"\u003e\u003cpath d=\"M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z\"\u003e\u003c/path\u003e\u003c/svg\u003e\n  \u003c/div\u003e\n\n  \u003cdiv class=\"github-info-container\"\u003e\n    \u003ch4\u003e\n      \u003ca href=\"https://github.com/snapcore/snapd/pull/11855\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003ecmd/snap: do not track apps that wish to stay outside of the life-cycle system\u003c/a\u003e\n    \u003c/h4\u003e\n\n    \u003cdiv class=\"branches\"\u003e\n      \u003ccode\u003esnapcore:master\u003c/code\u003e ← \u003ccode\u003ezyga:fix/no-track\u003c/code\u003e\n    \u003c/div\u003e\n\n    \u003cdiv class=\"github-info\"\u003e\n      \u003cdiv class=\"date\"\u003e\n        opened \u003cspan class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2022-06-08\" data-time=\"20:41:14\" data-timezone=\"UTC\"\u003e08:41PM - 08 Jun 22 UTC\u003c/span\u003e\n      \u003c/div\u003e\n\n      \u003cdiv class=\"user\"\u003e\n        \u003ca href=\"https://github.com/zyga\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003e\n          \u003cimg alt=\"zyga\" src=\"https://avatars.githubusercontent.com/u/784262?v=4\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\"\u003e\n          zyga\n        \u003c/a\u003e\n      \u003c/div\u003e\n\n      \u003cdiv class=\"lines\" title=\"5 commits changed 9 files with 94 additions and 22 deletions\"\u003e\n        \u003ca href=\"https://github.com/snapcore/snapd/pull/11855/files\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003e\n          \u003cspan class=\"added\"\u003e+94\u003c/span\u003e\n          \u003cspan class=\"removed\"\u003e-22\u003c/span\u003e\n        \u003c/a\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\n  \u003c/div\u003e\n\u003c/div\u003e\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n\n\u003cp\u003eright at the top, it \u003cem\u003eappears\u003c/em\u003e that the attribute of “ignore-running” is implicitly set by specifying:\u003c/p\u003e\n\u003cp\u003e“app-refresh-mode”: true\u003c/p\u003e\n\u003cp\u003eAm I reading this correctly? That is, ignore-running is not set directly, but is rather established indirectly by setting app-refresh-mode?\u003c/p\u003e","post_number":19,"post_type":1,"updated_at":"2022-08-03T11:01:21.602Z","reply_count":1,"reply_to_post_number":18,"quote_count":0,"incoming_link_count":1,"reads":20,"readers_count":19,"score":13.8,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Robert P. J. Day","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/snapcore/snapcraft/blob/main/snapcraft/projects.py#L217","internal":false,"reflection":false,"clicks":0},{"url":"https://github.com/zyga","internal":false,"reflection":false,"title":"zyga (Zygmunt Krynicki) · GitHub","clicks":0},{"url":"https://github.com/snapcore/snapd/pull/11855","internal":false,"reflection":false,"clicks":0},{"url":"https://github.com/snapcore/snapd/pull/11855/files","internal":false,"reflection":false,"title":"cmd/snap: do not track apps that wish to stay outside of the life-cycle system by zyga · Pull Request #11855 · snapcore/snapd · GitHub","clicks":0}],"read":true,"user_title":"","reply_to_user":{"username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11710,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":114503,"name":"Tony Espy","username":"awe","avatar_template":"/user_avatar/forum.snapcraft.io/awe/{size}/266_2.png","created_at":"2022-09-26T20:27:10.497Z","cooked":"\u003cp\u003eI just confirmed that \u003ccode\u003eignore-running\u003c/code\u003e indeed is an invalid value for a daemon’s \u003ccode\u003erefresh-mode\u003c/code\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e2022-09-26 16:05:44.063 Bad snapcraft.yaml content:\n- unexpected value; permitted: 'endure', 'restart' (in field 'apps.portl-server.refresh-mode')\u003c/code\u003e\u003c/pre\u003e","post_number":20,"post_type":1,"updated_at":"2022-09-26T20:27:10.497Z","reply_count":1,"reply_to_post_number":19,"quote_count":0,"incoming_link_count":0,"reads":17,"readers_count":16,"score":8.2,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Tony Espy","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"rpjday","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":330,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":114517,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2022-09-27T10:51:36.294Z","cooked":"\u003cp\u003eThanks for looking into this. I’ve just tested it myself and get the same error. I suspect this is because Snapcraft does not yet support the keyword (as pointed out by \u003ca class=\"mention\" href=\"/u/rpjday\"\u003e@rpjday\u003c/a\u003e) but that snapd does (ie. it could be used snap.yaml, or maybe passed through from Snapcraft). I’ll check on its state and update the doc.\u003c/p\u003e","post_number":21,"post_type":1,"updated_at":"2022-09-27T10:51:36.294Z","reply_count":0,"reply_to_post_number":20,"quote_count":0,"incoming_link_count":0,"reads":17,"readers_count":16,"score":3.2,"yours":false,"topic_id":12601,"topic_slug":"services-and-daemons","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"awe","avatar_template":"/user_avatar/forum.snapcraft.io/awe/{size}/266_2.png"},"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[52963,60735,60966,82715,82778,97914,98544,105456,106857,106858,107078,107100,107490,107515,107519,111768,111772,112442,114503,114517,120724,122956]},"timeline_lookup":[[1,1413],[2,1270],[3,1257],[4,937],[5,935],[6,664],[7,653],[8,492],[9,461],[11,454],[12,453],[13,443],[16,336],[18,317],[19,262],[21,101],[22,48]],"tags":[],"id":12601,"title":"Services and daemons","fancy_title":"Services and daemons","posts_count":22,"created_at":"2019-08-02T16:38:31.044Z","views":8195,"reply_count":12,"like_count":4,"last_posted_at":"2023-04-28T20:16:10.685Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"services-and-daemons","category_id":15,"word_count":2317,"deleted_at":null,"user_id":2772,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_12601","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":23,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"topic_timer":null,"message_bus_last_id":0,"participant_count":9,"show_read_indicator":false,"thumbnails":null,"details":{"notification_level":1,"participants":[{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","post_count":8,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":11710,"username":"rpjday","name":"Robert P. J. Day","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png","post_count":7,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":330,"username":"awe","name":"Tony Espy","avatar_template":"/user_avatar/forum.snapcraft.io/awe/{size}/266_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":335,"username":"fcole90","name":"Fabio Colella","avatar_template":"/user_avatar/forum.snapcraft.io/fcole90/{size}/6214_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":6212,"username":"jens","name":"","avatar_template":"/user_avatar/forum.snapcraft.io/jens/{size}/5410_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":10511,"username":"alexclewontin","name":"Alex Lewontin","avatar_template":"/letter_avatar/alexclewontin/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":4,"username":"mvo","name":"Michael Vogt","avatar_template":"/user_avatar/forum.snapcraft.io/mvo/{size}/4438_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":12075,"username":"picchietti","name":"Jon","avatar_template":"/user_avatar/forum.snapcraft.io/picchietti/{size}/9435_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":52,"username":"kyleN","name":"Kyle Nitzsche","avatar_template":"/user_avatar/forum.snapcraft.io/kylen/{size}/229_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"created_by":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"},"last_poster":{"id":12075,"username":"picchietti","name":"Jon","avatar_template":"/user_avatar/forum.snapcraft.io/picchietti/{size}/9435_2.png"},"links":[{"url":"https://forum.snapcraft.io/t/snapcraft-app-and-service-metadata/8335","title":"Snapcraft app and service metadata","internal":true,"attachment":false,"reflection":false,"clicks":35,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://snapcraft.io/docs/snapcraft-app-and-service-metadata","title":"Snapcraft app and service metadata | Snapcraft documentation","internal":false,"attachment":false,"reflection":false,"clicks":16,"user_id":6212,"domain":"snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://github.com/alexclewontin/service_sequence","title":"GitHub - alexclewontin/service_sequence: Snap service sequencing test","internal":false,"attachment":false,"reflection":false,"clicks":14,"user_id":10511,"domain":"github.com","root_domain":"github.com"},{"url":"https://forum.snapcraft.io/t/defining-a-command/12060","title":"Defining a command","internal":true,"attachment":false,"reflection":false,"clicks":10,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/the-daemon-notify-interface/7809","title":"The daemon-notify interface","internal":true,"attachment":false,"reflection":false,"clicks":10,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/system-usernames/13386","title":"System usernames","internal":true,"attachment":false,"reflection":true,"clicks":7,"user_id":21,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/service-management/3965","title":"Service management","internal":true,"attachment":false,"reflection":false,"clicks":7,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/timer-string-format/6562","title":"Timer string format","internal":true,"attachment":false,"reflection":false,"clicks":6,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/creating-snapcraft-yaml/11666","title":"Creating snapcraft.yaml","internal":true,"attachment":false,"reflection":false,"clicks":6,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/adding-snap-configuration/15246","title":"Adding snap configuration","internal":true,"attachment":false,"reflection":false,"clicks":5,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/the-network-bind-interface/7881","title":"The network-bind interface","internal":true,"attachment":false,"reflection":false,"clicks":4,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/using-the-snapctl-tool/15002","title":"Using the snapctl tool","internal":true,"attachment":false,"reflection":true,"clicks":4,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://snapcraft.io/docs/daemon-notify-interface","title":"The daemon-notify interface | Snapcraft documentation","internal":false,"attachment":false,"reflection":false,"clicks":4,"user_id":335,"domain":"snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://github.com/snapcore/snapd/blob/c980bde4de20a1c9961eac9e4036548420aa2f8d/snap/info.go#L918","title":"snapd/info.go at c980bde4de20a1c9961eac9e4036548420aa2f8d · snapcore/snapd · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":2772,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/snapcore/snapd/pull/11855","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":4,"domain":"github.com","root_domain":"github.com"},{"url":"https://www.freedesktop.org/software/systemd/man/systemd.service.html#Restart=","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":2772,"domain":"www.freedesktop.org","root_domain":"freedesktop.org"},{"url":"https://forum.snapcraft.io/t/quota-groups/25553/3","title":"Quota groups","internal":true,"attachment":false,"reflection":false,"clicks":1,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/supported-snap-hooks/3795","title":"Supported snap hooks","internal":true,"attachment":false,"reflection":false,"clicks":1,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"}]}}