{"post_stream":{"posts":[{"id":51562,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2019-07-10T12:56:46.299Z","cooked":"\u003cp\u003eParts, alongside \u003ca href=\"/t/snapcraft-plugins/4284\"\u003eplugins\u003c/a\u003e, are a key component in any \u003ca href=\"/t/snapcraft-overview/8940\"\u003eSnapcraft\u003c/a\u003e project.\u003c/p\u003e\n\u003cp\u003eSee \u003ca href=\"/t/adding-parts/11473\"\u003eAdding parts\u003c/a\u003e for a general overview of what parts are and how to use them and \u003ca href=\"https://forum.snapcraft.io/t/scriptlets/4892\"\u003eScriptlets\u003c/a\u003e for details on how they can be scripted outside of \u003cem\u003esnapcraft.yaml\u003c/em\u003e.\u003c/p\u003e\n\u003cp\u003eAll parts within a project, by means of the logic encoded the plugins they’re using, all go through the same series of steps. Knowing these steps, and which directories are used for each step, can help when creating more advanced snaps, and when troubleshooting build issues.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#heading--steps\"\u003eLifecycle steps\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#heading--step-dependencies\"\u003eStep dependencies\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#heading--parts-directories\"\u003eParts directories\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3 id=\"heading--steps\"\u003eLifecycle steps\u003csup\u003e\u003ca href=\"#heading--steps\"\u003e⚓\u003c/a\u003e\u003c/sup\u003e\n\u003c/h3\u003e\n\u003cp\u003eThe steps a part goes through are as follows:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cstrong\u003epull\u003c/strong\u003e: downloads or otherwise retrieves the components needed to build the part. You can use the \u003ca href=\"/t/snapcraft-parts-metadata/8336#heading--source\"\u003e\u003ccode\u003esource-*\u003c/code\u003e keywords\u003c/a\u003e of a part to specify which components to retrieve. If \u003ccode\u003esource\u003c/code\u003e points to a git repository, for example, the pull step will clone that repository.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003ebuild\u003c/strong\u003e: constructs the part from the previously pulled components. The \u003ca href=\"/t/snapcraft-plugins/4284\"\u003e\u003ccode\u003eplugin\u003c/code\u003e\u003c/a\u003e of a part specifies how it is constructed. The \u003ca href=\"/t/the-meson-plugin/8623\"\u003e\u003ccode\u003emeson\u003c/code\u003e plugin\u003c/a\u003e, for example, executes \u003ccode\u003emeson\u003c/code\u003e and \u003ccode\u003eninja\u003c/code\u003e to compile source code. Each part is built in a separate directory, but it can use the contents of the staging area if it specifies a dependency on other parts using the \u003ccode\u003eafter\u003c/code\u003e keyword. See \u003ca href=\"#heading--step-dependencies\"\u003eStep dependencies\u003c/a\u003e for more information.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003estage\u003c/strong\u003e: copies the built components into the staging area. This is the first time all the different parts that make up the snap are actually placed in the same directory. If multiple parts provide the same file with differing contents, you will get a conflict. You can avoid these conflicts by using the \u003ca href=\"/t/snapcraft-parts-metadata/8336#heading--stage\"\u003e\u003ccode\u003estage\u003c/code\u003e keyword\u003c/a\u003e to enable or block files coming from the part. You can also use this keyword to filter out files that are not required in the snap itself, for example build files specific to a single part.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eprime\u003c/strong\u003e: copies the staged components into the priming area, to their final locations for the resulting snap. This is very similar to the stage step, but files go into the priming area instead of the staging area. The \u003ccode\u003eprime\u003c/code\u003e step exists because the staging area might still contain files that are required for the build but not for the snap. For example, if you have a part that downloads and installs a compiler, then you stage this part so other parts can use the compiler during building. You can then use the \u003ccode\u003eprime\u003c/code\u003e filter keyword to make sure that it doesn’t get copied to the priming area, so it’s not taking up space in the snap. Some extra checks are also run during this step to ensure that all dependencies are satisfied for a proper run time. If confinement was set to \u003ccode\u003eclassic\u003c/code\u003e, then files will be scanned and, if needed, patched to work with this confinement mode.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eFinally, \u003cstrong\u003esnap\u003c/strong\u003e takes the entire contents of the \u003ccode\u003eprime\u003c/code\u003e directory and packs it into \u003ca href=\"/t/the-snap-format/698\"\u003ea snap\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eEach of these lifecycle steps can be run from the command line, and the command can be part specific or apply to all parts in a project.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003esnapcraft pull [\u0026lt;part-name\u0026gt;]\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003esnapcraft build [\u0026lt;part-name\u0026gt;]\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003esnapcraft stage [\u0026lt;part-name\u0026gt;]\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003esnapcraft prime [\u0026lt;part-name\u0026gt;]\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003esnapcraft snap\u003c/code\u003e or \u003ccode\u003esnapcraft\u003c/code\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eNote that each command also executes the previous lifecycle steps, so \u003ccode\u003esnapcraft\u003c/code\u003e executes all the lifecycle steps chained together.\u003c/p\u003e\n\u003cp\u003eTo access the part environment at any stage, add the \u003ccode\u003e--shell\u003c/code\u003e argument. For example, \u003ccode\u003esnapcraft prime --shell\u003c/code\u003e will run up to the \u003cem\u003eprime\u003c/em\u003e step and open a shell. See \u003ca href=\"/t/iterating-over-a-build/12143\"\u003eIterating over a build\u003c/a\u003e for more details.\u003c/p\u003e\n\u003ch3 id=\"heading--step-dependencies\"\u003eStep dependencies\u003csup\u003e\u003ca href=\"#heading--step-dependencies\"\u003e⚓\u003c/a\u003e\u003c/sup\u003e\n\u003c/h3\u003e\n\u003cp\u003eEach lifecycle step depends on the completion of the previous step for that part, so to reach a desired step, all prior steps need to have successfully run. By default, \u003ccode\u003esnapcraft\u003c/code\u003e runs the same lifecycle step of all parts before moving to the next step. However, you can change this behavior using the \u003ccode\u003eafter\u003c/code\u003e keyword in the definition of a part in \u003ccode\u003esnapcraft.yaml\u003c/code\u003e. This creates a dependency chain from one part to another.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-yaml\"\u003e grv:\n    plugin: go\n    go-channel: 1.11/stable\n    after:\n      - libgit2\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIn the above example, the part named \u003ccode\u003egrv\u003c/code\u003e will be built after the part named \u003ccode\u003elibgit2\u003c/code\u003e has been successfully built \u003cem\u003eand\u003c/em\u003e staged.\u003c/p\u003e\n\u003ch3 id=\"heading--overriding-steps\"\u003eOverriding a step\u003csup\u003e\u003ca href=\"#heading--overriding-steps\"\u003e⚓\u003c/a\u003e\u003c/sup\u003e\n\u003c/h3\u003e\n\u003cp\u003eEach plugin defines the default actions that happen during a step. This behavior can be changed in two ways.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eBy using \u003ccode\u003eoverride-\u0026lt;step-name\u0026gt;\u003c/code\u003e in \u003ccode\u003esnapcraft.yaml\u003c/code\u003e. See \u003ca href=\"/t/scriptlets/4892\"\u003eOverriding steps\u003c/a\u003e for more details.\u003c/li\u003e\n\u003cli\u003eBy using a local plugin.  This can inherit the parent plugin or scaffolding from the original. See \u003ca href=\"/t/writing-local-plugins/5125\"\u003eLocal plugins\u003c/a\u003e for more details.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eSee \u003ca href=\"/t/parts-environment-variables/12271\"\u003eParts environment variables\u003c/a\u003e for a list of part-specific environment variables that can be accessed to help build a part.\u003c/p\u003e\n\u003ch3 id=\"heading--parts-directories\"\u003eParts directories\u003csup\u003e\u003ca href=\"#heading--parts-directories\"\u003e⚓\u003c/a\u003e\u003c/sup\u003e\n\u003c/h3\u003e\n\u003cp\u003eWhen running through its build steps, a part will use different working directories. These closely follow the step names for the lifecycle.\u003c/p\u003e\n\u003cdiv class=\"md-table\"\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eEnvironment variable\u003c/th\u003e\n\u003cth\u003eDirectory\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u003c/th\u003e\n\u003cth\u003ePurpose\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PART_SRC\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e\u003ccode\u003eparts/\u0026lt;part-name\u0026gt;/src\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003ethe location of the source during the \u003cem\u003epull\u003c/em\u003e step\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PART_BUILD\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e\u003ccode\u003eparts/\u0026lt;part-name\u0026gt;/build\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003ethe working directory during the \u003cem\u003ebuild\u003c/em\u003e step\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PART_INSTALL\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e\u003ccode\u003eparts/\u0026lt;part-name\u0026gt;/install\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003econtains the results of the \u003cem\u003ebuild\u003c/em\u003e step and the stage packages.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_STAGE\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e\u003ccode\u003estage\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eshared by all parts, this directory contains the development libraries, headers, and other components (e.g.; pkgconfig files) that need to be accessible from other parts\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eSNAPCRAFT_PRIME\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cstrong\u003e\u003ccode\u003eprime\u003c/code\u003e\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eshared by all parts, this directory holds the final components for the resulting snap.\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e\u003cp\u003eThe following table gives an overview of which directories each step uses. The directories are specified by their environment variables.\u003c/p\u003e\n\n\u003cdiv class=\"md-table\"\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eStep\u003c/th\u003e\n\u003cth\u003eExplanation\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003epull\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003edownloads and retrieves the sources specified by the \u003ca href=\"https://forum.snapcraft.io/t/snapcraft-parts-metadata/8336#heading--source\"\u003e\u003ccode\u003esource\u003c/code\u003e\u003c/a\u003e key and puts them in SNAPCRAFT_PART_\u003cstrong\u003eSRC\u003c/strong\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003ebuild\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003ebuilds the sources in SNAPCRAFT_PART_\u003cstrong\u003eBUILD\u003c/strong\u003e and places the result in SNAPCRAFT_PART_\u003cstrong\u003eINSTALL\u003c/strong\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eorganize\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003erenames built files in SNAPCRAFT_PART_\u003cstrong\u003eINSTALL\u003c/strong\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003estage\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003ecopies built files from SNAPCRAFT_PART_\u003cstrong\u003eINSTALL\u003c/strong\u003e to the shared SNAPCRAFT_\u003cstrong\u003eSTAGE\u003c/strong\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eprime\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003ecopies the \u003cem\u003estaged\u003c/em\u003e files from the shared SNAPCRAFT_\u003cstrong\u003eSTAGE\u003c/strong\u003e to the shared SNAPCRAFT_\u003cstrong\u003ePRIME\u003c/strong\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003esnap\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003epacks contents of SNAPCRAFT_\u003cstrong\u003ePRIME\u003c/strong\u003e into a snap and puts the snap in SNAPCRAFT_PROJECT_DIR\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","post_number":1,"post_type":1,"updated_at":"2022-02-15T11:36:11.717Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":229,"reads":56,"readers_count":55,"score":1140.8,"yours":false,"topic_id":12231,"topic_slug":"parts-lifecycle","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":34,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://forum.snapcraft.io/t/scriptlets/4892","internal":true,"reflection":false,"title":"Override build steps","clicks":9},{"url":"https://forum.snapcraft.io/t/snapcraft-plugins/4284","internal":true,"reflection":false,"title":"Snapcraft plugins","clicks":5},{"url":"https://forum.snapcraft.io/t/adding-parts/11473","internal":true,"reflection":false,"title":"Adding parts","clicks":4},{"url":"https://forum.snapcraft.io/t/snapcraft-overview/8940","internal":true,"reflection":false,"title":"Snapcraft overview","clicks":3},{"url":"https://forum.snapcraft.io/t/iterating-over-a-build/12143","internal":true,"reflection":false,"title":"Iterating over a build","clicks":3},{"url":"https://forum.snapcraft.io/t/writing-local-plugins/5125","internal":true,"reflection":false,"title":"Writing local plugins","clicks":3},{"url":"https://forum.snapcraft.io/t/the-snap-format/698","internal":true,"reflection":false,"title":"The snap format","clicks":2},{"url":"https://forum.snapcraft.io/t/the-meson-plugin/8623","internal":true,"reflection":false,"title":"The meson plugin","clicks":1},{"url":"https://forum.snapcraft.io/t/snapcraft-parts-metadata/8336","internal":true,"reflection":false,"title":"Snapcraft parts metadata","clicks":0},{"url":"https://forum.snapcraft.io/t/parts-environment-variables/12271","internal":true,"reflection":true,"title":"Parts environment variables","clicks":8},{"url":"https://forum.snapcraft.io/t/defining-a-command/12060","internal":true,"reflection":true,"title":"Defining a command","clicks":1},{"url":"https://forum.snapcraft.io/t/release-notes-snapcraft-4-4/20810","internal":true,"reflection":true,"title":"Release notes: Snapcraft 4.4","clicks":1},{"url":"https://forum.snapcraft.io/t/migrating-between-bases/23455","internal":true,"reflection":true,"title":"Migrating between bases","clicks":0},{"url":"https://forum.snapcraft.io/t/snapcraft-build-debug-and-publishing-docs-roadmap-page-breakdown/10366","internal":true,"reflection":true,"title":"Snapcraft build, debug and publishing docs roadmap (page breakdown)","clicks":0},{"url":"https://forum.snapcraft.io/t/snap-documentation/11127","internal":true,"reflection":true,"title":"Snap documentation","clicks":0},{"url":"https://forum.snapcraft.io/t/documentation-roadmap/8763","internal":true,"reflection":true,"title":"Documentation roadmap","clicks":0},{"url":"https://forum.snapcraft.io/t/snapcraft-offline-mode/27547","internal":true,"reflection":true,"title":"Snapcraft offline mode","clicks":0},{"url":"https://forum.snapcraft.io/t/snapcraft-lifecycle/5123","internal":true,"reflection":true,"title":"Snapcraft lifecycle","clicks":0},{"url":"https://forum.snapcraft.io/t/override-build-steps/4892","internal":true,"reflection":true,"title":"Override build steps","clicks":0},{"url":"https://forum.snapcraft.io/t/snapcraft-lifecycle/5123/5","internal":true,"reflection":true,"title":"Snapcraft lifecycle","clicks":0},{"url":"https://forum.snapcraft.io/t/desktop-files-for-menu-integration/13115","internal":true,"reflection":true,"title":"Desktop files for menu integration","clicks":0},{"url":"https://forum.snapcraft.io/t/gtk3-applications/13483","internal":true,"reflection":true,"title":"GTK3 applications","clicks":0},{"url":"https://forum.snapcraft.io/t/snapcraft-yaml-reference/4276","internal":true,"reflection":true,"title":"Snapcraft.yaml reference","clicks":0},{"url":"https://forum.snapcraft.io/t/troubleshoot-snap-building/11938","internal":true,"reflection":true,"title":"Troubleshoot snap building","clicks":0},{"url":"https://forum.snapcraft.io/t/snapcraft-filesets/8973","internal":true,"reflection":true,"title":"Snapcraft filesets","clicks":0},{"url":"https://forum.snapcraft.io/t/snapcraft-plugin-api/5124","internal":true,"reflection":true,"title":"Snapcraft plugin API","clicks":0},{"url":"https://forum.snapcraft.io/t/release-notes-snapcraft-3-0/10704","internal":true,"reflection":true,"title":"Release notes: Snapcraft 3.0","clicks":0},{"url":"https://forum.snapcraft.io/t/using-external-metadata/4642","internal":true,"reflection":true,"title":"Using external metadata","clicks":0},{"url":"https://forum.snapcraft.io/t/java-applications/7819","internal":true,"reflection":true,"title":"Java applications","clicks":0},{"url":"https://forum.snapcraft.io/t/part-after-changed-behavior/32600","internal":true,"reflection":true,"title":"Part \"after\" changed behavior","clicks":0},{"url":"https://forum.snapcraft.io/t/debug-snaps-with-snap-try/22938","internal":true,"reflection":true,"title":"Debug snaps with snap try","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":true,"last_wiki_edit":"2022-02-15T11:36:11.742Z","can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":87321,"name":"Michal Sawicz","username":"Saviq","avatar_template":"/user_avatar/forum.snapcraft.io/saviq/{size}/4377_2.png","created_at":"2021-02-18T15:08:20.978Z","cooked":"\u003cp\u003eThe keyword is \u003ccode\u003eorgani\u003c/code\u003e\u003cstrong\u003e\u003ccode\u003ez\u003c/code\u003e\u003c/strong\u003e\u003ccode\u003ee\u003c/code\u003e according to \u003ca href=\"https://snapcraft.io/docs/snapcraft-yaml-reference\" rel=\"noopener nofollow ugc\"\u003eSnapcraft reference\u003c/a\u003e, shouldn’t the step be the same?\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2021-02-18T15:08:20.978Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":19,"readers_count":18,"score":8.6,"yours":false,"topic_id":12231,"topic_slug":"parts-lifecycle","display_username":"Michal Sawicz","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://snapcraft.io/docs/snapcraft-yaml-reference","internal":false,"reflection":false,"clicks":1}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":493,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":87324,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2021-02-18T15:38:38.566Z","cooked":"\u003cp\u003eYou’re right - thanks for mentioning it. I’ve updated the spelling.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2021-02-18T15:38:38.566Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":0,"reads":16,"readers_count":15,"score":3.0,"yours":false,"topic_id":12231,"topic_slug":"parts-lifecycle","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Saviq","avatar_template":"/user_avatar/forum.snapcraft.io/saviq/{size}/4377_2.png"},"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":99774,"name":"Tao Wang","username":"twang2218","avatar_template":"/user_avatar/forum.snapcraft.io/twang2218/{size}/5235_2.png","created_at":"2021-09-24T10:57:59.910Z","cooked":"\u003cp\u003eIn the last table showing “which directories each step uses”, the step \u003cstrong\u003eprime\u003c/strong\u003e might have a wrong explanation:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ecopies the \u003cem\u003estaged\u003c/em\u003e files from SNAPCRAFT_PART_\u003cstrong\u003eINSTALL\u003c/strong\u003e to the shared SNAPCRAFT_\u003cstrong\u003ePRIME\u003c/strong\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eShould be replace with\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ecopies the \u003cem\u003estaged\u003c/em\u003e files from the shared SNAPCRAFT_\u003cstrong\u003eSTAGE\u003c/strong\u003e to the shared SNAPCRAFT_\u003cstrong\u003ePRIME\u003c/strong\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eBTW, is there any place that I’m missing to send a pull request of this document?\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2021-09-24T11:00:06.663Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":15,"readers_count":14,"score":7.8,"yours":false,"topic_id":12231,"topic_slug":"parts-lifecycle","display_username":"Tao Wang","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1271,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":99775,"name":"Graham Morrison","username":"degville","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","created_at":"2021-09-24T11:09:52.364Z","cooked":"\u003cp\u003eThanks so much for taking the trouble to let us know - I’ve updated the document. Leaving a comment is a great thing to do, but equally, everyone is also free to edit these documents directly.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2021-09-24T11:09:52.364Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":0,"reads":14,"readers_count":13,"score":2.6,"yours":false,"topic_id":12231,"topic_slug":"parts-lifecycle","display_username":"Graham Morrison","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"twang2218","avatar_template":"/user_avatar/forum.snapcraft.io/twang2218/{size}/5235_2.png"},"bookmarked":false,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":2772,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":122415,"name":"santiago","username":"santiagofn","avatar_template":"/user_avatar/forum.snapcraft.io/santiagofn/{size}/4193_2.png","created_at":"2023-04-15T17:49:47.296Z","cooked":"\u003cp\u003eShouldn’t this appear on the ToC on the left?\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2023-04-15T17:49:47.296Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":7,"readers_count":6,"score":1.2,"yours":false,"topic_id":12231,"topic_slug":"parts-lifecycle","display_username":"santiago","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":5729,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[51562,87321,87324,99774,99775,122415]},"timeline_lookup":[[1,1437],[2,847],[4,630],[6,61]],"suggested_topics":[{"id":32983,"title":"Snapcraft quickstart","fancy_title":"Snapcraft quickstart","slug":"snapcraft-quickstart","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":null,"created_at":"2022-12-07T10:11:58.985Z","last_posted_at":"2022-12-15T10:43:36.422Z","bumped":true,"bumped_at":"2022-12-15T10:43:08.332Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":6,"views":914,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":32228,"title":"Classic linter","fancy_title":"Classic linter","slug":"classic-linter","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-10-18T17:22:41.599Z","last_posted_at":"2022-10-19T13:02:49.311Z","bumped":true,"bumped_at":"2022-10-19T13:02:49.311Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":2,"views":920,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":3793,"username":"cmatsuoka","name":"Claudio Matsuoka","avatar_template":"/user_avatar/forum.snapcraft.io/cmatsuoka/{size}/9338_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":393,"username":"jamesh","name":"James Henstridge","avatar_template":"/user_avatar/forum.snapcraft.io/jamesh/{size}/3947_2.png"}}]},{"id":32229,"title":"Library linter","fancy_title":"Library linter","slug":"library-linter","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-10-18T17:35:43.980Z","last_posted_at":"2022-10-19T03:00:57.683Z","bumped":true,"bumped_at":"2022-10-19T03:00:57.683Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":3,"views":793,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":3793,"username":"cmatsuoka","name":"Claudio Matsuoka","avatar_template":"/user_avatar/forum.snapcraft.io/cmatsuoka/{size}/9338_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":393,"username":"jamesh","name":"James Henstridge","avatar_template":"/user_avatar/forum.snapcraft.io/jamesh/{size}/3947_2.png"}}]},{"id":34629,"title":"Release notes: Snapcraft 7.3","fancy_title":"Release notes: Snapcraft 7.3","slug":"release-notes-snapcraft-7-3","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2023-04-05T17:27:18.665Z","last_posted_at":"2023-04-05T17:27:18.809Z","bumped":true,"bumped_at":"2023-04-05T17:27:18.809Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":0,"views":235,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}}]},{"id":31050,"title":"Snapcraft Explanation guides","fancy_title":"Snapcraft Explanation guides","slug":"snapcraft-explanation-guides","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-07-27T11:41:43.445Z","last_posted_at":"2023-04-05T12:22:13.234Z","bumped":true,"bumped_at":"2023-04-05T12:22:13.234Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags":[],"like_count":2,"views":1139,"category_id":15,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":11710,"username":"rpjday","name":"Robert P. J. Day","avatar_template":"/user_avatar/forum.snapcraft.io/rpjday/{size}/8457_2.png"}}]}],"tags":[],"id":12231,"title":"Parts lifecycle","fancy_title":"Parts lifecycle","posts_count":6,"created_at":"2019-07-10T12:56:46.006Z","views":7193,"reply_count":2,"like_count":0,"last_posted_at":"2023-04-15T17:49:47.296Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"parts-lifecycle","category_id":15,"word_count":1434,"deleted_at":null,"user_id":2772,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_12231","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":6,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"topic_timer":null,"message_bus_last_id":1,"participant_count":4,"show_read_indicator":false,"thumbnails":null,"details":{"notification_level":1,"participants":[{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png","post_count":3,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":493,"username":"Saviq","name":"Michal Sawicz","avatar_template":"/user_avatar/forum.snapcraft.io/saviq/{size}/4377_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":1271,"username":"twang2218","name":"Tao Wang","avatar_template":"/user_avatar/forum.snapcraft.io/twang2218/{size}/5235_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":5729,"username":"santiagofn","name":"santiago","avatar_template":"/user_avatar/forum.snapcraft.io/santiagofn/{size}/4193_2.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"created_by":{"id":2772,"username":"degville","name":"Graham Morrison","avatar_template":"/user_avatar/forum.snapcraft.io/degville/{size}/2021_2.png"},"last_poster":{"id":5729,"username":"santiagofn","name":"santiago","avatar_template":"/user_avatar/forum.snapcraft.io/santiagofn/{size}/4193_2.png"},"links":[{"url":"https://forum.snapcraft.io/t/scriptlets/4892","title":"Override build steps","internal":true,"attachment":false,"reflection":false,"clicks":9,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/parts-environment-variables/12271","title":"Parts environment variables","internal":true,"attachment":false,"reflection":true,"clicks":8,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/snapcraft-plugins/4284","title":"Snapcraft plugins","internal":true,"attachment":false,"reflection":false,"clicks":5,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/adding-parts/11473","title":"Adding parts","internal":true,"attachment":false,"reflection":false,"clicks":4,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/snapcraft-overview/8940","title":"Snapcraft overview","internal":true,"attachment":false,"reflection":false,"clicks":3,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/iterating-over-a-build/12143","title":"Iterating over a build","internal":true,"attachment":false,"reflection":false,"clicks":3,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/writing-local-plugins/5125","title":"Writing local plugins","internal":true,"attachment":false,"reflection":false,"clicks":3,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/the-snap-format/698","title":"The snap format","internal":true,"attachment":false,"reflection":false,"clicks":2,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/defining-a-command/12060","title":"Defining a command","internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/the-meson-plugin/8623","title":"The meson plugin","internal":true,"attachment":false,"reflection":false,"clicks":1,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://snapcraft.io/docs/snapcraft-yaml-reference","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":493,"domain":"snapcraft.io","root_domain":"snapcraft.io"},{"url":"https://forum.snapcraft.io/t/release-notes-snapcraft-4-4/20810","title":"Release notes: Snapcraft 4.4","internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":2772,"domain":"forum.snapcraft.io","root_domain":"snapcraft.io"}]}}